(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cb553e86","chunk-176b6dca"],{"2f21":function(e,t,a){"use strict";var o=a("79e5");e.exports=function(e,t){return!!e&&o((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"2fdb":function(e,t,a){"use strict";var o=a("5ca1"),r=a("d2c8"),s="includes";o(o.P+o.F*a("5147")(s),"String",{includes:function(e){return!!~r(this,e,s).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"32e5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEI1MEFBOEZDRDU3MTFFQThGREVDNjRGNkE4ODZCMDMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEI1MEFBOTBDRDU3MTFFQThGREVDNjRGNkE4ODZCMDMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0QjUwQUE4RENENTcxMUVBOEZERUM2NEY2QTg4NkIwMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0QjUwQUE4RUNENTcxMUVBOEZERUM2NEY2QTg4NkIwMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pshh+qkAAAEGSURBVHjaXNHPKgVxFMDxmWlWLPxfYEW8wb1lI2JJ3c1lwQNYKJZWVjyASPICJDcldrKYtVdQV9koU6zYKL5H3ylm6lO/Oef85nfm/NLvvW7i04MtrGHYWIkzHOIjApmJKTxgFC2MqWUscpNRmKMX19jFVfL/ieO30cYNmrlt3Fk8gXe8uWEA/ehgNmozez6wYAYFRlQYS6xZjxMG8WTw3C8Wvh8Zq9obihPSWt9xfJ86tdzvT5f23rWNe+ybj/UiXp1SmXIPOyzG/flNfOHUDRuO/sT2nnMXMecVHNc6qDauYgGN3Btcxi3mnMajhdPewzyW8Jn9mUDDaV3iRRfmmtUkfwQYAGXkO6OzygjYAAAAAElFTkSuQmCC"},3846:function(e,t,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"4a8a":function(e,t,a){},5147:function(e,t,a){var o=a("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[o]=!1,!"/./"[e](t)}catch(r){}}return!0}},"55dd":function(e,t,a){"use strict";var o=a("5ca1"),r=a("d8e8"),s=a("4bf8"),i=a("79e5"),n=[].sort,c=[1,2,3];o(o.P+o.F*(i((function(){c.sort(void 0)}))||!i((function(){c.sort(null)}))||!a("2f21")(n)),"Array",{sort:function(e){return void 0===e?n.call(s(this)):n.call(s(this),r(e))}})},"5dbc":function(e,t,a){var o=a("d3f4"),r=a("8b97").set;e.exports=function(e,t,a){var s,i=t.constructor;return i!==a&&"function"==typeof i&&(s=i.prototype)!==a.prototype&&o(s)&&r&&r(e,s),e}},6762:function(e,t,a){"use strict";var o=a("5ca1"),r=a("c366")(!0);o(o.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"6b54":function(e,t,a){"use strict";a("3846");var o=a("cb7c"),r=a("0bfb"),s=a("9e1e"),i="toString",n=/./[i],c=function(e){a("2aba")(RegExp.prototype,i,e,!0)};a("79e5")((function(){return"/a/b"!=n.call({source:"a",flags:"b"})}))?c((function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!s&&e instanceof RegExp?r.call(e):void 0)})):n.name!=i&&c((function(){return n.call(this)}))},"8b97":function(e,t,a){var o=a("d3f4"),r=a("cb7c"),s=function(e,t){if(r(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{o=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),o(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,a){return s(e,a),t?e.__proto__=a:o(e,a),e}}({},!1):void 0),check:s}},a558:function(e,t,a){"use strict";a("4a8a")},aa77:function(e,t,a){var o=a("5ca1"),r=a("be13"),s=a("79e5"),i=a("fdef"),n="["+i+"]",c="​",l=RegExp("^"+n+n+"*"),u=RegExp(n+n+"*$"),h=function(e,t,a){var r={},n=s((function(){return!!i[e]()||c[e]()!=c})),l=r[e]=n?t(m):i[e];a&&(r[a]=l),o(o.P+o.F*n,"String",r)},m=h.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=h},aae3:function(e,t,a){var o=a("d3f4"),r=a("2d95"),s=a("2b4c")("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==r(e))}},becf:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODhDRDM4ODVDRDU1MTFFQThGREVDNjRGNkE4ODZCMDMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODhDRDM4ODZDRDU1MTFFQThGREVDNjRGNkE4ODZCMDMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4OENEMzg4M0NENTUxMUVBOEZERUM2NEY2QTg4NkIwMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4OENEMzg4NENENTUxMUVBOEZERUM2NEY2QTg4NkIwMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pio4LfMAAAB6SURBVHjaYmQo/f+fgUTAAoQM/9sYGInVwFjF8J8JpIlEaxiYGNhI1MQG0sROoiZ2sm3iIFETB8hbQOsYyxiID3YtELHsPwgwEItB6hkZ1mJE7hcg5sHDZ8A0aQuqzeh8EGbCFjp4+aBU8R/qOsb9hAPjvyMkuQEEGABKVl6SZq3CDAAAAABJRU5ErkJggg=="},c5f6:function(e,t,a){"use strict";var o=a("7726"),r=a("69a8"),s=a("2d95"),i=a("5dbc"),n=a("6a99"),c=a("79e5"),l=a("9093").f,u=a("11e9").f,h=a("86cc").f,m=a("aa77").trim,p="Number",d=o[p],g=d,f=d.prototype,v=s(a("2aeb")(f))==p,b="trim"in String.prototype,w=function(e){var t=n(e,!1);if("string"==typeof t&&t.length>2){t=b?t.trim():m(t,3);var a,o,r,s=t.charCodeAt(0);if(43===s||45===s){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===s){switch(t.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+t}for(var i,c=t.slice(2),l=0,u=c.length;l<u;l++)if(i=c.charCodeAt(l),i<48||i>r)return NaN;return parseInt(c,o)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof d&&(v?c((function(){f.valueOf.call(a)})):s(a)!=p)?i(new g(w(t)),a,d):w(t)};for(var A,I=a("9e1e")?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;I.length>N;N++)r(g,A=I[N])&&!r(d,A)&&h(d,A,u(g,A));d.prototype=f,f.constructor=d,a("2aba")(o,p,d)}},d2c8:function(e,t,a){var o=a("aae3"),r=a("be13");e.exports=function(e,t,a){if(o(t))throw TypeError("String#"+a+" doesn't accept regex!");return String(r(e))}},de10:function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTNDRkE3QUEzRTE0MTFFQzk0Q0VFMDE5NDg0MTREMkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTNDRkE3QUIzRTE0MTFFQzk0Q0VFMDE5NDg0MTREMkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QTNFMURGRjNFMEExMUVDOTRDRUUwMTk0ODQxNEQyRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QTNFMUUwMDNFMEExMUVDOTRDRUUwMTk0ODQxNEQyRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv7rwLIAAAHwSURBVHjafJQ9SBxBFIDf3O4pqN2FFIKNKKQRFAL5gyiI2GhhZWEVUkhEWwMSyBECOXtJFRIhaWxstTubBDkERSsxCJaapPGqK2T8Zvbt3txmdY5v5703b968t/dmjbVWzKqEw8BzeAkj8EDtf+CE1TpzA2y6wa6LxNlW46UheKtzZ2iRfmUazqCG/Tx1Kfln5KVnzBsw5PWUOJDbtmH4jPzY65JmFPsM3kN3kMEl/IBDuMY2wDyvJTsf5/sRluDcSNUajF9QBoNSLniuQNNrSeD0nayhTwWFn6EvlqQsL8ho0OdWVmL5Bk3kGdhB3oVXuv7d+7b9XZlPXKCJIEC6eAwG/Q1zN3TBvK5dZ/5tJmKcRzX18B/azulunKr8KGd3YyzmrErBprz+C7mmOb/+z9fIw9indn+QPeQPalmD4YIKxAX6h1K5I4iTv+o/tgyTRUEYV660I+9QHER8D4n0wcwdQdw4dBntZYGKy9tUreueQHUX6KfrzKwhO51dQy7oVdpC7yk4yN27RsnOUX9ZPkEr10vJG4zZXJZeiHKN6OQW1OysWOM/I7s+8lOo6h0Kx42eHOUyacE7OLBT6e1PTtqHZdx/ZycnRP4X2iKaM+KyRnKg116SjOoddRvNbrzjw2bkL89j31f5DxuetwIMAMntWzVm+dHQAAAAAElFTkSuQmCC"},f541:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"role_wrap"},[o("div",{staticClass:"com_title"},[o("div",{staticClass:"c_titles"},[e._m(0),o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",[e._v("系统设置")]),o("el-breadcrumb-item",[e._v("角色管理")])],1)],1)]),o("div",{staticClass:"tables_box"},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.passInit,expression:"passInit"}],class:["pass_init",{pass_act:e.passInitAfter}]},[o("img",{staticClass:"pass_icon",attrs:{src:a("becf"),alt:""}}),e._m(1),o("img",{staticClass:"pass_close",attrs:{src:a("586c"),alt:""}})]),o("div",{staticClass:"search_title center_o_title"},[e._v("\n      列表\n    ")]),o("div",{staticClass:"el_btn_box"},[o("div",{staticStyle:{display:"flex"}},[o("el-form",{ref:"roleForm",staticClass:"search_form",attrs:{inline:!0,model:e.roleForms}},[o("el-form-item",{attrs:{label:"角色:",prop:"name"}},[o("el-input",{attrs:{placeholder:"请输入角色"},on:{blur:e.roleChange},model:{value:e.roleForms.name,callback:function(t){e.$set(e.roleForms,"name",t)},expression:"roleForms.name"}},[o("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},on:{click:e.roleChange},slot:"prefix"})])],1)],1),o("div",{staticClass:"el_tip",on:{click:e.helpTips}},[o("img",{attrs:{src:a("de10"),alt:""}}),e._v("\n          帮助提示\n        ")])],1),o("div",{staticStyle:{display:"flex"}},[e.power1?o("div",{staticClass:"el_one"},[o("el-button",{staticClass:"el_btn_one",attrs:{type:"primary"},on:{click:function(t){return e.addRole("新增")}}},[o("i",{staticClass:"iconfont icon-jiahao"}),e._v("\n            新增角色\n          ")])],1):e._e(),e.power7?o("div",{staticClass:"el_two"},[o("el-button",{staticClass:"el_btn_two",attrs:{type:"primary"},on:{click:function(t){return e.someDelete("所选")}}},[o("i",{staticClass:"iconfont icon-shanchu1"}),e._v("\n            批量删除\n          ")])],1):e._e()])]),[o("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection"}}),o("el-table-column",{attrs:{prop:"index",label:"序号",index:e.indexMethod}}),o("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),o("el-table-column",{attrs:{prop:"memberNum",label:"成员数量"}}),o("el-table-column",{attrs:{prop:"roleAuthNotice",label:"角色描述"}}),o("el-table-column",{attrs:{prop:"updateTime",label:"更新时间"}}),o("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-switch",{attrs:{disabled:!e.power2||"superAdministrator"==t.row.roleID},on:{change:function(a){return e.statusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.power6||e.power4||e.power3||e.power5?e._e():o("span",[e._v("暂无权限")]),e.power3?o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.lookGroup(t.row)}}},[e._v("查看成员")]):e._e(),e.power4?o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.powerSet(t.row)}}},[e._v("权限设置")]):e._e(),e.power5?o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.addRole("编辑",t.row)}}},[e._v("编辑")]):e._e(),e.power6&&"superAdministrator"!=t.row.roleID?o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.roleDelete(t.row)}}},[e._v("删除")]):e._e(),e.power6&&"superAdministrator"==t.row.roleID?o("el-button",{staticStyle:{color:"#ccc !important"},attrs:{type:"text",size:"small"}},[e._v("删除")]):e._e()]}}])})],1)],o("div",{staticClass:"table_page"},[o("div",{staticClass:"page_total"},[e._v("\n        共 "),o("span",[e._v(e._s(e.total))]),e._v(" 条 , 第\n        "),o("span",[e._v(e._s(e.currentPage)+"/"+e._s(e.pageNum))]),e._v(" 页\n      ")]),o("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.limit,layout:"prev, pager, next, sizes, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],2),o("el-dialog",{staticClass:"fix_pass add_role",attrs:{"close-on-click-modal":!1,title:e.isAddFlage?"新增角色":"编辑角色",visible:e.dialogAddRole},on:{"update:visible":function(t){e.dialogAddRole=t}}},[o("el-form",{ref:"roleForm",attrs:{model:e.roleForm}},[o("el-form-item",{attrs:{required:"",label:"角色名称:"}},[o("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.roleForm.name,callback:function(t){e.$set(e.roleForm,"name",t)},expression:"roleForm.name"}}),o("div",{directives:[{name:"show",rawName:"v-show",value:e.addNameOne,expression:"addNameOne"}],staticClass:"tip_left"},[o("div",{staticClass:"tip_msg",staticStyle:{width:"2rem"}},[o("img",{attrs:{src:a("32e5"),alt:""}}),e._v("\n            请输入角色名称\n          ")])])],1),o("el-form-item",{attrs:{required:"",label:"角色描述:"}},[o("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容",maxlength:"200","show-word-limit":""},model:{value:e.roleForm.roleAuthNotice,callback:function(t){e.$set(e.roleForm,"roleAuthNotice",t)},expression:"roleForm.roleAuthNotice"}}),o("div",{directives:[{name:"show",rawName:"v-show",value:e.addMarkOne,expression:"addMarkOne"}],staticClass:"tip_left"},[o("div",{staticClass:"tip_msg",staticStyle:{width:"2rem"}},[o("img",{attrs:{src:a("32e5"),alt:""}}),e._v("\n            请输入内容\n          ")])])],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"superAdministrator"!=e.roleForm.roleID,expression:"roleForm.roleID != 'superAdministrator'"}]},[o("div",{staticClass:"copy_role"},[o("el-checkbox",{staticStyle:{"margin-right":"0.06rem","margin-top":"-0.04rem"},model:{value:e.roleForm.copy,callback:function(t){e.$set(e.roleForm,"copy",t)},expression:"roleForm.copy"}}),o("span",[e._v("复制")]),o("section",[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.roleForm.inheritRoleID,callback:function(t){e.$set(e.roleForm,"inheritRoleID",t)},expression:"roleForm.inheritRoleID"}},e._l(e.listData,(function(e){return o("el-option",{key:e.roleID,attrs:{label:e.roleName,value:e.roleID}})})),1)],1),o("span",[e._v("的角色权限")])],1)])],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogAddRole=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.addRoleSub}},[e._v("确 定")])],1)],1),o("el-dialog",{staticClass:"fix_pass look_group",attrs:{"close-on-click-modal":!1,title:"查看成员",visible:e.dialogGroup},on:{"update:visible":function(t){e.dialogGroup=t}}},[o("div",{staticClass:"group_box"},[o("div",{staticClass:"el_btn_box"},[o("div",{staticClass:"el_one"},[o("el-button",{staticClass:"el_btn_one",attrs:{type:"primary"},on:{click:e.addMember}},[o("i",{staticClass:"iconfont icon-jiahao"}),e._v("\n            添加成员\n          ")])],1)]),o("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.memberData},on:{"sort-change":e.sortChange}},[o("el-table-column",{attrs:{prop:"name",label:"姓名"}}),o("el-table-column",{attrs:{prop:"passport",label:"登录账号"}}),o("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["administrator"!=t.row.passport?o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.memberDelete(t.row)}}},[e._v("删除")]):e._e(),"administrator"==t.row.passport?o("el-button",{staticStyle:{color:"#ccc !important"},attrs:{type:"text",size:"small"}},[e._v("删除")]):e._e()]}}])})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogGroup=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogGroup=!1}}},[e._v("确 定")])],1)]),o("el-dialog",{staticClass:"fix_pass look_group",attrs:{"close-on-click-modal":!1,title:"添加成员",visible:e.dialogGroupAdd},on:{"update:visible":function(t){e.dialogGroupAdd=t}}},[o("div",{staticClass:"group_box"},[o("div",{staticClass:"member_box"},[o("div",{staticClass:"mem_main"},[o("div",{staticClass:"mm_top"},[o("i",{staticClass:"iconfont icon-wode"}),e._v("\n            选择成员\n          ")]),o("div",{staticClass:"mem_ul"},[o("el-input",{staticClass:"mem_input",attrs:{placeholder:"输入成员姓名","suffix-icon":"el-icon-search"},on:{input:e.getTeacher},model:{value:e.memberName,callback:function(t){e.memberName=t},expression:"memberName"}}),o("el-checkbox-group",{on:{change:e.teacherChange},model:{value:e.teacherIds,callback:function(t){e.teacherIds=t},expression:"teacherIds"}},[o("ul",e._l(e.teacherData,(function(t){return o("li",{key:t.passport},[o("el-checkbox",{attrs:{label:t.passport}},[e._v(e._s(t.name))])],1)})),0)])],1)]),o("div",{staticClass:"mem_center"},[o("div",[o("div",{staticClass:"mem_c_bg",on:{click:e.putRight}},[o("div",{staticClass:"mem_cb"},[e._v("\n                加入右侧\n                "),o("i",{staticClass:"el-icon-right"})])]),o("div",{staticClass:"mem_c_bg",on:{click:e.putLeft}},[o("div",{staticClass:"mem_cb"},[o("i",{staticClass:"el-icon-back"}),e._v("\n                加入左侧\n              ")])])])]),o("div",{staticClass:"mem_main"},[o("div",{staticClass:"mm_top mm_tops"},[o("div",[e._v("\n              已选"),o("span",[e._v(e._s(e.teacherNew.length))]),e._v("条\n            ")]),o("div",{on:{click:e.putClear}},[e._v("清空")])]),o("div",{staticClass:"mem_ul"},[o("ul",e._l(e.teacherNew,(function(t,a){return o("li",{key:t.passport,class:{mmli_check:t.check},on:{click:function(o){return e.checkback(a,t)}}},[o("div",[e._v(e._s(t.name))])])})),0)])])])]),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogGroupAdd=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.addGroup}},[e._v("确 定")])],1)])],1)},r=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"com_cir"},[o("img",{attrs:{src:a("becf"),alt:""}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pass_txt"},[a("p",[e._v("密码初始化成功！")]),a("p",[e._v("初始密码为："),a("span",[e._v("登录账号后6位")])])])}],s=(a("6b54"),a("a481"),a("c5f6"),a("55dd"),a("6762"),a("2fdb"),a("7f7f"),a("e86e")),i={name:"report",data:function(){this.$createElement;var e=function(e){for(var t=[],a=1;a<=15;a++)t.push({key:a,label:"备选项 ".concat(a)});return t};return{power1:!1,power2:!1,power3:!1,power4:!1,power5:!1,power6:!1,power7:!1,roleForms:{name:""},teacherData:[],teacherIds:[],teacherNew:[],memberName:"",dialogGroupAdd:!1,data:e(),value:[1],renderFunc:function(e,t){return e("span",[t.label])},dialogGroup:!1,isAddFlage:!0,addNameOne:!1,addMarkOne:!1,dialogAddRole:!1,roleForm:{roleID:"",name:"",roleAuthNotice:"",status:"",roleAuthID:"",inheritRoleID:"",remark:"",copy:!1,role:""},cancel:0,passInit:!1,passInitAfter:!1,tabActive:1,limit:10,total:0,pageNum:1,currentPage:1,passForm:{newPass:"",twoPass:""},newPassFlag:!1,newRight1:!1,newRight2:!1,newRight3:!1,twoPassFlag:!1,formSearch:{name:"",cardNumber:"",account:"",status:""},listData:[],tableData:[],memberData:[],checkList:[],roleName:"",cancelFlag:!1,cancelName:""}},created:function(){},mounted:function(){this.powerData(),this.getInit(),this.getList(this.currentPage)},methods:{roleChange:function(e){this.roleName=this.roleForms.name,this.getList(1)},indexMethod:function(e){var t=this;return e+1+t.limit*(this.currentPage-1)},powerData:function(){var e=JSON.parse(localStorage.getItem("userAuth")).menuAuthID;this.power1=e.includes(50401),this.power2=e.includes(50402),this.power3=e.includes(50403),this.power4=e.includes(50404),this.power5=e.includes(50405),this.power6=e.includes(50406),this.power7=e.includes(50407)},addGroup:function(){var e=this,t=this,a=[];for(var o in t.teacherNew)a.push({passport:t.teacherNew[o].passport});var r={roleID:t.roleID,roleName:t.roleName,passports:a};t.$http.post(s["a"]+"/aimw/role/addMembers",r).then((function(a){var o=a.data;0==o.code?(t.dialogGroupAdd=!1,e.memberName="",t.sLookGroup(),e.getList(e.currentPage),e.$message.success("添加成功！")):e.$message.error(o.msg)})).catch((function(e){console.log(e)}))},teacherChange:function(e){this.teacherIds=e},putRight:function(){var e=this,t=[];for(var a in this.teacherData)t.push(this.teacherData[a]);for(var o in t)for(var r in e.teacherIds)e.teacherIds[r]==t[o].passport&&(t[o].check=!1,e.teacherNew.push(t[o]),t.splice(o,1,""));for(var s=0;s<t.length;s++)""==t[s]&&(t.splice(s,1),s-=1);e.teacherData=t,e.teacherNew=e.teacherNew.sort((function(e,t){return e.index-t.index}))},checkback:function(e,t){this.teacherNew[e].check=!this.teacherNew[e].check},putLeft:function(){var e=this.teacherData,t=[],a=[];for(var o in this.teacherNew)t.push(this.teacherNew[o]),a.push(this.teacherNew[o]);for(var r in a)a[r].check&&(e.push(t[r]),t.splice(r,1,""));for(var s=0;s<t.length;s++)""==t[s]&&(t.splice(s,1),s-=1);for(var i in this.teacherData=e.sort((function(e,t){return e.index-t.index})),this.teacherNew=t,this.teacherNew)this.teacherIds.push(this.teacherNew[i].passport)},putClear:function(){var e=this.teacherNew,t=this.teacherData;this.teacherData=t.concat(e).sort((function(e,t){return e.index-t.index})),this.teacherNew=[]},getInit:function(){var e=this;e.$http.get(s["a"]+"/aimw/role/listRolesInfo").then((function(t){var a=t.data.data;0==t.data.code?e.listData=a?a.results:[]:e.$message.error(t.data.msg)})).catch((function(t){e.$message.error(t.data.msg)}))},getTeacher:function(){var e=this,t={limit:1e4,name:e.memberName};this.$http.get(s["a"]+"/aimw/manager/listManagersInfo",{params:t}).then((function(t){var a=t.data.data.results;for(var o in e.teacherNew)for(var r in a)a[r]&&a[r].passport==e.teacherNew[o].passport&&(a.splice(r,1),r-=1);for(var s in e.dialogGroupAdd=!0,a)a[s].check=!1,a[s].index=s;for(var i in e.memberData)for(var n in a)a[n]&&a[n].passport==e.memberData[i].passport&&(a.splice(n,1),n-=1);for(var c in a)"administrator"==a[c].passport&&a.splice(c,1);e.teacherData=a}))},getList:function(e){var t=this,a={currentPage:e,pageSize:t.limit,roleName:t.roleForms.name};t.currentPage=e,t.$http.get(s["a"]+"/aimw/role/listRolesInfo",{params:a}).then((function(e){var a=e.data.data;if(0==e.data.code)if(a){for(var o in a.results)a.results[o].index=Number(o)+Number((t.currentPage-1)*t.limit+1),1==a.results[o].status?a.results[o].status=!0:a.results[o].status=!1;t.tableData=a.results,t.total=a.count,t.pageNum=0==a.count?1:Math.ceil(a.count/t.limit)}else t.tableData=[],t.total=0,t.pageNum=1;else t.$message.error(e.data.msg)})).catch((function(e){t.$message.error(e.data.msg)}))},powerSet:function(e){localStorage.setItem("powerDetail",JSON.stringify(e)),this.$router.push({name:"power"})},addMember:function(){this.teacherIds=this.teacherData=this.teacherNew=[],this.getTeacher()},helpTips:function(){this.$confirm('<div class="confirm_box confirm_box1"><p><span>角色代表操作权限和数据权限，操作权限是指具有该角色的用户是否能查看、新增、编辑、删除某些数据，数据权限是指具有该角色的用户能操作的数据的范围；</span></p><p class="p2"><span>超级管理员的权限是系统默认的最大权限的角色，不能修改。</span></p><p class="p3"><span>需要删除角色时必须先清除该职务下的所有成员。</span></p></div>',"帮助提示",{showCancelButton:!1,dangerouslyUseHTMLString:!0,confirmButtonText:"关闭"}).then((function(){})).catch((function(){}))},lookGroup:function(e){var t=this;t.memberData=[],t.roleID=e.roleID,t.roleName=e.roleName,t.dialogGroup=!0;var a={roleID:e.roleID};t.$http.get(s["a"]+"/aimw/role/listMembers",{params:a}).then((function(e){var a=e.data;0==a.code?(t.dialogGroup=!0,t.memberData=a.data):t.errorMsg=a.msg})).catch((function(e){console.log(e)}))},sLookGroup:function(){var e=this;e.dialogGroup=!0;var t={roleID:e.roleID};e.$http.get(s["a"]+"/aimw/role/listMembers",{params:t}).then((function(t){var a=t.data;0==a.code?(e.dialogGroup=!0,e.memberData=a.data):e.errorMsg=a.msg})).catch((function(e){console.log(e)}))},statusChange:function(e){var t=this,a=this,o={},r="/aimw/role/updateRoleInfo";o={roleID:e.roleID,roleName:e.roleName,roleAuthNotice:e.roleAuthNotice,inheritRoleID:e.inheritRoleID,cancel:0},e.status?o.status=1:o.status=0,a.$http.put(s["a"]+r,o).then((function(e){var a=e.data;0==a.code?(t.dialogAddRole=!1,t.resetForm("roleForm"),t.$message.success(1==o.status?"已启用！":"已停用！")):t.$message.error(a.msg)})).catch((function(e){console.log(e)}))},addRole:function(e,t){var a=this;this.getInit(),t?(t.status?a.roleForm.status=1:a.roleForm.status=0,""!=t.inheritRoleID?(a.roleForm.copy=!0,a.cancelFlag=!0):(a.roleForm.copy=!1,a.cancelFlag=!1),a.cancelName=t.inheritRoleID,a.roleForm.roleID=t.roleID,a.roleForm.name=t.roleName,a.roleForm.roleAuthNotice=t.roleAuthNotice,a.roleForm.inheritRoleID=t.inheritRoleID):a.roleForm={roleID:"",name:"",roleAuthNotice:"",status:"",roleAuthID:"",inheritRoleID:"",remark:"",copy:!1,role:""},this.dialogAddRole=!0,this.addNameOne=this.addMarkOne=!1,this.isAddFlage="新增"==e},generateUUID:function(){var e=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(e+=performance.now());var t="xxxxxxxxxxxxwxxxyxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:3&a|8).toString(16)}));return t},resetForm:function(e){this.$refs[e].resetFields()},someDelete:function(){var e=this;if(0==this.checkList.length)return this.$message({type:"warning",message:"没有选择要删除的角色!"}),!1;var t=[],a=0;for(var o in this.checkList)0!=this.checkList[o].memberNum&&a++,t.push({roleID:this.checkList[o].roleID});0==a?this.$confirm('<div class="confirm_box"><p>确定要删除所选角色？</p><p class="con_p2">删除后不可恢复</p></div>',"提示",{dangerouslyUseHTMLString:!0,cancelButtonText:"取消",confirmButtonText:"确定"}).then((function(){e.$http.delete(s["a"]+"/aimw/role/deleteRoles",{data:t}).then((function(t){var a=t.data;0==a.code?(e.$message({type:"success",message:"删除成功!"}),e.getList(e.currentPage)):e.$message({type:"error",message:"删除失败!"})}))})).catch((function(){})):this.$confirm('<div class="confirm_box"><p>角色无法删除</p><p class="con_p2">所选角色中有成员,无法删除</p></div>',"提示",{dangerouslyUseHTMLString:!0,showCancelButton:!1,confirmButtonText:"知道了"}).then((function(){})).catch((function(){}))},addRoleSub:function(){var e=this,t=this;if(this.addNameOne=this.addMarkOne=!1,""==this.roleForm.name)return this.addNameOne=!0,!1;if(""==this.roleForm.roleAuthNotice)return this.addMarkOne=!0,!1;var a={},o="";if(t.isAddFlage)a=this.roleForm.copy?{roleName:this.roleForm.name,roleAuthNotice:this.roleForm.roleAuthNotice,inheritRoleID:this.roleForm.inheritRoleID}:{roleName:this.roleForm.name,roleAuthNotice:this.roleForm.roleAuthNotice,inheritRoleID:""},a.status=1,a.roleID=t.generateUUID(),o="/aimw/role/addRole",t.$http.post(s["a"]+o,a).then((function(t){var a=t.data;0==a.code?(e.dialogAddRole=!1,e.resetForm("roleForm"),e.getList(1),e.$message.success("新增成功！")):e.$message.error(a.msg)})).catch((function(e){console.log(e)}));else{var r=0;if(r=this.cancelFlag?this.roleForm.copy?this.roleForm.inheritRoleID==this.cancelName?0:1:2:this.roleForm.copy?1:0,console.log(this.roleForm.inheritRoleID),this.roleForm.copy){if(""==this.roleForm.inheritRoleID)return this.$message.warning("请选选择要复制角色权限"),!1;a={roleName:this.roleForm.name,roleAuthNotice:this.roleForm.roleAuthNotice,inheritRoleID:this.roleForm.inheritRoleID}}else a={roleName:this.roleForm.name,roleAuthNotice:this.roleForm.roleAuthNotice,inheritRoleID:""};a.status=t.roleForm.status,a.roleID=t.roleForm.roleID,a.cancel=r,o="/aimw/role/updateRoleInfo",t.$http.put(s["a"]+o,a).then((function(t){var a=t.data;0==a.code?(e.dialogAddRole=!1,e.resetForm("roleForm"),e.getList(1),e.$message.success("更新成功！")):e.$message.error(a.msg)})).catch((function(e){console.log(e)}))}},addTeacher:function(){this.$router.push({name:"addteacher"})},batchTeacher:function(){this.$router.push({name:"batchteacher"})},fixPass:function(e){this.passForm={newPass:"",twoPass:""},this.newRight1=this.newRight2=this.newRight3=this.newPassFlag=this.twoPassFlag=!1,this.twoPassFlag=!1,this.dialogFixPass=!0},newChange:function(e){var t=this;-1!=e.indexOf("123456")?this.newRight1=!0:this.newRight1=!1,-1!=e.indexOf("123456wt")?this.newRight2=!0:this.newRight2=!1,-1!=e.indexOf("123456wt...")?(this.newRight3=!0,setTimeout((function(){t.newPassFlag=!1}),1e3)):(this.newRight3=!1,setTimeout((function(){t.newPassFlag=!0}),100))},newFcous:function(e){this.newPassFlag=!0},newBlur:function(e){this.newPassFlag=!1},twoChange:function(e){e!=this.passForm.newPass?this.twoPassFlag=!0:this.twoPassFlag=!1},handleSelectionChange:function(e){this.checkList=e},passWordInit:function(){var e=this;this.$message({type:"warning",message:"没有选择要初始化密码的数据!"}),this.$confirm('<div class="confirm_box"><p>确定要对所选数据进行密码初始化？</p><p class="con_p2">初始化后密码将更新为：<span>登录账号后6位</span></p></div>',"提示",{dangerouslyUseHTMLString:!0,cancelButtonText:"取消",confirmButtonText:"确定"}).then((function(){e.$message({type:"success",message:"初始化密码成功!"}),e.passInit=!0,setTimeout((function(){e.passInitAfter=!0}),100),setTimeout((function(){e.passInit=!1,e.passInitAfter=!1}),3e3)})).catch((function(){e.$message({type:"info",message:"已取消初始化密码"})}))},someExport:function(){this.$message({type:"warning",message:"没有选择要导出的数据!"})},memberDelete:function(e){var t=this;this.$confirm('<div class="confirm_box"><p>确定要删除当前数据？</p><p class="con_p2">删除后不可恢复</p></div>',"提示",{dangerouslyUseHTMLString:!0,cancelButtonText:"取消",confirmButtonText:"确定"}).then((function(){var a={roleID:t.roleID,passports:[{passport:e.passport}]};t.$http.delete(s["a"]+"/aimw/role/deleteMember",{data:a}).then((function(e){var a=e.data;0==a.code?(t.$message({type:"success",message:"删除成功!"}),t.sLookGroup(),t.getList(t.currentPage)):t.$message({type:"error",message:"删除失败!"})}))})).catch((function(){}))},roleDelete:function(e){var t=this;0==e.memberNum?this.$confirm('<div class="confirm_box"><p>确定要删除当前角色？</p><p class="con_p2">删除后不可恢复</p></div>',"提示",{dangerouslyUseHTMLString:!0,cancelButtonText:"取消",confirmButtonText:"确定"}).then((function(){var a={roleID:e.roleID};t.$http.delete(s["a"]+"/aimw/role/deleteRoles",{data:a}).then((function(e){var a=e.data;0==a.code?(t.$message({type:"success",message:"删除成功!"}),t.getList(t.currentPage)):t.$message({type:"error",message:"删除失败!"})}))})).catch((function(){})):this.$confirm('<div class="confirm_box"><p>角色无法删除</p><p class="con_p2">角色中有成员,无法删除</p></div>',"提示",{dangerouslyUseHTMLString:!0,showCancelButton:!1,confirmButtonText:"知道了"}).then((function(){})).catch((function(){}))},sortChange:function(e){},handleSizeChange:function(e){this.limit=e,this.getList(1)},handleCurrentChange:function(e){this.currentPage=e,this.getList(e)}}},n=i,c=(a("a558"),a("2877")),l=Object(c["a"])(n,o,r,!1,null,null,null);t["default"]=l.exports},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);