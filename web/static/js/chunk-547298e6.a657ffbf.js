(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-547298e6"],{"0050":function(t,e,r){"use strict";(function(e){function r(t){return t instanceof e?e.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function n(t){return t=t||{},t.circles?i(t):t.proto?o:n;function e(t,e){for(var n=Object.keys(t),i=new Array(n.length),o=0;o<n.length;o++){var s=n[o],a=t[s];"object"!==typeof a||null===a?i[s]=a:a instanceof Date?i[s]=new Date(a):ArrayBuffer.isView(a)?i[s]=r(a):i[s]=e(a)}return i}function n(t){if("object"!==typeof t||null===t)return t;if(t instanceof Date)return new Date(t);if(Array.isArray(t))return e(t,n);if(t instanceof Map)return new Map(e(Array.from(t),n));if(t instanceof Set)return new Set(e(Array.from(t),n));var i={};for(var o in t)if(!1!==Object.hasOwnProperty.call(t,o)){var s=t[o];"object"!==typeof s||null===s?i[o]=s:s instanceof Date?i[o]=new Date(s):s instanceof Map?i[o]=new Map(e(Array.from(s),n)):s instanceof Set?i[o]=new Set(e(Array.from(s),n)):ArrayBuffer.isView(s)?i[o]=r(s):i[o]=n(s)}return i}function o(t){if("object"!==typeof t||null===t)return t;if(t instanceof Date)return new Date(t);if(Array.isArray(t))return e(t,o);if(t instanceof Map)return new Map(e(Array.from(t),o));if(t instanceof Set)return new Set(e(Array.from(t),o));var n={};for(var i in t){var s=t[i];"object"!==typeof s||null===s?n[i]=s:s instanceof Date?n[i]=new Date(s):s instanceof Map?n[i]=new Map(e(Array.from(s),o)):s instanceof Set?n[i]=new Set(e(Array.from(s),o)):ArrayBuffer.isView(s)?n[i]=r(s):n[i]=o(s)}return n}}function i(t){var e=[],n=[];return t.proto?s:o;function i(t,i){for(var o=Object.keys(t),s=new Array(o.length),a=0;a<o.length;a++){var u=o[a],c=t[u];if("object"!==typeof c||null===c)s[u]=c;else if(c instanceof Date)s[u]=new Date(c);else if(ArrayBuffer.isView(c))s[u]=r(c);else{var l=e.indexOf(c);s[u]=-1!==l?n[l]:i(c)}}return s}function o(t){if("object"!==typeof t||null===t)return t;if(t instanceof Date)return new Date(t);if(Array.isArray(t))return i(t,o);if(t instanceof Map)return new Map(i(Array.from(t),o));if(t instanceof Set)return new Set(i(Array.from(t),o));var s={};for(var a in e.push(t),n.push(s),t)if(!1!==Object.hasOwnProperty.call(t,a)){var u=t[a];if("object"!==typeof u||null===u)s[a]=u;else if(u instanceof Date)s[a]=new Date(u);else if(u instanceof Map)s[a]=new Map(i(Array.from(u),o));else if(u instanceof Set)s[a]=new Set(i(Array.from(u),o));else if(ArrayBuffer.isView(u))s[a]=r(u);else{var c=e.indexOf(u);s[a]=-1!==c?n[c]:o(u)}}return e.pop(),n.pop(),s}function s(t){if("object"!==typeof t||null===t)return t;if(t instanceof Date)return new Date(t);if(Array.isArray(t))return i(t,s);if(t instanceof Map)return new Map(i(Array.from(t),s));if(t instanceof Set)return new Set(i(Array.from(t),s));var o={};for(var a in e.push(t),n.push(o),t){var u=t[a];if("object"!==typeof u||null===u)o[a]=u;else if(u instanceof Date)o[a]=new Date(u);else if(u instanceof Map)o[a]=new Map(i(Array.from(u),s));else if(u instanceof Set)o[a]=new Set(i(Array.from(u),s));else if(ArrayBuffer.isView(u))o[a]=r(u);else{var c=e.indexOf(u);o[a]=-1!==c?n[c]:s(u)}}return e.pop(),n.pop(),o}}t.exports=n}).call(this,r("b639").Buffer)},"035d":function(t,e,r){e=t.exports=r("85f8"),e.Stream=e,e.Readable=e,e.Writable=r("13a8"),e.Duplex=r("be3f"),e.Transform=r("3ca2"),e.PassThrough=r("7058"),e.finished=r("d9e1"),e.pipeline=r("652a")},"05ee":function(t,e,r){"use strict";const n=r(1),i=r("34eb")("mqttjs:tcp");function o(t,e){e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost";const r=e.port,o=e.hostname;return i("port %d and host %s",r,o),n.createConnection(r,o)}t.exports=o},"0b16":function(t,e,r){"use strict";var n=r("1985"),i=r("35e86");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=E,e.resolveObject=k,e.format=S,e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["<",">",'"',"`"," ","\r","\n","\t"],l=["{","}","|","\\","^","`"].concat(c),h=["'"].concat(l),f=["%","/","?",";","#"].concat(h),p=["/","?","#"],d=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=r("b383");function _(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}function S(t){return i.isString(t)&&(t=_(t)),t instanceof o?t.format():o.prototype.format.call(t)}function E(t,e){return _(t,!1,!0).resolve(e)}function k(t,e){return t?_(t,!1,!0).resolveObject(e):e}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",c=t.split(a),l=/\\/g;c[0]=c[0].replace(l,"/"),t=c.join(a);var _=t;if(_=_.trim(),!r&&1===t.split("#").length){var S=u.exec(_);if(S)return this.path=_,this.href=_,this.pathname=S[1],S[2]?(this.search=S[2],this.query=e?w.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var E=s.exec(_);if(E){E=E[0];var k=E.toLowerCase();this.protocol=k,_=_.substr(E.length)}if(r||E||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===_.substr(0,2);!T||E&&m[E]||(_=_.substr(2),this.slashes=!0)}if(!m[E]&&(T||E&&!v[E])){for(var M,A,R=-1,O=0;O<p.length;O++){var x=_.indexOf(p[O]);-1!==x&&(-1===R||x<R)&&(R=x)}A=-1===R?_.lastIndexOf("@"):_.lastIndexOf("@",R),-1!==A&&(M=_.slice(0,A),_=_.slice(A+1),this.auth=decodeURIComponent(M)),R=-1;for(O=0;O<f.length;O++){x=_.indexOf(f[O]);-1!==x&&(-1===R||x<R)&&(R=x)}-1===R&&(R=_.length),this.host=_.slice(0,R),_=_.slice(R),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var P=this.hostname.split(/\./),C=(O=0,P.length);O<C;O++){var j=P[O];if(j&&!j.match(b)){for(var N="",B=0,L=j.length;B<L;B++)j.charCodeAt(B)>127?N+="x":N+=j[B];if(!N.match(b)){var D=P.slice(0,O),q=P.slice(O+1),U=j.match(y);U&&(D.push(U[1]),q.unshift(U[2])),q.length&&(_="/"+q.join(".")+_),this.hostname=D.join(".");break}}}this.hostname.length>d?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",K=this.hostname||"";this.host=K+F,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!g[k])for(O=0,C=h.length;O<C;O++){var W=h[O];if(-1!==_.indexOf(W)){var H=encodeURIComponent(W);H===W&&(H=escape(W)),_=_.split(W).join(H)}}var V=_.indexOf("#");-1!==V&&(this.hash=_.substr(V),_=_.slice(0,V));var Q=_.indexOf("?");if(-1!==Q?(this.search=_.substr(Q),this.query=_.substr(Q+1),e&&(this.query=w.parse(this.query)),_=_.slice(0,Q)):e&&(this.search="",this.query={}),_&&(this.pathname=_),v[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var G=this.search||"";this.path=F+G}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=w.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})),a=a.replace("#","%23"),e+o+r+a+n},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=t[l])}return v[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!v[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||m[t.protocol])r.pathname=t.pathname;else{var d=(t.pathname||"").split("/");while(d.length&&!(t.host=d.shift()));t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var b=r.pathname||"",y=r.search||"";r.path=b+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=w||g||r.host&&t.pathname,S=_,E=r.pathname&&r.pathname.split("/")||[],k=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!v[r.protocol]);if(k&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),_=_&&(""===d[0]||""===E[0])),w)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(k){r.hostname=r.host=E.shift();var T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");T&&(r.auth=T.shift(),r.host=r.hostname=T.shift())}return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var M=E.slice(-1)[0],A=(r.host||t.host||E.length>1)&&("."===M||".."===M)||""===M,R=0,O=E.length;O>=0;O--)M=E[O],"."===M?E.splice(O,1):".."===M?(E.splice(O,1),R++):R&&(E.splice(O,1),R--);if(!_&&!S)for(;R--;R)E.unshift("..");!_||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),A&&"/"!==E.join("/").substr(-1)&&E.push("");var x=""===E[0]||E[0]&&"/"===E[0].charAt(0);if(k){r.hostname=r.host=x?"":E.length?E.shift():"";T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");T&&(r.auth=T.shift(),r.host=r.hostname=T.shift())}return _=_||r.host&&E.length,_&&!x&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},"0e8b":function(t,e,r){"use strict";(function(e,n){var i;t.exports=O,O.ReadableState=R;r("faa1").EventEmitter;var o=function(t,e){return t.listeners(e).length},s=r("b98b"),a=r("b639").Buffer,u=("undefined"!==typeof e?e:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};function c(t){return a.from(t)}function l(t){return a.isBuffer(t)||t instanceof u}var h,f=r(5);h=f&&f.debuglog?f.debuglog("stream"):function(){};var p,d,b,y=r("e937"),g=r("f482"),m=r("86c6"),v=m.getHighWaterMark,w=r("9bfc").codes,_=w.ERR_INVALID_ARG_TYPE,S=w.ERR_STREAM_PUSH_AFTER_EOF,E=w.ERR_METHOD_NOT_IMPLEMENTED,k=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("3fb5")(O,s);var T=g.errorOrDestroy,M=["error","close","destroy","pause","resume"];function A(t,e,r){if("function"===typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}function R(t,e,n){i=i||r("a493"),t=t||{},"boolean"!==typeof n&&(n=e instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=v(this,t,"readableHighWaterMark",n),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=r("7d72").StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function O(t){if(i=i||r("a493"),!(this instanceof O))return new O(t);var e=this instanceof i;this._readableState=new R(t,this,e),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function x(t,e,r,n,i){h("readableAddChunk",e);var o,s=t._readableState;if(null===e)s.reading=!1,B(t,s);else if(i||(o=P(s,e)),o)T(t,o);else if(s.objectMode||e&&e.length>0)if("string"===typeof e||s.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=c(e)),n)s.endEmitted?T(t,new k):I(t,s,e,!0);else if(s.ended)T(t,new S);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?I(t,s,e,!1):q(t,s)):I(t,s,e,!1)}else n||(s.reading=!1,q(t,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function I(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&L(t)),q(t,e)}function P(t,e){var r;return l(e)||"string"===typeof e||void 0===e||t.objectMode||(r=new _("chunk",["string","Buffer","Uint8Array"],e)),r}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),O.prototype.destroy=g.destroy,O.prototype._undestroy=g.undestroy,O.prototype._destroy=function(t,e){e(t)},O.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"===typeof t&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=a.from(t,e),e=""),r=!0),x(this,t,e,!1,r)},O.prototype.unshift=function(t){return x(this,t,null,!0,!1)},O.prototype.isPaused=function(){return!1===this._readableState.flowing},O.prototype.setEncoding=function(t){p||(p=r("7d72").StringDecoder);var e=new p(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;var n=this._readableState.buffer.head,i="";while(null!==n)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var C=1073741824;function j(t){return t>=C?t=C:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function N(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=j(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function B(t,e){if(h("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?L(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,D(t)))}}function L(t){var e=t._readableState;h("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(h("emitReadable",e.flowing),e.emittedReadable=!0,n.nextTick(D,t))}function D(t){var e=t._readableState;h("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Q(t)}function q(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(U,t,e))}function U(t,e){while(!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length)){var r=e.length;if(h("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function F(t){return function(){var e=t._readableState;h("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,Q(t))}}function K(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function W(t){h("readable nexttick read 0"),t.read(0)}function H(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(V,t,e))}function V(t,e){h("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Q(t),e.flowing&&!e.reading&&t.read(0)}function Q(t){var e=t._readableState;h("flow",e.flowing);while(e.flowing&&null!==t.read());}function G(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function $(t){var e=t._readableState;h("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,n.nextTick(z,e,t))}function z(t,e){if(h("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function J(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}O.prototype.read=function(t){h("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return h("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?$(this):L(this),null;if(t=N(t,e),0===t&&e.ended)return 0===e.length&&$(this),null;var n,i=e.needReadable;return h("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&(i=!0,h("length less than watermark",i)),e.ended||e.reading?(i=!1,h("reading or ended",i)):i&&(h("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=N(r,e))),n=t>0?G(t,e):null,null===n?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&$(this)),null!==n&&this.emit("data",n),n},O.prototype._read=function(t){T(this,new E("_read()"))},O.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,e);var s=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr,a=s?c:m;function u(t,e){h("onunpipe"),t===r&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,p())}function c(){h("onend"),t.end()}i.endEmitted?n.nextTick(a):r.once("end",a),t.on("unpipe",u);var l=F(r);t.on("drain",l);var f=!1;function p(){h("cleanup"),t.removeListener("close",y),t.removeListener("finish",g),t.removeListener("drain",l),t.removeListener("error",b),t.removeListener("unpipe",u),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",d),f=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||l()}function d(e){h("ondata");var n=t.write(e);h("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==J(i.pipes,t))&&!f&&(h("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function b(e){h("onerror",e),m(),t.removeListener("error",b),0===o(t,"error")&&T(t,e)}function y(){t.removeListener("finish",g),m()}function g(){h("onfinish"),t.removeListener("close",y),m()}function m(){h("unpipe"),r.unpipe(t)}return r.on("data",d),A(t,"error",b),t.once("close",y),t.once("finish",g),t.emit("pipe",r),i.flowing||(h("pipe resume"),r.resume()),t},O.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=J(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},O.prototype.on=function(t,e){var r=s.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,h("on readable",i.length,i.reading),i.length?L(this):i.reading||n.nextTick(W,this))),r},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(t,e){var r=s.prototype.removeListener.call(this,t,e);return"readable"===t&&n.nextTick(K,this),r},O.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||n.nextTick(K,this),e},O.prototype.resume=function(){var t=this._readableState;return t.flowing||(h("resume"),t.flowing=!t.readableListening,H(this,t)),t.paused=!1,this},O.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},O.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){if(h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!==i&&void 0!==i)&&(r.objectMode||i&&i.length)){var o=e.push(i);o||(n=!0,t.pause())}})),t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<M.length;o++)t.on(M[o],this.emit.bind(this,M[o]));return this._read=function(e){h("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"===typeof Symbol&&(O.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r("782c")),d(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),O._fromList=G,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(O.from=function(t,e){return void 0===b&&(b=r("a50f")),b(O,t,e)})}).call(this,r("c8ba"),r("f28c"))},1:function(t,e){},"13a8":function(t,e,r){"use strict";(function(e,n){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){V(e,t)}}var o;t.exports=R,R.WritableState=A;var s={deprecate:r("b7d1")},a=r("9ede"),u=r("b639").Buffer,c=("undefined"!==typeof e?e:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};function l(t){return u.from(t)}function h(t){return u.isBuffer(t)||t instanceof c}var f,p=r("edb3"),d=r("31b5"),b=d.getHighWaterMark,y=r("fbd7").codes,g=y.ERR_INVALID_ARG_TYPE,m=y.ERR_METHOD_NOT_IMPLEMENTED,v=y.ERR_MULTIPLE_CALLBACK,w=y.ERR_STREAM_CANNOT_PIPE,_=y.ERR_STREAM_DESTROYED,S=y.ERR_STREAM_NULL_VALUES,E=y.ERR_STREAM_WRITE_AFTER_END,k=y.ERR_UNKNOWN_ENCODING,T=p.errorOrDestroy;function M(){}function A(t,e,n){o=o||r("be3f"),t=t||{},"boolean"!==typeof n&&(n=e instanceof o),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=b(this,t,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){B(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function R(t){o=o||r("be3f");var e=this instanceof o;if(!e&&!f.call(R,this))return new R(t);this._writableState=new A(t,this,e),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),a.call(this)}function O(t,e){var r=new E;T(t,r),n.nextTick(e,r)}function x(t,e,r,i){var o;return null===r?o=new S:"string"===typeof r||e.objectMode||(o=new g("chunk",["string","Buffer"],r)),!o||(T(t,o),n.nextTick(i,o),!1)}function I(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=u.from(e,r)),e}function P(t,e,r,n,i,o){if(!r){var s=I(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else C(t,e,!1,a,n,i,o);return u}function C(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new _("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function j(t,e,r,i,o){--e.pendingcb,r?(n.nextTick(o,i),n.nextTick(W,t,e),t._writableState.errorEmitted=!0,T(t,i)):(o(i),t._writableState.errorEmitted=!0,T(t,i),W(t,e))}function N(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function B(t,e){var r=t._writableState,i=r.sync,o=r.writecb;if("function"!==typeof o)throw new v;if(N(r),e)j(t,r,i,e,o);else{var s=U(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||q(t,r),i?n.nextTick(L,t,r,s,o):L(t,r,s,o)}}function L(t,e,r,n){r||D(t,e),e.pendingcb--,n(),W(t,e)}function D(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function q(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,o=new Array(n),s=e.corkedRequestsFree;s.entry=r;var a=0,u=!0;while(r)o[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;o.allBuffers=u,C(t,e,!0,e.length,o,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{while(r){var c=r.chunk,l=r.encoding,h=r.callback,f=e.objectMode?1:c.length;if(C(t,e,!1,f,c,l,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function U(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function F(t,e){t._final((function(r){e.pendingcb--,r&&T(t,r),e.prefinished=!0,t.emit("prefinish"),W(t,e)}))}function K(t,e){e.prefinished||e.finalCalled||("function"!==typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,n.nextTick(F,t,e)))}function W(t,e){var r=U(e);if(r&&(K(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function H(t,e,r){e.ending=!0,W(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function V(t,e,r){var n=t.entry;t.entry=null;while(n){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}r("3fb5")(R,a),A.prototype.getBuffer=function(){var t=this.bufferedRequest,e=[];while(t)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(A.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(t){return!!f.call(this,t)||this===R&&(t&&t._writableState instanceof A)}})):f=function(t){return t instanceof this},R.prototype.pipe=function(){T(this,new w)},R.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&h(t);return o&&!u.isBuffer(t)&&(t=l(t)),"function"===typeof e&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),"function"!==typeof r&&(r=M),n.ending?O(this,r):(o||x(this,n,t,r))&&(n.pendingcb++,i=P(this,n,o,t,e,r)),i},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||q(this,t))},R.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new k(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(t,e,r){r(new m("_write()"))},R.prototype._writev=null,R.prototype.end=function(t,e,r){var n=this._writableState;return"function"===typeof t?(r=t,t=null,e=null):"function"===typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||H(this,n,r),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),R.prototype.destroy=p.destroy,R.prototype._undestroy=p.undestroy,R.prototype._destroy=function(t,e){e(t)}}).call(this,r("c8ba"),r("f28c"))},1451:function(t,e,r){"use strict";r("8c09")},1468:function(t,e){var r=1e3,n=60*r,i=60*n,o=24*i,s=7*o,a=365.25*o;function u(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var u=parseFloat(e[1]),c=(e[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*s;case"days":case"day":case"d":return u*o;case"hours":case"hour":case"hrs":case"hr":case"h":return u*i;case"minutes":case"minute":case"mins":case"min":case"m":return u*n;case"seconds":case"second":case"secs":case"sec":case"s":return u*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}}function c(t){var e=Math.abs(t);return e>=o?Math.round(t/o)+"d":e>=i?Math.round(t/i)+"h":e>=n?Math.round(t/n)+"m":e>=r?Math.round(t/r)+"s":t+"ms"}function l(t){var e=Math.abs(t);return e>=o?h(t,e,o,"day"):e>=i?h(t,e,i,"hour"):e>=n?h(t,e,n,"minute"):e>=r?h(t,e,r,"second"):t+" ms"}function h(t,e,r,n){var i=e>=1.5*r;return Math.round(t/r)+" "+n+(i?"s":"")}t.exports=function(t,e){e=e||{};var r=typeof t;if("string"===r&&t.length>0)return u(t);if("number"===r&&isFinite(t))return e.long?l(t):c(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},1985:function(t,e,r){(function(t,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=36,l=1,h=26,f=38,p=700,d=72,b=128,y="-",g=/^xn--/,m=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=c-l,S=Math.floor,E=String.fromCharCode;function k(t){throw new RangeError(w[t])}function T(t,e){var r=t.length,n=[];while(r--)n[r]=e(t[r]);return n}function M(t,e){var r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(v,".");var i=t.split("."),o=T(i,e).join(".");return n+o}function A(t){var e,r,n=[],i=0,o=t.length;while(i<o)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(r=t.charCodeAt(i++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--)):n.push(e);return n}function R(t){return T(t,(function(t){var e="";return t>65535&&(t-=65536,e+=E(t>>>10&1023|55296),t=56320|1023&t),e+=E(t),e})).join("")}function O(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:c}function x(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function I(t,e,r){var n=0;for(t=r?S(t/p):t>>1,t+=S(t/e);t>_*h>>1;n+=c)t=S(t/_);return S(n+(_+1)*t/(t+f))}function P(t){var e,r,n,i,o,s,a,f,p,g,m=[],v=t.length,w=0,_=b,E=d;for(r=t.lastIndexOf(y),r<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&k("not-basic"),m.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<v;){for(o=w,s=1,a=c;;a+=c){if(i>=v&&k("invalid-input"),f=O(t.charCodeAt(i++)),(f>=c||f>S((u-w)/s))&&k("overflow"),w+=f*s,p=a<=E?l:a>=E+h?h:a-E,f<p)break;g=c-p,s>S(u/g)&&k("overflow"),s*=g}e=m.length+1,E=I(w-o,e,0==o),S(w/e)>u-_&&k("overflow"),_+=S(w/e),w%=e,m.splice(w++,0,_)}return R(m)}function C(t){var e,r,n,i,o,s,a,f,p,g,m,v,w,_,T,M=[];for(t=A(t),v=t.length,e=b,r=0,o=d,s=0;s<v;++s)m=t[s],m<128&&M.push(E(m));n=i=M.length,i&&M.push(y);while(n<v){for(a=u,s=0;s<v;++s)m=t[s],m>=e&&m<a&&(a=m);for(w=n+1,a-e>S((u-r)/w)&&k("overflow"),r+=(a-e)*w,e=a,s=0;s<v;++s)if(m=t[s],m<e&&++r>u&&k("overflow"),m==e){for(f=r,p=c;;p+=c){if(g=p<=o?l:p>=o+h?h:p-o,f<g)break;T=f-g,_=c-g,M.push(E(x(g+T%_,0))),f=S(T/_)}M.push(E(x(f,0))),o=I(r,w,n==i),r=0,++n}++r,++e}return M.join("")}function j(t){return M(t,(function(t){return g.test(t)?P(t.slice(4).toLowerCase()):t}))}function N(t){return M(t,(function(t){return m.test(t)?"xn--"+C(t):t}))}a={version:"1.4.1",ucs2:{decode:A,encode:R},decode:P,encode:C,toASCII:N,toUnicode:j},i=function(){return a}.call(e,r,e,t),void 0===i||(t.exports=i)})()}).call(this,r("62e4")(t),r("c8ba"))},"1e4d":function(t,e,r){"use strict";function n(){if(!(this instanceof n))return new n;this.nextId=Math.max(1,Math.floor(65535*Math.random()))}n.prototype.allocate=function(){const t=this.nextId++;return 65536===this.nextId&&(this.nextId=1),t},n.prototype.getLastAllocated=function(){return 1===this.nextId?65535:this.nextId-1},n.prototype.register=function(t){return!0},n.prototype.deallocate=function(t){},n.prototype.clear=function(){},t.exports=n},"1fad":function(t,e,r){const n=r("51e9"),i=r("faa1"),o=r("a7c9"),s=r("b289"),a=r("34eb")("mqtt-packet:parser");class u extends i{constructor(){super(),this.parser=this.constructor.parser}static parser(t){return this instanceof u?(this.settings=t||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new u).parser(t)}_resetState(){a("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new o,this.error=null,this._list=n(),this._stateCounter=0}parse(t){this.error&&this._resetState(),this._list.append(t),a("parse: current state: %s",this._states[this._stateCounter]);while((-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error)this._stateCounter++,a("parse: state complete. _stateCounter is now: %d",this._stateCounter),a("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return a("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const t=this._list.readUInt8(0);return this.packet.cmd=s.types[t>>s.CMD_SHIFT],this.packet.retain=0!==(t&s.RETAIN_MASK),this.packet.qos=t>>s.QOS_SHIFT&s.QOS_MASK,this.packet.dup=0!==(t&s.DUP_MASK),a("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const t=this._parseVarByteNum(!0);return t&&(this.packet.length=t.value,this._list.consume(t.bytes)),a("_parseLength %d",t.value),!!t}_parsePayload(){a("_parsePayload: payload %O",this._list);let t=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}t=!0}return a("_parsePayload complete result: %s",t),t}_parseConnect(){let t,e,r,n;a("_parseConnect");const i={},o=this.packet,u=this._parseString();if(null===u)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==u&&"MQIsdp"!==u)return this._emitError(new Error("Invalid protocolId"));if(o.protocolId=u,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(o.protocolVersion=this._list.readUInt8(this._pos),o.protocolVersion>=128&&(o.bridgeMode=!0,o.protocolVersion=o.protocolVersion-128),3!==o.protocolVersion&&4!==o.protocolVersion&&5!==o.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(i.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,i.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,i.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK,i.will&&(o.will={},o.will.retain=0!==(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),o.will.qos=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT),o.clean=0!==(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK),this._pos++,o.keepalive=this._parseNum(),-1===o.keepalive)return this._emitError(new Error("Packet too short"));if(5===o.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(o.properties=t)}const c=this._parseString();if(null===c)return this._emitError(new Error("Packet too short"));if(o.clientId=c,a("_parseConnect: packet.clientId: %s",o.clientId),i.will){if(5===o.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(o.will.properties=t)}if(t=this._parseString(),null===t)return this._emitError(new Error("Cannot parse will topic"));if(o.will.topic=t,a("_parseConnect: packet.will.topic: %s",o.will.topic),e=this._parseBuffer(),null===e)return this._emitError(new Error("Cannot parse will payload"));o.will.payload=e,a("_parseConnect: packet.will.paylaod: %s",o.will.payload)}if(i.username){if(n=this._parseString(),null===n)return this._emitError(new Error("Cannot parse username"));o.username=n,a("_parseConnect: packet.username: %s",o.username)}if(i.password){if(r=this._parseBuffer(),null===r)return this._emitError(new Error("Cannot parse password"));o.password=r}return this.settings=o,a("_parseConnect: complete"),o}_parseConnack(){a("_parseConnack");const t=this.packet;if(this._list.length<1)return null;if(t.sessionPresent=!!(this._list.readUInt8(this._pos++)&s.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?t.reasonCode=this._list.readUInt8(this._pos++):t.reasonCode=0;else{if(this._list.length<2)return null;t.returnCode=this._list.readUInt8(this._pos++)}if(-1===t.returnCode||-1===t.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}a("_parseConnack: complete")}_parsePublish(){a("_parsePublish");const t=this.packet;if(t.topic=this._parseString(),null===t.topic)return this._emitError(new Error("Cannot parse topic"));if(!(t.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}t.payload=this._list.slice(this._pos,t.length),a("_parsePublish: payload from buffer list: %o",t.payload)}}_parseSubscribe(){a("_parseSubscribe");const t=this.packet;let e,r,n,i,o,u,c;if(1!==t.qos)return this._emitError(new Error("Wrong subscribe header"));if(t.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}while(this._pos<t.length){if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=t.length)return this._emitError(new Error("Malformed Subscribe Payload"));r=this._parseByte(),n=r&s.SUBSCRIBE_OPTIONS_QOS_MASK,u=0!==(r>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK),o=0!==(r>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK),i=r>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,c={topic:e,qos:n},5===this.settings.protocolVersion?(c.nl=u,c.rap=o,c.rh=i):this.settings.bridgeMode&&(c.rh=0,c.rap=!0,c.nl=!0),a("_parseSubscribe: push subscription `%s` to subscription",c),t.subscriptions.push(c)}}}_parseSuback(){a("_parseSuback");const t=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}while(this._pos<this.packet.length)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){a("_parseUnsubscribe");const t=this.packet;if(t.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}while(this._pos<t.length){const e=this._parseString();if(null===e)return this._emitError(new Error("Cannot parse topic"));a("_parseUnsubscribe: push topic `%s` to unsubscriptions",e),t.unsubscriptions.push(e)}}}_parseUnsuback(){a("_parseUnsuback");const t=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e),t.granted=[];while(this._pos<this.packet.length)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){a("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const t=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(t.length>2?(t.reasonCode=this._parseByte(),a("_parseConfirmation: packet.reasonCode `%d`",t.reasonCode)):t.reasonCode=0,t.length>3)){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}return!0}_parseDisconnect(){const t=this.packet;if(a("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?t.reasonCode=this._parseByte():t.reasonCode=0;const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}return a("_parseDisconnect result: true"),!0}_parseAuth(){a("_parseAuth");const t=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));t.reasonCode=this._parseByte();const e=this._parseProperties();return Object.getOwnPropertyNames(e).length&&(t.properties=e),a("_parseAuth: result: true"),!0}_parseMessageId(){const t=this.packet;return t.messageId=this._parseNum(),null===t.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(a("_parseMessageId: packet.messageId %d",t.messageId),!0)}_parseString(t){const e=this._parseNum(),r=e+this._pos;if(-1===e||r>this._list.length||r>this.packet.length)return null;const n=this._list.toString("utf8",this._pos,r);return this._pos+=e,a("_parseString: result: %s",n),n}_parseStringPair(){return a("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const t=this._parseNum(),e=t+this._pos;if(-1===t||e>this._list.length||e>this.packet.length)return null;const r=this._list.slice(this._pos,e);return this._pos+=t,a("_parseBuffer: result: %o",r),r}_parseNum(){if(this._list.length-this._pos<2)return-1;const t=this._list.readUInt16BE(this._pos);return this._pos+=2,a("_parseNum: result: %s",t),t}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const t=this._list.readUInt32BE(this._pos);return this._pos+=4,a("_parse4ByteNum: result: %s",t),t}_parseVarByteNum(t){a("_parseVarByteNum");const e=4;let r,n=0,i=1,o=0,u=!1;const c=this._pos?this._pos:0;while(n<e&&c+n<this._list.length){if(r=this._list.readUInt8(c+n++),o+=i*(r&s.VARBYTEINT_MASK),i*=128,0===(r&s.VARBYTEINT_FIN_MASK)){u=!0;break}if(this._list.length<=n)break}return!u&&n===e&&this._list.length>=n&&this._emitError(new Error("Invalid variable byte integer")),c&&(this._pos+=n),u=!!u&&(t?{bytes:n,value:o}:o),a("_parseVarByteNum: result: %o",u),u}_parseByte(){let t;return this._pos<this._list.length&&(t=this._list.readUInt8(this._pos),this._pos++),a("_parseByte: result: %o",t),t}_parseByType(t){switch(a("_parseByType: type: %s",t),t){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){a("_parseProperties");const t=this._parseVarByteNum(),e=this._pos,r=e+t,n={};while(this._pos<r){const t=this._parseByte();if(!t)return this._emitError(new Error("Cannot parse property code type")),!1;const e=s.propertiesCodes[t];if(!e)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==e)n[e]?(Array.isArray(n[e])||(n[e]=[n[e]]),n[e].push(this._parseByType(s.propertiesTypes[e]))):n[e]=this._parseByType(s.propertiesTypes[e]);else{n[e]||(n[e]=Object.create(null));const t=this._parseByType(s.propertiesTypes[e]);if(n[e][t.name])if(Array.isArray(n[e][t.name]))n[e][t.name].push(t.value);else{const r=n[e][t.name];n[e][t.name]=[r],n[e][t.name].push(t.value)}else n[e][t.name]=t.value}}return n}_newPacket(){return a("_newPacket"),this.packet&&(this._list.consume(this.packet.length),a("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),a("_newPacket: new packet"),this.packet=new o,this._pos=0,!0}_emitError(t){a("_emitError"),this.error=t,this.emit("error",t)}}t.exports=u},2411:function(t,e,r){t.exports=r.p+"static/img/exit.36a6ebd1.png"},2527:function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},"29a2":function(t,e,r){"use strict";function n(t,e,r){var n=this;this._callback=t,this._args=r,this._interval=setInterval(t,e,this._args),this.reschedule=function(t){t||(t=n._interval),n._interval&&clearInterval(n._interval),n._interval=setInterval(n._callback,t,n._args)},this.clear=function(){n._interval&&(clearInterval(n._interval),n._interval=void 0)},this.destroy=function(){n._interval&&clearInterval(n._interval),n._callback=void 0,n._interval=void 0,n._args=void 0}}function i(){if("function"!==typeof arguments[0])throw new Error("callback needed");if("number"!==typeof arguments[1])throw new Error("interval needed");var t;if(arguments.length>0){t=new Array(arguments.length-2);for(var e=0;e<t.length;e++)t[e]=arguments[e+2]}return new n(arguments[0],arguments[1],t)}t.exports=i},"2a28":function(t,e,r){"use strict";t.exports=r("0050")()},"2fae":function(t,e,r){"use strict";function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"===typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)e.push(arguments[r]);return e}function i(t,e,r){var n=e===t.head?new a(r,null,e,t):new a(r,e,e.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}function o(t,e){t.tail=new a(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function s(t,e){t.head=new a(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function a(t,e,r,n){if(!(this instanceof a))return new a(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)s(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;null!==r;n++)t.call(e,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;null!==r;n--)t.call(e,r.value,n,this),r=r.prev},n.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},n.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,i=this.head;null!==i;)r.push(t.call(e,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,i=this.tail;null!==i;)r.push(t.call(e,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=t(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=t(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},n.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;for(;null!==o&&i<e;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,o=this.tail;null!==o&&i>e;i--)o=o.prev;for(;null!==o&&i>t;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,o=this.head;null!==o&&n<t;n++)o=o.next;var s=[];for(n=0;o&&n<e;n++)s.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(n=0;n<r.length;n++)o=i(this,o,r[n]);return s},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};try{r("aff9")(n)}catch(u){}},3:function(t,e){},"31b5":function(t,e,r){"use strict";var n=r("fbd7").codes.ERR_INVALID_OPT_VALUE;function i(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}function o(t,e,r,o){var s=i(e,o,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0){var a=o?r:"highWaterMark";throw new n(a,s)}return Math.floor(s)}return t.objectMode?16:16384}t.exports={getHighWaterMark:o}},33013:function(t,e,r){"use strict";const{Buffer:n}=r("b639"),i=Symbol.for("BufferList");function o(t){if(!(this instanceof o))return new o(t);o._init.call(this,t)}o._init=function(t){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)},o.prototype._new=function(t){return new o(t)},o.prototype._offset=function(t){if(0===t)return[0,0];let e=0;for(let r=0;r<this._bufs.length;r++){const n=e+this._bufs[r].length;if(t<n||r===this._bufs.length-1)return[r,t-e];e=n}},o.prototype._reverseOffset=function(t){const e=t[0];let r=t[1];for(let n=0;n<e;n++)r+=this._bufs[n].length;return r},o.prototype.get=function(t){if(t>this.length||t<0)return;const e=this._offset(t);return this._bufs[e[0]][e[1]]},o.prototype.slice=function(t,e){return"number"===typeof t&&t<0&&(t+=this.length),"number"===typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},o.prototype.copy=function(t,e,r,i){if(("number"!==typeof r||r<0)&&(r=0),("number"!==typeof i||i>this.length)&&(i=this.length),r>=this.length)return t||n.alloc(0);if(i<=0)return t||n.alloc(0);const o=!!t,s=this._offset(r),a=i-r;let u=a,c=o&&e||0,l=s[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let e=0;e<this._bufs.length;e++)this._bufs[e].copy(t,c),c+=this._bufs[e].length;return t}if(u<=this._bufs[s[0]].length-l)return o?this._bufs[s[0]].copy(t,e,l,l+u):this._bufs[s[0]].slice(l,l+u);o||(t=n.allocUnsafe(a));for(let n=s[0];n<this._bufs.length;n++){const e=this._bufs[n].length-l;if(!(u>e)){this._bufs[n].copy(t,c,l,l+u),c+=e;break}this._bufs[n].copy(t,c,l),c+=e,u-=e,l&&(l=0)}return t.length>c?t.slice(0,c):t},o.prototype.shallowSlice=function(t,e){if(t=t||0,e="number"!==typeof e?this.length:e,t<0&&(t+=this.length),e<0&&(e+=this.length),t===e)return this._new();const r=this._offset(t),n=this._offset(e),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},o.prototype.toString=function(t,e,r){return this.slice(e,r).toString(t)},o.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;while(this._bufs.length){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const t=this._new();for(let e=0;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},o.prototype.append=function(t){if(null==t)return this;if(t.buffer)this._appendBuffer(n.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let e=0;e<t.length;e++)this.append(t[e]);else if(this._isBufferList(t))for(let e=0;e<t._bufs.length;e++)this.append(t._bufs[e]);else"number"===typeof t&&(t=t.toString()),this._appendBuffer(n.from(t));return this},o.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},o.prototype.indexOf=function(t,e,r){if(void 0===r&&"string"===typeof e&&(r=e,e=void 0),"function"===typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"===typeof t?t=n.from([t]):"string"===typeof t?t=n.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=n.from(t.buffer,t.byteOffset,t.byteLength):n.isBuffer(t)||(t=n.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;const i=this._offset(e);let o=i[0],s=i[1];for(;o<this._bufs.length;o++){const e=this._bufs[o];while(s<e.length){const r=e.length-s;if(r>=t.length){const r=e.indexOf(t,s);if(-1!==r)return this._reverseOffset([o,r]);s=e.length-t.length+1}else{const e=this._reverseOffset([o,s]);if(this._match(e,t))return e;s++}}s=0}return-1},o.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0},function(){const t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const e in t)(function(e){null===t[e]?o.prototype[e]=function(t,r){return this.slice(t,t+r)[e](0,r)}:o.prototype[e]=function(r=0){return this.slice(r,r+t[e])[e](0)}})(e)}(),o.prototype._isBufferList=function(t){return t instanceof o||o.isBufferList(t)},o.isBufferList=function(t){return null!=t&&t[i]},t.exports=o},3409:function(t,e,r){e.parser=r("1fad").parser,e.generate=r("7f0f"),e.writeToStream=r("7135")},"34e3":function(t,e,r){"use strict";(function(e){var n;function i(t,e,r){return e=o(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t){var e=s(t,"string");return"symbol"===typeof e?e:String(e)}function s(t,e){if("object"!==typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var a=r("d9e1"),u=Symbol("lastResolve"),c=Symbol("lastReject"),l=Symbol("error"),h=Symbol("ended"),f=Symbol("lastPromise"),p=Symbol("handlePromise"),d=Symbol("stream");function b(t,e){return{value:t,done:e}}function y(t){var e=t[u];if(null!==e){var r=t[d].read();null!==r&&(t[f]=null,t[u]=null,t[c]=null,e(b(r,!1)))}}function g(t){e.nextTick(y,t)}function m(t,e){return function(r,n){t.then((function(){e[h]?r(b(void 0,!0)):e[p](r,n)}),n)}}var v=Object.getPrototypeOf((function(){})),w=Object.setPrototypeOf((n={get stream(){return this[d]},next:function(){var t=this,r=this[l];if(null!==r)return Promise.reject(r);if(this[h])return Promise.resolve(b(void 0,!0));if(this[d].destroyed)return new Promise((function(r,n){e.nextTick((function(){t[l]?n(t[l]):r(b(void 0,!0))}))}));var n,i=this[f];if(i)n=new Promise(m(i,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(b(o,!1));n=new Promise(this[p])}return this[f]=n,n}},i(n,Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var t=this;return new Promise((function(e,r){t[d].destroy(null,(function(t){t?r(t):e(b(void 0,!0))}))}))})),n),v),_=function(t){var e,r=Object.create(w,(e={},i(e,d,{value:t,writable:!0}),i(e,u,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,l,{value:null,writable:!0}),i(e,h,{value:t._readableState.endEmitted,writable:!0}),i(e,p,{value:function(t,e){var n=r[d].read();n?(r[f]=null,r[u]=null,r[c]=null,t(b(n,!1))):(r[u]=t,r[c]=e)},writable:!0}),e));return r[f]=null,a(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[c];return null!==e&&(r[f]=null,r[u]=null,r[c]=null,e(t)),void(r[l]=t)}var n=r[u];null!==n&&(r[f]=null,r[u]=null,r[c]=null,n(b(void 0,!0))),r[h]=!0})),t.on("readable",g.bind(null,r)),r};t.exports=_}).call(this,r("f28c"))},"34eb":function(t,e,r){(function(n){function i(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(n++,"%c"===t&&(i=n))}),e.splice(i,0,r)}function s(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(r){}}function a(){let t;try{t=e.storage.getItem("debug")}catch(r){}return!t&&"undefined"!==typeof n&&"env"in n&&(t=Object({NODE_ENV:"production",BASE_URL:""}).DEBUG),t}function u(){try{return localStorage}catch(t){}}e.formatArgs=o,e.save=s,e.load=a,e.useColors=i,e.storage=u(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=r("dc90")(e);const{formatters:c}=t.exports;c.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r("f28c"))},"35e86":function(t,e,r){"use strict";t.exports={isString:function(t){return"string"===typeof t},isObject:function(t){return"object"===typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},3846:function(t,e,r){r("9e1e")&&"g"!=/./g.flags&&r("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:r("0bfb")})},"386b7":function(t,e,r){"use strict";var n;function i(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var o=r("9bfc").codes,s=o.ERR_MISSING_ARGS,a=o.ERR_STREAM_DESTROYED;function u(t){if(t)throw t}function c(t){return t.setHeader&&"function"===typeof t.abort}function l(t,e,o,s){s=i(s);var u=!1;t.on("close",(function(){u=!0})),void 0===n&&(n=r("bf09")),n(t,{readable:e,writable:o},(function(t){if(t)return s(t);u=!0,s()}));var l=!1;return function(e){if(!u&&!l)return l=!0,c(t)?t.abort():"function"===typeof t.destroy?t.destroy():void s(e||new a("pipe"))}}function h(t){t()}function f(t,e){return t.pipe(e)}function p(t){return t.length?"function"!==typeof t[t.length-1]?u:t.pop():u}function d(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=p(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var o=e.map((function(t,r){var s=r<e.length-1,a=r>0;return l(t,s,a,(function(t){n||(n=t),t&&o.forEach(h),s||(o.forEach(h),i(n))}))}));return e.reduce(f)}t.exports=d},"3ca2":function(t,e,r){"use strict";t.exports=l;var n=r("fbd7").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r("be3f");function c(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);u.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!==typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,r){f(t,e,r)}))}function f(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}r("3fb5")(l,u),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}},"3d67":function(t,e,r){"use strict";r.r(e),r.d(e,"Stack",(function(){return c})),r.d(e,"Queue",(function(){return f})),r.d(e,"PriorityQueue",(function(){return g})),r.d(e,"Vector",(function(){return I})),r.d(e,"LinkList",(function(){return B})),r.d(e,"Deque",(function(){return W})),r.d(e,"OrderedSet",(function(){return st})),r.d(e,"OrderedMap",(function(){return ft})),r.d(e,"HashSet",(function(){return _t})),r.d(e,"HashMap",(function(){return Mt}));var n=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=function(){function t(t){void 0===t&&(t=0),this.iteratorType=t}return t.prototype.equals=function(t){return this.o===t.o},t}(),o=function(){function t(){this.M=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this.M},enumerable:!1,configurable:!0}),t.prototype.size=function(){return this.M},t.prototype.empty=function(){return 0===this.M},t}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(o),a=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(t){function e(e){void 0===e&&(e=[]);var r=t.call(this)||this;r.nt=[];var n=r;return e.forEach((function(t){n.push(t)})),r}return a(e,t),e.prototype.clear=function(){this.M=0,this.nt=[]},e.prototype.push=function(t){return this.nt.push(t),this.M+=1,this.M},e.prototype.pop=function(){if(0!==this.M)return this.M-=1,this.nt.pop()},e.prototype.top=function(){return this.nt[this.M-1]},e}(o),c=u,l=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),h=function(t){function e(e){void 0===e&&(e=[]);var r=t.call(this)||this;r.A=0,r.tt=[];var n=r;return e.forEach((function(t){n.push(t)})),r}return l(e,t),e.prototype.clear=function(){this.tt=[],this.M=this.A=0},e.prototype.push=function(t){var e=this.tt.length;if(this.A/e>.5&&this.A+this.M>=e&&e>4096){for(var r=this.M,n=0;n<r;++n)this.tt[n]=this.tt[this.A+n];this.A=0,this.tt[this.M]=t}else this.tt[this.A+this.M]=t;return++this.M},e.prototype.pop=function(){if(0!==this.M){var t=this.tt[this.A++];return this.M-=1,t}},e.prototype.front=function(){if(0!==this.M)return this.tt[this.A]},e}(o),f=h,p=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),d=function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{while((void 0===e||e-- >0)&&!(n=o.next()).done)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(i)throw i.error}}return s},b=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))},y=function(t){function e(e,r,n){void 0===e&&(e=[]),void 0===r&&(r=function(t,e){return t>e?-1:t<e?1:0}),void 0===n&&(n=!0);var i=t.call(this)||this;if(i.$=r,Array.isArray(e))i.ii=n?b([],d(e),!1):e;else{i.ii=[];var o=i;e.forEach((function(t){o.ii.push(t)}))}i.M=i.ii.length;for(var s=i.M>>1,a=i.M-1>>1;a>=0;--a)i.ri(a,s);return i}return p(e,t),e.prototype.ti=function(t){var e=this.ii[t];while(t>0){var r=t-1>>1,n=this.ii[r];if(this.$(n,e)<=0)break;this.ii[t]=n,t=r}this.ii[t]=e},e.prototype.ri=function(t,e){var r=this.ii[t];while(t<e){var n=t<<1|1,i=n+1,o=this.ii[n];if(i<this.M&&this.$(o,this.ii[i])>0&&(n=i,o=this.ii[i]),this.$(o,r)>=0)break;this.ii[t]=o,t=n}this.ii[t]=r},e.prototype.clear=function(){this.M=0,this.ii.length=0},e.prototype.push=function(t){this.ii.push(t),this.ti(this.M),this.M+=1},e.prototype.pop=function(){if(0!==this.M){var t=this.ii[0],e=this.ii.pop();return this.M-=1,this.M&&(this.ii[0]=e,this.ri(0,this.M>>1)),t}},e.prototype.top=function(){return this.ii[0]},e.prototype.find=function(t){return this.ii.indexOf(t)>=0},e.prototype.remove=function(t){var e=this.ii.indexOf(t);return!(e<0)&&(0===e?this.pop():e===this.M-1?(this.ii.pop(),this.M-=1):(this.ii.splice(e,1,this.ii.pop()),this.M-=1,this.ti(e),this.ri(e,this.M>>1)),!0)},e.prototype.updateItem=function(t){var e=this.ii.indexOf(t);return!(e<0)&&(this.ti(e),this.ri(e,this.M>>1),!0)},e.prototype.toArray=function(){return b([],d(this.ii),!1)},e}(o),g=y,m=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e}(s),w=v;function _(){throw new RangeError("Iterator access denied!")}var S=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),E=function(t){function e(e,r){var n=t.call(this,r)||this;return n.o=e,0===n.iteratorType?(n.pre=function(){return 0===this.o&&_(),this.o-=1,this},n.next=function(){return this.o===this.container.size()&&_(),this.o+=1,this}):(n.pre=function(){return this.o===this.container.size()-1&&_(),this.o+=1,this},n.next=function(){return-1===this.o&&_(),this.o-=1,this}),n}return S(e,t),Object.defineProperty(e.prototype,"pointer",{get:function(){return this.container.getElementByPos(this.o)},set:function(t){this.container.setElementByPos(this.o,t)},enumerable:!1,configurable:!0}),e}(i),k=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),T=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(r)throw new TypeError("Generator is already executing.");while(s)try{if(r=1,n&&(i=2&o[0]?n["return"]:o[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},M=function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{while((void 0===e||e-- >0)&&!(n=o.next()).done)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(i)throw i.error}}return s},A=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))},R=function(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O=function(t){function e(e,r,n){var i=t.call(this,e,n)||this;return i.container=r,i}return k(e,t),e.prototype.copy=function(){return new e(this.o,this.container,this.iteratorType)},e}(E),x=function(t){function e(e,r){void 0===e&&(e=[]),void 0===r&&(r=!0);var n=t.call(this)||this;if(Array.isArray(e))n.J=r?A([],M(e),!1):e,n.M=e.length;else{n.J=[];var i=n;e.forEach((function(t){i.pushBack(t)}))}return n}return k(e,t),e.prototype.clear=function(){this.M=0,this.J.length=0},e.prototype.begin=function(){return new O(0,this)},e.prototype.end=function(){return new O(this.M,this)},e.prototype.rBegin=function(){return new O(this.M-1,this,1)},e.prototype.rEnd=function(){return new O(-1,this,1)},e.prototype.front=function(){return this.J[0]},e.prototype.back=function(){return this.J[this.M-1]},e.prototype.getElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;return this.J[t]},e.prototype.eraseElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;return this.J.splice(t,1),this.M-=1,this.M},e.prototype.eraseElementByValue=function(t){for(var e=0,r=0;r<this.M;++r)this.J[r]!==t&&(this.J[e++]=this.J[r]);return this.M=this.J.length=e,this.M},e.prototype.eraseElementByIterator=function(t){var e=t.o;return t=t.next(),this.eraseElementByPos(e),t},e.prototype.pushBack=function(t){return this.J.push(t),this.M+=1,this.M},e.prototype.popBack=function(){if(0!==this.M)return this.M-=1,this.J.pop()},e.prototype.setElementByPos=function(t,e){if(t<0||t>this.M-1)throw new RangeError;this.J[t]=e},e.prototype.insert=function(t,e,r){var n;if(void 0===r&&(r=1),t<0||t>this.M)throw new RangeError;return(n=this.J).splice.apply(n,A([t,0],M(new Array(r).fill(e)),!1)),this.M+=r,this.M},e.prototype.find=function(t){for(var e=0;e<this.M;++e)if(this.J[e]===t)return new O(e,this);return this.end()},e.prototype.reverse=function(){this.J.reverse()},e.prototype.unique=function(){for(var t=1,e=1;e<this.M;++e)this.J[e]!==this.J[e-1]&&(this.J[t++]=this.J[e]);return this.M=this.J.length=t,this.M},e.prototype.sort=function(t){this.J.sort(t)},e.prototype.forEach=function(t){for(var e=0;e<this.M;++e)t(this.J[e],e,this)},e.prototype[Symbol.iterator]=function(){return function(){return T(this,(function(t){switch(t.label){case 0:return[5,R(this.J)];case 1:return t.sent(),[2]}}))}.bind(this)()},e}(w),I=x,P=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),C=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(r)throw new TypeError("Generator is already executing.");while(s)try{if(r=1,n&&(i=2&o[0]?n["return"]:o[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},j=function(t){function e(e,r,n,i){var o=t.call(this,i)||this;return o.o=e,o.h=r,o.container=n,0===o.iteratorType?(o.pre=function(){return this.o.L===this.h&&_(),this.o=this.o.L,this},o.next=function(){return this.o===this.h&&_(),this.o=this.o.m,this}):(o.pre=function(){return this.o.m===this.h&&_(),this.o=this.o.m,this},o.next=function(){return this.o===this.h&&_(),this.o=this.o.L,this}),o}return P(e,t),Object.defineProperty(e.prototype,"pointer",{get:function(){return this.o===this.h&&_(),this.o.p},set:function(t){this.o===this.h&&_(),this.o.p=t},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.o,this.h,this.container,this.iteratorType)},e}(i),N=function(t){function e(e){void 0===e&&(e=[]);var r=t.call(this)||this;r.h={},r.H=r.l=r.h.L=r.h.m=r.h;var n=r;return e.forEach((function(t){n.pushBack(t)})),r}return P(e,t),e.prototype.G=function(t){var e=t.L,r=t.m;e.m=r,r.L=e,t===this.H&&(this.H=r),t===this.l&&(this.l=e),this.M-=1},e.prototype.F=function(t,e){var r=e.m,n={p:t,L:e,m:r};e.m=n,r.L=n,e===this.h&&(this.H=n),r===this.h&&(this.l=n),this.M+=1},e.prototype.clear=function(){this.M=0,this.H=this.l=this.h.L=this.h.m=this.h},e.prototype.begin=function(){return new j(this.H,this.h,this)},e.prototype.end=function(){return new j(this.h,this.h,this)},e.prototype.rBegin=function(){return new j(this.l,this.h,this,1)},e.prototype.rEnd=function(){return new j(this.h,this.h,this,1)},e.prototype.front=function(){return this.H.p},e.prototype.back=function(){return this.l.p},e.prototype.getElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;var e=this.H;while(t--)e=e.m;return e.p},e.prototype.eraseElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;var e=this.H;while(t--)e=e.m;return this.G(e),this.M},e.prototype.eraseElementByValue=function(t){var e=this.H;while(e!==this.h)e.p===t&&this.G(e),e=e.m;return this.M},e.prototype.eraseElementByIterator=function(t){var e=t.o;return e===this.h&&_(),t=t.next(),this.G(e),t},e.prototype.pushBack=function(t){return this.F(t,this.l),this.M},e.prototype.popBack=function(){if(0!==this.M){var t=this.l.p;return this.G(this.l),t}},e.prototype.pushFront=function(t){return this.F(t,this.h),this.M},e.prototype.popFront=function(){if(0!==this.M){var t=this.H.p;return this.G(this.H),t}},e.prototype.setElementByPos=function(t,e){if(t<0||t>this.M-1)throw new RangeError;var r=this.H;while(t--)r=r.m;r.p=e},e.prototype.insert=function(t,e,r){if(void 0===r&&(r=1),t<0||t>this.M)throw new RangeError;if(r<=0)return this.M;if(0===t)while(r--)this.pushFront(e);else if(t===this.M)while(r--)this.pushBack(e);else{for(var n=this.H,i=1;i<t;++i)n=n.m;var o=n.m;this.M+=r;while(r--)n.m={p:e,L:n},n.m.L=n,n=n.m;n.m=o,o.L=n}return this.M},e.prototype.find=function(t){var e=this.H;while(e!==this.h){if(e.p===t)return new j(e,this.h,this);e=e.m}return this.end()},e.prototype.reverse=function(){if(!(this.M<=1)){var t=this.H,e=this.l,r=0;while(r<<1<this.M){var n=t.p;t.p=e.p,e.p=n,t=t.m,e=e.L,r+=1}}},e.prototype.unique=function(){if(this.M<=1)return this.M;var t=this.H;while(t!==this.h){var e=t;while(e.m!==this.h&&e.p===e.m.p)e=e.m,this.M-=1;t.m=e.m,t.m.L=t,t=t.m}return this.M},e.prototype.sort=function(t){if(!(this.M<=1)){var e=[];this.forEach((function(t){e.push(t)})),e.sort(t);var r=this.H;e.forEach((function(t){r.p=t,r=r.m}))}},e.prototype.merge=function(t){var e=this;if(0===this.M)t.forEach((function(t){e.pushBack(t)}));else{var r=this.H;t.forEach((function(t){while(r!==e.h&&r.p<=t)r=r.m;e.F(t,r.L)}))}return this.M},e.prototype.forEach=function(t){var e=this.H,r=0;while(e!==this.h)t(e.p,r++,this),e=e.m},e.prototype[Symbol.iterator]=function(){return function(){var t;return C(this,(function(e){switch(e.label){case 0:if(0===this.M)return[2];t=this.H,e.label=1;case 1:return t===this.h?[3,3]:[4,t.p];case 2:return e.sent(),t=t.m,[3,1];case 3:return[2]}}))}.bind(this)()},e}(w),B=N,L=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),D=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(r)throw new TypeError("Generator is already executing.");while(s)try{if(r=1,n&&(i=2&o[0]?n["return"]:o[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},q=function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{while((void 0===e||e-- >0)&&!(n=o.next()).done)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(i)throw i.error}}return s},U=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))},F=function(t){function e(e,r,n){var i=t.call(this,e,n)||this;return i.container=r,i}return L(e,t),e.prototype.copy=function(){return new e(this.o,this.container,this.iteratorType)},e}(E),K=function(t){function e(e,r){void 0===e&&(e=[]),void 0===r&&(r=4096);var n=t.call(this)||this;n.A=0,n.S=0,n.R=0,n.k=0,n.C=0,n.j=[];var i=function(){if("number"===typeof e.length)return e.length;if("number"===typeof e.size)return e.size;if("function"===typeof e.size)return e.size();throw new TypeError("Cannot get the length or size of the container")}();n.B=r,n.C=Math.max(Math.ceil(i/n.B),1);for(var o=0;o<n.C;++o)n.j.push(new Array(n.B));var s=Math.ceil(i/n.B);n.A=n.R=(n.C>>1)-(s>>1),n.S=n.k=n.B-i%n.B>>1;var a=n;return e.forEach((function(t){a.pushBack(t)})),n}return L(e,t),e.prototype.O=function(){for(var t=[],e=Math.max(this.C>>1,1),r=0;r<e;++r)t[r]=new Array(this.B);for(r=this.A;r<this.C;++r)t[t.length]=this.j[r];for(r=0;r<this.R;++r)t[t.length]=this.j[r];t[t.length]=U([],q(this.j[this.R]),!1),this.A=e,this.R=t.length-1;for(r=0;r<e;++r)t[t.length]=new Array(this.B);this.j=t,this.C=t.length},e.prototype.T=function(t){var e=this.S+t+1,r=e%this.B,n=r-1,i=this.A+(e-r)/this.B;return 0===r&&(i-=1),i%=this.C,n<0&&(n+=this.B),{curNodeBucketIndex:i,curNodePointerIndex:n}},e.prototype.clear=function(){this.j=[new Array(this.B)],this.C=1,this.A=this.R=this.M=0,this.S=this.k=this.B>>1},e.prototype.begin=function(){return new F(0,this)},e.prototype.end=function(){return new F(this.M,this)},e.prototype.rBegin=function(){return new F(this.M-1,this,1)},e.prototype.rEnd=function(){return new F(-1,this,1)},e.prototype.front=function(){if(0!==this.M)return this.j[this.A][this.S]},e.prototype.back=function(){if(0!==this.M)return this.j[this.R][this.k]},e.prototype.pushBack=function(t){return this.M&&(this.k<this.B-1?this.k+=1:this.R<this.C-1?(this.R+=1,this.k=0):(this.R=0,this.k=0),this.R===this.A&&this.k===this.S&&this.O()),this.M+=1,this.j[this.R][this.k]=t,this.M},e.prototype.popBack=function(){if(0!==this.M){var t=this.j[this.R][this.k];return 1!==this.M&&(this.k>0?this.k-=1:this.R>0?(this.R-=1,this.k=this.B-1):(this.R=this.C-1,this.k=this.B-1)),this.M-=1,t}},e.prototype.pushFront=function(t){return this.M&&(this.S>0?this.S-=1:this.A>0?(this.A-=1,this.S=this.B-1):(this.A=this.C-1,this.S=this.B-1),this.A===this.R&&this.S===this.k&&this.O()),this.M+=1,this.j[this.A][this.S]=t,this.M},e.prototype.popFront=function(){if(0!==this.M){var t=this.j[this.A][this.S];return 1!==this.M&&(this.S<this.B-1?this.S+=1:this.A<this.C-1?(this.A+=1,this.S=0):(this.A=0,this.S=0)),this.M-=1,t}},e.prototype.getElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;var e=this.T(t),r=e.curNodeBucketIndex,n=e.curNodePointerIndex;return this.j[r][n]},e.prototype.setElementByPos=function(t,e){if(t<0||t>this.M-1)throw new RangeError;var r=this.T(t),n=r.curNodeBucketIndex,i=r.curNodePointerIndex;this.j[n][i]=e},e.prototype.insert=function(t,e,r){if(void 0===r&&(r=1),t<0||t>this.M)throw new RangeError;if(0===t)while(r--)this.pushFront(e);else if(t===this.M)while(r--)this.pushBack(e);else{for(var n=[],i=t;i<this.M;++i)n.push(this.getElementByPos(i));this.cut(t-1);for(i=0;i<r;++i)this.pushBack(e);for(i=0;i<n.length;++i)this.pushBack(n[i])}return this.M},e.prototype.cut=function(t){if(t<0)return this.clear(),0;var e=this.T(t),r=e.curNodeBucketIndex,n=e.curNodePointerIndex;return this.R=r,this.k=n,this.M=t+1,this.M},e.prototype.eraseElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;if(0===t)this.popFront();else if(t===this.M-1)this.popBack();else{for(var e=[],r=t+1;r<this.M;++r)e.push(this.getElementByPos(r));this.cut(t),this.popBack();var n=this;e.forEach((function(t){n.pushBack(t)}))}return this.M},e.prototype.eraseElementByValue=function(t){if(0===this.M)return 0;for(var e=[],r=0;r<this.M;++r){var n=this.getElementByPos(r);n!==t&&e.push(n)}var i=e.length;for(r=0;r<i;++r)this.setElementByPos(r,e[r]);return this.cut(i-1)},e.prototype.eraseElementByIterator=function(t){var e=t.o;return this.eraseElementByPos(e),t=t.next(),t},e.prototype.find=function(t){for(var e=0;e<this.M;++e)if(this.getElementByPos(e)===t)return new F(e,this);return this.end()},e.prototype.reverse=function(){var t=0,e=this.M-1;while(t<e){var r=this.getElementByPos(t);this.setElementByPos(t,this.getElementByPos(e)),this.setElementByPos(e,r),t+=1,e-=1}},e.prototype.unique=function(){if(this.M<=1)return this.M;for(var t=1,e=this.getElementByPos(0),r=1;r<this.M;++r){var n=this.getElementByPos(r);n!==e&&(e=n,this.setElementByPos(t++,n))}while(this.M>t)this.popBack();return this.M},e.prototype.sort=function(t){for(var e=[],r=0;r<this.M;++r)e.push(this.getElementByPos(r));e.sort(t);for(r=0;r<this.M;++r)this.setElementByPos(r,e[r])},e.prototype.shrinkToFit=function(){if(0!==this.M){var t=[];this.forEach((function(e){t.push(e)})),this.C=Math.max(Math.ceil(this.M/this.B),1),this.M=this.A=this.R=this.S=this.k=0,this.j=[];for(var e=0;e<this.C;++e)this.j.push(new Array(this.B));for(e=0;e<t.length;++e)this.pushBack(t[e])}},e.prototype.forEach=function(t){for(var e=0;e<this.M;++e)t(this.getElementByPos(e),e,this)},e.prototype[Symbol.iterator]=function(){return function(){var t;return D(this,(function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<this.M?[4,this.getElementByPos(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return++t,[3,1];case 4:return[2]}}))}.bind(this)()},e}(w),W=K,H=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),V=function(){function t(t,e){this.ee=1,this.u=void 0,this.p=void 0,this.K=void 0,this.N=void 0,this.rr=void 0,this.u=t,this.p=e}return t.prototype.L=function(){var t=this;if(1===t.ee&&t.rr.rr===t)t=t.N;else if(t.K){t=t.K;while(t.N)t=t.N}else{var e=t.rr;while(e.K===t)t=e,e=t.rr;t=e}return t},t.prototype.m=function(){var t=this;if(t.N){t=t.N;while(t.K)t=t.K;return t}var e=t.rr;while(e.N===t)t=e,e=t.rr;return t.N!==e?e:t},t.prototype.ne=function(){var t=this.rr,e=this.N,r=e.K;return t.rr===this?t.rr=e:t.K===this?t.K=e:t.N=e,e.rr=t,e.K=this,this.rr=e,this.N=r,r&&(r.rr=this),e},t.prototype.te=function(){var t=this.rr,e=this.K,r=e.N;return t.rr===this?t.rr=e:t.K===this?t.K=e:t.N=e,e.rr=t,e.N=this,this.rr=e,this.K=r,r&&(r.rr=this),e},t}(),Q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tr=1,e}return H(e,t),e.prototype.ne=function(){var e=t.prototype.ne.call(this);return this.ie(),e.ie(),e},e.prototype.te=function(){var e=t.prototype.te.call(this);return this.ie(),e.ie(),e},e.prototype.ie=function(){this.tr=1,this.K&&(this.tr+=this.K.tr),this.N&&(this.tr+=this.N.tr)},e}(V),G=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$=function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{while((void 0===e||e-- >0)&&!(n=o.next()).done)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(i)throw i.error}}return s},z=function(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J=function(t){function e(e,r){void 0===e&&(e=function(t,e){return t<e?-1:t>e?1:0}),void 0===r&&(r=!1);var n=t.call(this)||this;return n.W=void 0,n.$=e,r?(n.re=Q,n.v=function(t,e,r){var n=this.se(t,e,r);if(n){var i=n.rr;while(i!==this.h)i.tr+=1,i=i.rr;var o=this.fe(n);if(o){var s=o,a=s.parentNode,u=s.grandParent,c=s.curNode;a.ie(),u.ie(),c.ie()}}return this.M},n.G=function(t){var e=this.he(t);while(e!==this.h)e.tr-=1,e=e.rr}):(n.re=V,n.v=function(t,e,r){var n=this.se(t,e,r);return n&&this.fe(n),this.M},n.G=n.he),n.h=new n.re,n}return G(e,t),e.prototype.U=function(t,e){var r=this.h;while(t){var n=this.$(t.u,e);if(n<0)t=t.N;else{if(!(n>0))return t;r=t,t=t.K}}return r},e.prototype.X=function(t,e){var r=this.h;while(t){var n=this.$(t.u,e);n<=0?t=t.N:(r=t,t=t.K)}return r},e.prototype.Y=function(t,e){var r=this.h;while(t){var n=this.$(t.u,e);if(n<0)r=t,t=t.N;else{if(!(n>0))return t;t=t.K}}return r},e.prototype.Z=function(t,e){var r=this.h;while(t){var n=this.$(t.u,e);n<0?(r=t,t=t.N):t=t.K}return r},e.prototype.ue=function(t){while(1){var e=t.rr;if(e===this.h)return;if(1===t.ee)return void(t.ee=0);if(t===e.K){var r=e.N;if(1===r.ee)r.ee=0,e.ee=1,e===this.W?this.W=e.ne():e.ne();else{if(r.N&&1===r.N.ee)return r.ee=e.ee,e.ee=0,r.N.ee=0,void(e===this.W?this.W=e.ne():e.ne());r.K&&1===r.K.ee?(r.ee=1,r.K.ee=0,r.te()):(r.ee=1,t=e)}}else{r=e.K;if(1===r.ee)r.ee=0,e.ee=1,e===this.W?this.W=e.te():e.te();else{if(r.K&&1===r.K.ee)return r.ee=e.ee,e.ee=0,r.K.ee=0,void(e===this.W?this.W=e.te():e.te());r.N&&1===r.N.ee?(r.ee=1,r.N.ee=0,r.ne()):(r.ee=1,t=e)}}}},e.prototype.he=function(t){var e,r;if(1===this.M)return this.clear(),this.h;var n=t;while(n.K||n.N){if(n.N){n=n.N;while(n.K)n=n.K}else n=n.K;e=$([n.u,t.u],2),t.u=e[0],n.u=e[1],r=$([n.p,t.p],2),t.p=r[0],n.p=r[1],t=n}this.h.K===n?this.h.K=n.rr:this.h.N===n&&(this.h.N=n.rr),this.ue(n);var i=n.rr;return n===i.K?i.K=void 0:i.N=void 0,this.M-=1,this.W.ee=0,i},e.prototype.ae=function(t,e){if(void 0===t)return!1;var r=this.ae(t.K,e);return!!r||(!!e(t)||this.ae(t.N,e))},e.prototype.fe=function(t){while(1){var e=t.rr;if(0===e.ee)return;var r=e.rr;if(e===r.K){var n=r.N;if(n&&1===n.ee){if(n.ee=e.ee=0,r===this.W)return;r.ee=1,t=r;continue}if(t===e.N){if(t.ee=0,t.K&&(t.K.rr=e),t.N&&(t.N.rr=r),e.N=t.K,r.K=t.N,t.K=e,t.N=r,r===this.W)this.W=t,this.h.rr=t;else{var i=r.rr;i.K===r?i.K=t:i.N=t}return t.rr=r.rr,e.rr=t,r.rr=t,r.ee=1,{parentNode:e,grandParent:r,curNode:t}}e.ee=0,r===this.W?this.W=r.te():r.te(),r.ee=1}else{n=r.K;if(n&&1===n.ee){if(n.ee=e.ee=0,r===this.W)return;r.ee=1,t=r;continue}if(t===e.K){if(t.ee=0,t.K&&(t.K.rr=r),t.N&&(t.N.rr=e),r.N=t.K,e.K=t.N,t.K=r,t.N=e,r===this.W)this.W=t,this.h.rr=t;else{i=r.rr;i.K===r?i.K=t:i.N=t}return t.rr=r.rr,e.rr=t,r.rr=t,r.ee=1,{parentNode:e,grandParent:r,curNode:t}}e.ee=0,r===this.W?this.W=r.ne():r.ne(),r.ee=1}return}},e.prototype.se=function(t,e,r){if(void 0===this.W)return this.M+=1,this.W=new this.re(t,e),this.W.ee=0,this.W.rr=this.h,this.h.rr=this.W,this.h.K=this.W,void(this.h.N=this.W);var n,i=this.h.K,o=this.$(i.u,t);if(0!==o){if(o>0)i.K=new this.re(t,e),i.K.rr=i,n=i.K,this.h.K=n;else{var s=this.h.N,a=this.$(s.u,t);if(0===a)return void(s.p=e);if(a<0)s.N=new this.re(t,e),s.N.rr=s,n=s.N,this.h.N=n;else{if(void 0!==r){var u=r.o;if(u!==this.h){var c=this.$(u.u,t);if(0===c)return void(u.p=e);if(c>0){var l=u.L(),h=this.$(l.u,t);if(0===h)return void(l.p=e);h<0&&(n=new this.re(t,e),void 0===l.N?(l.N=n,n.rr=l):(u.K=n,n.rr=u))}}}if(void 0===n){n=this.W;while(1){var f=this.$(n.u,t);if(f>0){if(void 0===n.K){n.K=new this.re(t,e),n.K.rr=n,n=n.K;break}n=n.K}else{if(!(f<0))return void(n.p=e);if(void 0===n.N){n.N=new this.re(t,e),n.N.rr=n,n=n.N;break}n=n.N}}}}}return this.M+=1,n}i.p=e},e.prototype.g=function(t,e){while(t){var r=this.$(t.u,e);if(r<0)t=t.N;else{if(!(r>0))return t;t=t.K}}return t||this.h},e.prototype.clear=function(){this.M=0,this.W=void 0,this.h.rr=void 0,this.h.K=this.h.N=void 0},e.prototype.updateKeyByIterator=function(t,e){var r=t.o;if(r===this.h&&_(),1===this.M)return r.u=e,!0;if(r===this.h.K)return this.$(r.m().u,e)>0&&(r.u=e,!0);if(r===this.h.N)return this.$(r.L().u,e)<0&&(r.u=e,!0);var n=r.L().u;if(this.$(n,e)>=0)return!1;var i=r.m().u;return!(this.$(i,e)<=0)&&(r.u=e,!0)},e.prototype.eraseElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;var e=0,r=this;return this.ae(this.W,(function(n){return t===e?(r.G(n),!0):(e+=1,!1)})),this.M},e.prototype.eraseElementByKey=function(t){if(0===this.M)return!1;var e=this.g(this.W,t);return e!==this.h&&(this.G(e),!0)},e.prototype.eraseElementByIterator=function(t){var e=t.o;e===this.h&&_();var r=void 0===e.N,n=0===t.iteratorType;return n?r&&t.next():r&&void 0!==e.K||t.next(),this.G(e),t},e.prototype.forEach=function(t){var e,r,n=0;try{for(var i=z(this),o=i.next();!o.done;o=i.next()){var s=o.value;t(s,n++,this)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},e.prototype.getElementByPos=function(t){var e,r,n;if(t<0||t>this.M-1)throw new RangeError;var i=0;try{for(var o=z(this),s=o.next();!s.done;s=o.next()){var a=s.value;if(i===t){n=a;break}i+=1}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},e.prototype.getHeight=function(){if(0===this.M)return 0;var t=function(e){return e?Math.max(t(e.K),t(e.N))+1:0};return t(this.W)},e}(s),Y=J,Z=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),X=function(t){function e(e,r,n){var i=t.call(this,n)||this;return i.o=e,i.h=r,0===i.iteratorType?(i.pre=function(){return this.o===this.h.K&&_(),this.o=this.o.L(),this},i.next=function(){return this.o===this.h&&_(),this.o=this.o.m(),this}):(i.pre=function(){return this.o===this.h.N&&_(),this.o=this.o.m(),this},i.next=function(){return this.o===this.h&&_(),this.o=this.o.L(),this}),i}return Z(e,t),Object.defineProperty(e.prototype,"index",{get:function(){var t=this.o,e=this.h.rr;if(t===this.h)return e?e.tr-1:0;var r=0;t.K&&(r+=t.K.tr);while(t!==e){var n=t.rr;t===n.N&&(r+=1,n.K&&(r+=n.K.tr)),t=n}return r},enumerable:!1,configurable:!0}),e}(i),tt=X,et=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),rt=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(r)throw new TypeError("Generator is already executing.");while(s)try{if(r=1,n&&(i=2&o[0]?n["return"]:o[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},nt=function(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},it=function(t){function e(e,r,n,i){var o=t.call(this,e,r,i)||this;return o.container=n,o}return et(e,t),Object.defineProperty(e.prototype,"pointer",{get:function(){return this.o===this.h&&_(),this.o.u},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.o,this.h,this.container,this.iteratorType)},e}(tt),ot=function(t){function e(e,r,n){void 0===e&&(e=[]);var i=t.call(this,r,n)||this,o=i;return e.forEach((function(t){o.insert(t)})),i}return et(e,t),e.prototype.P=function(t){return rt(this,(function(e){switch(e.label){case 0:return void 0===t?[2]:[5,nt(this.P(t.K))];case 1:return e.sent(),[4,t.u];case 2:return e.sent(),[5,nt(this.P(t.N))];case 3:return e.sent(),[2]}}))},e.prototype.begin=function(){return new it(this.h.K||this.h,this.h,this)},e.prototype.end=function(){return new it(this.h,this.h,this)},e.prototype.rBegin=function(){return new it(this.h.N||this.h,this.h,this,1)},e.prototype.rEnd=function(){return new it(this.h,this.h,this,1)},e.prototype.front=function(){return this.h.K?this.h.K.u:void 0},e.prototype.back=function(){return this.h.N?this.h.N.u:void 0},e.prototype.insert=function(t,e){return this.v(t,void 0,e)},e.prototype.find=function(t){var e=this.g(this.W,t);return new it(e,this.h,this)},e.prototype.lowerBound=function(t){var e=this.U(this.W,t);return new it(e,this.h,this)},e.prototype.upperBound=function(t){var e=this.X(this.W,t);return new it(e,this.h,this)},e.prototype.reverseLowerBound=function(t){var e=this.Y(this.W,t);return new it(e,this.h,this)},e.prototype.reverseUpperBound=function(t){var e=this.Z(this.W,t);return new it(e,this.h,this)},e.prototype.union=function(t){var e=this;return t.forEach((function(t){e.insert(t)})),this.M},e.prototype[Symbol.iterator]=function(){return this.P(this.W)},e}(Y),st=ot,at=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ut=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(r)throw new TypeError("Generator is already executing.");while(s)try{if(r=1,n&&(i=2&o[0]?n["return"]:o[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},ct=function(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lt=function(t){function e(e,r,n,i){var o=t.call(this,e,r,i)||this;return o.container=n,o}return at(e,t),Object.defineProperty(e.prototype,"pointer",{get:function(){this.o===this.h&&_();var t=this;return new Proxy([],{get:function(e,r){return"0"===r?t.o.u:"1"===r?t.o.p:void 0},set:function(e,r,n){if("1"!==r)throw new TypeError("props must be 1");return t.o.p=n,!0}})},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.o,this.h,this.container,this.iteratorType)},e}(tt),ht=function(t){function e(e,r,n){void 0===e&&(e=[]);var i=t.call(this,r,n)||this,o=i;return e.forEach((function(t){o.setElement(t[0],t[1])})),i}return at(e,t),e.prototype.P=function(t){return ut(this,(function(e){switch(e.label){case 0:return void 0===t?[2]:[5,ct(this.P(t.K))];case 1:return e.sent(),[4,[t.u,t.p]];case 2:return e.sent(),[5,ct(this.P(t.N))];case 3:return e.sent(),[2]}}))},e.prototype.begin=function(){return new lt(this.h.K||this.h,this.h,this)},e.prototype.end=function(){return new lt(this.h,this.h,this)},e.prototype.rBegin=function(){return new lt(this.h.N||this.h,this.h,this,1)},e.prototype.rEnd=function(){return new lt(this.h,this.h,this,1)},e.prototype.front=function(){if(0!==this.M){var t=this.h.K;return[t.u,t.p]}},e.prototype.back=function(){if(0!==this.M){var t=this.h.N;return[t.u,t.p]}},e.prototype.lowerBound=function(t){var e=this.U(this.W,t);return new lt(e,this.h,this)},e.prototype.upperBound=function(t){var e=this.X(this.W,t);return new lt(e,this.h,this)},e.prototype.reverseLowerBound=function(t){var e=this.Y(this.W,t);return new lt(e,this.h,this)},e.prototype.reverseUpperBound=function(t){var e=this.Z(this.W,t);return new lt(e,this.h,this)},e.prototype.setElement=function(t,e,r){return this.v(t,e,r)},e.prototype.find=function(t){var e=this.g(this.W,t);return new lt(e,this.h,this)},e.prototype.getElementByKey=function(t){var e=this.g(this.W,t);return e.p},e.prototype.union=function(t){var e=this;return t.forEach((function(t){e.setElement(t[0],t[1])})),this.M},e.prototype[Symbol.iterator]=function(){return this.P(this.W)},e}(Y),ft=ht;function pt(t){var e=typeof t;return"object"===e&&null!==t||"function"===e}var dt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),bt=function(t){function e(e,r,n){var i=t.call(this,n)||this;return i.o=e,i.h=r,0===i.iteratorType?(i.pre=function(){return this.o.L===this.h&&_(),this.o=this.o.L,this},i.next=function(){return this.o===this.h&&_(),this.o=this.o.m,this}):(i.pre=function(){return this.o.m===this.h&&_(),this.o=this.o.m,this},i.next=function(){return this.o===this.h&&_(),this.o=this.o.L,this}),i}return dt(e,t),e}(i),yt=function(t){function e(){var e=t.call(this)||this;return e._=[],e.I={},e.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(e.I,null),e.h={},e.h.L=e.h.m=e.H=e.l=e.h,e}return dt(e,t),e.prototype.G=function(t){var e=t.L,r=t.m;e.m=r,r.L=e,t===this.H&&(this.H=r),t===this.l&&(this.l=e),this.M-=1},e.prototype.v=function(t,e,r){var n;if(void 0===r&&(r=pt(t)),r){var i=t[this.HASH_TAG];if(void 0!==i)return this._[i].p=e,this.M;Object.defineProperty(t,this.HASH_TAG,{value:this._.length,configurable:!0}),n={u:t,p:e,L:this.l,m:this.h},this._.push(n)}else{var o=this.I[t];if(o)return o.p=e,this.M;n={u:t,p:e,L:this.l,m:this.h},this.I[t]=n}return 0===this.M?(this.H=n,this.h.m=n):this.l.m=n,this.l=n,this.h.L=n,++this.M},e.prototype.g=function(t,e){if(void 0===e&&(e=pt(t)),e){var r=t[this.HASH_TAG];return void 0===r?this.h:this._[r]}return this.I[t]||this.h},e.prototype.clear=function(){var t=this.HASH_TAG;this._.forEach((function(e){delete e.u[t]})),this._=[],this.I={},Object.setPrototypeOf(this.I,null),this.M=0,this.H=this.l=this.h.L=this.h.m=this.h},e.prototype.eraseElementByKey=function(t,e){var r;if(void 0===e&&(e=pt(t)),e){var n=t[this.HASH_TAG];if(void 0===n)return!1;delete t[this.HASH_TAG],r=this._[n],delete this._[n]}else{if(r=this.I[t],void 0===r)return!1;delete this.I[t]}return this.G(r),!0},e.prototype.eraseElementByIterator=function(t){var e=t.o;return e===this.h&&_(),this.G(e),t.next()},e.prototype.eraseElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;var e=this.H;while(t--)e=e.m;return this.G(e),this.M},e}(s),gt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mt=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(r)throw new TypeError("Generator is already executing.");while(s)try{if(r=1,n&&(i=2&o[0]?n["return"]:o[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},vt=function(t){function e(e,r,n,i){var o=t.call(this,e,r,i)||this;return o.container=n,o}return gt(e,t),Object.defineProperty(e.prototype,"pointer",{get:function(){return this.o===this.h&&_(),this.o.u},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.o,this.h,this.container,this.iteratorType)},e}(bt),wt=function(t){function e(e){void 0===e&&(e=[]);var r=t.call(this)||this,n=r;return e.forEach((function(t){n.insert(t)})),r}return gt(e,t),e.prototype.begin=function(){return new vt(this.H,this.h,this)},e.prototype.end=function(){return new vt(this.h,this.h,this)},e.prototype.rBegin=function(){return new vt(this.l,this.h,this,1)},e.prototype.rEnd=function(){return new vt(this.h,this.h,this,1)},e.prototype.front=function(){return this.H.u},e.prototype.back=function(){return this.l.u},e.prototype.insert=function(t,e){return this.v(t,void 0,e)},e.prototype.getElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;var e=this.H;while(t--)e=e.m;return e.u},e.prototype.find=function(t,e){var r=this.g(t,e);return new vt(r,this.h,this)},e.prototype.forEach=function(t){var e=0,r=this.H;while(r!==this.h)t(r.u,e++,this),r=r.m},e.prototype[Symbol.iterator]=function(){return function(){var t;return mt(this,(function(e){switch(e.label){case 0:t=this.H,e.label=1;case 1:return t===this.h?[3,3]:[4,t.u];case 2:return e.sent(),t=t.m,[3,1];case 3:return[2]}}))}.bind(this)()},e}(yt),_t=wt,St=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Et=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(r)throw new TypeError("Generator is already executing.");while(s)try{if(r=1,n&&(i=2&o[0]?n["return"]:o[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},kt=function(t){function e(e,r,n,i){var o=t.call(this,e,r,i)||this;return o.container=n,o}return St(e,t),Object.defineProperty(e.prototype,"pointer",{get:function(){this.o===this.h&&_();var t=this;return new Proxy([],{get:function(e,r){return"0"===r?t.o.u:"1"===r?t.o.p:void 0},set:function(e,r,n){if("1"!==r)throw new TypeError("props must be 1");return t.o.p=n,!0}})},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.o,this.h,this.container,this.iteratorType)},e}(bt),Tt=function(t){function e(e){void 0===e&&(e=[]);var r=t.call(this)||this,n=r;return e.forEach((function(t){n.setElement(t[0],t[1])})),r}return St(e,t),e.prototype.begin=function(){return new kt(this.H,this.h,this)},e.prototype.end=function(){return new kt(this.h,this.h,this)},e.prototype.rBegin=function(){return new kt(this.l,this.h,this,1)},e.prototype.rEnd=function(){return new kt(this.h,this.h,this,1)},e.prototype.front=function(){if(0!==this.M)return[this.H.u,this.H.p]},e.prototype.back=function(){if(0!==this.M)return[this.l.u,this.l.p]},e.prototype.setElement=function(t,e,r){return this.v(t,e,r)},e.prototype.getElementByKey=function(t,e){if(void 0===e&&(e=pt(t)),e){var r=t[this.HASH_TAG];return void 0!==r?this._[r].p:void 0}var n=this.I[t];return n?n.p:void 0},e.prototype.getElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;var e=this.H;while(t--)e=e.m;return[e.u,e.p]},e.prototype.find=function(t,e){var r=this.g(t,e);return new kt(r,this.h,this)},e.prototype.forEach=function(t){var e=0,r=this.H;while(r!==this.h)t([r.u,r.p],e++,this),r=r.m},e.prototype[Symbol.iterator]=function(){return function(){var t;return Et(this,(function(e){switch(e.label){case 0:t=this.H,e.label=1;case 1:return t===this.h?[3,3]:[4,[t.u,t.p]];case 2:return e.sent(),t=t.m,[3,1];case 3:return[2]}}))}.bind(this)()},e}(yt),Mt=Tt},"3fb5":function(t,e){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},4:function(t,e){},"4d84":function(t,e,r){"use strict";const n=r("3d67").OrderedSet,i=r("34eb")("number-allocator:trace"),o=r("34eb")("number-allocator:error");function s(t,e){this.low=t,this.high=e}function a(t,e){if(!(this instanceof a))return new a(t,e);this.min=t,this.max=e,this.ss=new n([],(t,e)=>t.compare(e)),i("Create"),this.clear()}s.prototype.equals=function(t){return this.low===t.low&&this.high===t.high},s.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0},a.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},a.prototype.alloc=function(){if(0===this.ss.size())return i("alloc():empty"),null;const t=this.ss.begin(),e=t.pointer.low,r=t.pointer.high,n=e;return n+1<=r?this.ss.updateKeyByIterator(t,new s(e+1,r)):this.ss.eraseElementByPos(0),i("alloc():"+n),n},a.prototype.use=function(t){const e=new s(t,t),r=this.ss.lowerBound(e);if(!r.equals(this.ss.end())){const n=r.pointer.low,o=r.pointer.high;return r.pointer.equals(e)?(this.ss.eraseElementByIterator(r),i("use():"+t),!0):!(n>t)&&(n===t?(this.ss.updateKeyByIterator(r,new s(n+1,o)),i("use():"+t),!0):o===t?(this.ss.updateKeyByIterator(r,new s(n,o-1)),i("use():"+t),!0):(this.ss.updateKeyByIterator(r,new s(t+1,o)),this.ss.insert(new s(n,t-1)),i("use():"+t),!0))}return i("use():failed"),!1},a.prototype.free=function(t){if(t<this.min||t>this.max)return void o("free():"+t+" is out of range");const e=new s(t,t),r=this.ss.upperBound(e);if(r.equals(this.ss.end())){if(r.equals(this.ss.begin()))return void this.ss.insert(e);r.pre();const n=r.pointer.high,i=r.pointer.high;i+1===t?this.ss.updateKeyByIterator(r,new s(n,t)):this.ss.insert(e)}else if(r.equals(this.ss.begin()))if(t+1===r.pointer.low){const e=r.pointer.high;this.ss.updateKeyByIterator(r,new s(t,e))}else this.ss.insert(e);else{const n=r.pointer.low,i=r.pointer.high;r.pre();const o=r.pointer.low,a=r.pointer.high;a+1===t?t+1===n?(this.ss.eraseElementByIterator(r),this.ss.updateKeyByIterator(r,new s(o,i))):this.ss.updateKeyByIterator(r,new s(o,t)):t+1===n?(this.ss.eraseElementByIterator(r.next()),this.ss.insert(new s(t,i))):this.ss.insert(e)}i("free():"+t)},a.prototype.clear=function(){i("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},a.prototype.intervalCount=function(){return this.ss.size()},a.prototype.dump=function(){console.log("length:"+this.ss.size());for(const t of this.ss)console.log(t)},t.exports=a},5:function(t,e){},"51e9":function(t,e,r){"use strict";const n=r("f214").Duplex,i=r("3fb5"),o=r("33013");function s(t){if(!(this instanceof s))return new s(t);if("function"===typeof t){this._callback=t;const e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",(function(t){t.on("error",e)})),this.on("unpipe",(function(t){t.removeListener("error",e)})),t=null}o._init.call(this,t),n.call(this)}i(s,n),Object.assign(s.prototype,o.prototype),s.prototype._new=function(t){return new s(t)},s.prototype._write=function(t,e,r){this._appendBuffer(t),"function"===typeof r&&r()},s.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},s.prototype.end=function(t){n.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(t,e){this._bufs.length=0,this.length=0,e(t)},s.prototype._isBufferList=function(t){return t instanceof s||t instanceof o||s.isBufferList(t)},s.isBufferList=o.isBufferList,t.exports=s,t.exports.BufferListStream=s,t.exports.BufferList=o},"53a8":function(t,e){t.exports=n;var r=Object.prototype.hasOwnProperty;function n(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t}},"566b":function(t,e,r){var n=r("d633");function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function o(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}t.exports=n(i),t.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},"56ac":function(t,e,r){(function(e,n){var i=r("035d"),o=r("ab52"),s=r("3fb5"),a=r("f9c1"),u=e.from&&e.from!==Uint8Array.from?e.from([0]):new e([0]),c=function(t,e){t._corked?t.once("uncork",e):e()},l=function(t,e){t._autoDestroy&&t.destroy(e)},h=function(t,e){return function(r){r?l(t,"premature close"===r.message?null:r):e&&!t._ended&&t.end()}},f=function(t,e){return t?t._writableState&&t._writableState.finished?e():t._writableState?t.end(e):(t.end(),void e()):e()},p=function(){},d=function(t){return new i.Readable({objectMode:!0,highWaterMark:16}).wrap(t)},b=function(t,e,r){if(!(this instanceof b))return new b(t,e,r);i.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};s(b,i.Duplex),b.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new b(t,e,r)},b.prototype.cork=function(){1===++this._corked&&this.emit("cork")},b.prototype.uncork=function(){this._corked&&0===--this._corked&&this.emit("uncork")},b.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed)t&&t.destroy&&t.destroy();else if(null!==t&&!1!==t){var e=this,r=o(t,{writable:!0,readable:!1},h(this,this._forwardEnd)),i=function(){var t=e._ondrain;e._ondrain=null,t&&t()},s=function(){e._writable.removeListener("drain",i),r()};this._unwrite&&n.nextTick(i),this._writable=t,this._writable.on("drain",i),this._unwrite=s,this.uncork()}else this.end()},b.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed)t&&t.destroy&&t.destroy();else{if(null===t||!1===t)return this.push(null),void this.resume();var e=this,r=o(t,{writable:!1,readable:!0},h(this)),n=function(){e._forward()},i=function(){e.push(null)},s=function(){e._readable2.removeListener("readable",n),e._readable2.removeListener("end",i),r()};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:d(t),this._readable2.on("readable",n),this._readable2.on("end",i),this._unread=s,this._forward()}},b.prototype._read=function(){this._drained=!0,this._forward()},b.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var t;this._forwarding=!0;while(this._drained&&null!==(t=a(this._readable2)))this.destroyed||(this._drained=this.push(t));this._forwarding=!1}},b.prototype.destroy=function(t,e){if(e||(e=p),this.destroyed)return e(null);this.destroyed=!0;var r=this;n.nextTick((function(){r._destroy(t),e(null)}))},b.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},b.prototype._write=function(t,e,r){if(!this.destroyed)return this._corked?c(this,this._write.bind(this,t,e,r)):t===u?this._finish(r):this._writable?void(!1===this._writable.write(t)?this._ondrain=r:this.destroyed||r()):r()},b.prototype._finish=function(t){var e=this;this.emit("preend"),c(this,(function(){f(e._forwardEnd&&e._writable,(function(){!1===e._writableState.prefinished&&(e._writableState.prefinished=!0),e.emit("prefinish"),c(e,t)}))}))},b.prototype.end=function(t,e,r){return"function"===typeof t?this.end(null,null,t):"function"===typeof e?this.end(t,null,e):(this._ended=!0,t&&this.write(t),this._writableState.ending||this._writableState.destroyed||this.write(u),i.Writable.prototype.end.call(this,r))},t.exports=b}).call(this,r("b639").Buffer,r("f28c"))},"57e9":function(t,e,r){},"5e26":function(t,e,r){"use strict";r("57e9")},6:function(t,e){},6155:function(t,e,r){const n=r("4d84");t.exports.NumberAllocator=n},"63f0":function(t,e,r){"use strict";const n=r("2fae"),i=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),h=Symbol("lruList"),f=Symbol("cache"),p=Symbol("updateAgeOnGet"),d=()=>1;class b{constructor(t){if("number"===typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!==typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[i]=t.max||1/0;const e=t.length||d;if(this[s]="function"!==typeof e?d:e,this[a]=t.stale||!1,t.maxAge&&"number"!==typeof t.maxAge)throw new TypeError("maxAge must be a number");this[u]=t.maxAge||0,this[c]=t.dispose,this[l]=t.noDisposeOnSet||!1,this[p]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!==typeof t||t<0)throw new TypeError("max must be a non-negative number");this[i]=t||1/0,m(this)}get max(){return this[i]}set allowStale(t){this[a]=!!t}get allowStale(){return this[a]}set maxAge(t){if("number"!==typeof t)throw new TypeError("maxAge must be a non-negative number");this[u]=t,m(this)}get maxAge(){return this[u]}set lengthCalculator(t){"function"!==typeof t&&(t=d),t!==this[s]&&(this[s]=t,this[o]=0,this[h].forEach(t=>{t.length=this[s](t.value,t.key),this[o]+=t.length})),m(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[h].length}rforEach(t,e){e=e||this;for(let r=this[h].tail;null!==r;){const n=r.prev;_(this,t,r,e),r=n}}forEach(t,e){e=e||this;for(let r=this[h].head;null!==r;){const n=r.next;_(this,t,r,e),r=n}}keys(){return this[h].toArray().map(t=>t.key)}values(){return this[h].toArray().map(t=>t.value)}reset(){this[c]&&this[h]&&this[h].length&&this[h].forEach(t=>this[c](t.key,t.value)),this[f]=new Map,this[h]=new n,this[o]=0}dump(){return this[h].map(t=>!g(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[h]}set(t,e,r){if(r=r||this[u],r&&"number"!==typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[s](e,t);if(this[f].has(t)){if(a>this[i])return v(this,this[f].get(t)),!1;const s=this[f].get(t),u=s.value;return this[c]&&(this[l]||this[c](t,u.value)),u.now=n,u.maxAge=r,u.value=e,this[o]+=a-u.length,u.length=a,this.get(t),m(this),!0}const p=new w(t,e,a,n,r);return p.length>this[i]?(this[c]&&this[c](t,e),!1):(this[o]+=p.length,this[h].unshift(p),this[f].set(t,this[h].head),m(this),!0)}has(t){if(!this[f].has(t))return!1;const e=this[f].get(t).value;return!g(this,e)}get(t){return y(this,t,!0)}peek(t){return y(this,t,!1)}pop(){const t=this[h].tail;return t?(v(this,t),t.value):null}del(t){v(this,this[f].get(t))}load(t){this.reset();const e=Date.now();for(let r=t.length-1;r>=0;r--){const n=t[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const t=i-e;t>0&&this.set(n.k,n.v,t)}}}prune(){this[f].forEach((t,e)=>y(this,e,!1))}}const y=(t,e,r)=>{const n=t[f].get(e);if(n){const e=n.value;if(g(t,e)){if(v(t,n),!t[a])return}else r&&(t[p]&&(n.value.now=Date.now()),t[h].unshiftNode(n));return e.value}},g=(t,e)=>{if(!e||!e.maxAge&&!t[u])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[u]&&r>t[u]},m=t=>{if(t[o]>t[i])for(let e=t[h].tail;t[o]>t[i]&&null!==e;){const r=e.prev;v(t,e),e=r}},v=(t,e)=>{if(e){const r=e.value;t[c]&&t[c](r.key,r.value),t[o]-=r.length,t[f].delete(r.key),t[h].removeNode(e)}};class w{constructor(t,e,r,n,i){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=i||0}}const _=(t,e,r,n)=>{let i=r.value;g(t,i)&&(v(t,r),t[a]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};t.exports=b},"652a":function(t,e,r){"use strict";var n;function i(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var o=r("fbd7").codes,s=o.ERR_MISSING_ARGS,a=o.ERR_STREAM_DESTROYED;function u(t){if(t)throw t}function c(t){return t.setHeader&&"function"===typeof t.abort}function l(t,e,o,s){s=i(s);var u=!1;t.on("close",(function(){u=!0})),void 0===n&&(n=r("d9e1")),n(t,{readable:e,writable:o},(function(t){if(t)return s(t);u=!0,s()}));var l=!1;return function(e){if(!u&&!l)return l=!0,c(t)?t.abort():"function"===typeof t.destroy?t.destroy():void s(e||new a("pipe"))}}function h(t){t()}function f(t,e){return t.pipe(e)}function p(t){return t.length?"function"!==typeof t[t.length-1]?u:t.pop():u}function d(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=p(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var o=e.map((function(t,r){var s=r<e.length-1,a=r>0;return l(t,s,a,(function(t){n||(n=t),t&&o.forEach(h),s||(o.forEach(h),i(n))}))}));return e.reduce(f)}t.exports=d},"6b54":function(t,e,r){"use strict";r("3846");var n=r("cb7c"),i=r("0bfb"),o=r("9e1e"),s="toString",a=/./[s],u=function(t){r("2aba")(RegExp.prototype,s,t,!0)};r("79e5")((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?u((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):a.name!=s&&u((function(){return a.call(this)}))},7:function(t,e){},7058:function(t,e,r){"use strict";t.exports=i;var n=r("3ca2");function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r("3fb5")(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},7135:function(t,e,r){(function(e){const n=r("b289"),i=e.allocUnsafe(0),o=e.from([0]),s=r("f0cb"),a=r("966d").nextTick,u=r("34eb")("mqtt-packet:writeToStream"),c=s.cache,l=s.generateNumber,h=s.generateCache,f=s.genBufVariableByteInt,p=s.generate4ByteBuffer;let d=C,b=!0;function y(t,e,r){switch(u("generate called"),e.cork&&(e.cork(),a(g,e)),b&&(b=!1,h()),u("generate: packet.cmd: %s",t.cmd),t.cmd){case"connect":return m(t,e,r);case"connack":return v(t,e,r);case"publish":return w(t,e,r);case"puback":case"pubrec":case"pubrel":case"pubcomp":return _(t,e,r);case"subscribe":return S(t,e,r);case"suback":return E(t,e,r);case"unsubscribe":return k(t,e,r);case"unsuback":return T(t,e,r);case"pingreq":case"pingresp":return M(t,e,r);case"disconnect":return A(t,e,r);case"auth":return R(t,e,r);default:return e.emit("error",new Error("Unknown command")),!1}}function g(t){t.uncork()}function m(t,r,i){const o=t||{},s=o.protocolId||"MQTT";let a=o.protocolVersion||4;const u=o.will;let c=o.clean;const l=o.keepalive||0,h=o.clientId||"",f=o.username,p=o.password,b=o.properties;void 0===c&&(c=!0);let y=0;if(!s||"string"!==typeof s&&!e.isBuffer(s))return r.emit("error",new Error("Invalid protocolId")),!1;if(y+=s.length+2,3!==a&&4!==a&&5!==a)return r.emit("error",new Error("Invalid protocol version")),!1;if(y+=1,("string"===typeof h||e.isBuffer(h))&&(h||a>=4)&&(h||c))y+=e.byteLength(h)+2;else{if(a<4)return r.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*c===0)return r.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!==typeof l||l<0||l>65535||l%1!==0)return r.emit("error",new Error("Invalid keepalive")),!1;if(y+=2,y+=1,5===a){var g=L(r,b);if(!g)return!1;y+=g.length}if(u){if("object"!==typeof u)return r.emit("error",new Error("Invalid will")),!1;if(!u.topic||"string"!==typeof u.topic)return r.emit("error",new Error("Invalid will topic")),!1;if(y+=e.byteLength(u.topic)+2,y+=2,u.payload){if(!(u.payload.length>=0))return r.emit("error",new Error("Invalid will payload")),!1;"string"===typeof u.payload?y+=e.byteLength(u.payload):y+=u.payload.length}var m={};if(5===a){if(m=L(r,u.properties),!m)return!1;y+=m.length}}let v=!1;if(null!=f){if(!K(f))return r.emit("error",new Error("Invalid username")),!1;v=!0,y+=e.byteLength(f)+2}if(null!=p){if(!v)return r.emit("error",new Error("Username is required to use password")),!1;if(!K(p))return r.emit("error",new Error("Invalid password")),!1;y+=F(p)+2}r.write(n.CONNECT_HEADER),x(r,y),B(r,s),o.bridgeMode&&(a+=128),r.write(131===a?n.VERSION131:132===a?n.VERSION132:4===a?n.VERSION4:5===a?n.VERSION5:n.VERSION3);let w=0;return w|=null!=f?n.USERNAME_MASK:0,w|=null!=p?n.PASSWORD_MASK:0,w|=u&&u.retain?n.WILL_RETAIN_MASK:0,w|=u&&u.qos?u.qos<<n.WILL_QOS_SHIFT:0,w|=u?n.WILL_FLAG_MASK:0,w|=c?n.CLEAN_SESSION_MASK:0,r.write(e.from([w])),d(r,l),5===a&&g.write(),B(r,h),u&&(5===a&&m.write(),I(r,u.topic),B(r,u.payload)),null!=f&&B(r,f),null!=p&&B(r,p),!0}function v(t,r,i){const s=i?i.protocolVersion:4,a=t||{},u=5===s?a.reasonCode:a.returnCode,c=a.properties;let l=2;if("number"!==typeof u)return r.emit("error",new Error("Invalid return code")),!1;let h=null;if(5===s){if(h=L(r,c),!h)return!1;l+=h.length}return r.write(n.CONNACK_HEADER),x(r,l),r.write(a.sessionPresent?n.SESSIONPRESENT_HEADER:o),r.write(e.from([u])),null!=h&&h.write(),!0}function w(t,r,o){u("publish: packet: %o",t);const s=o?o.protocolVersion:4,a=t||{},c=a.qos||0,l=a.retain?n.RETAIN_MASK:0,h=a.topic,f=a.payload||i,p=a.messageId,b=a.properties;let y=0;if("string"===typeof h)y+=e.byteLength(h)+2;else{if(!e.isBuffer(h))return r.emit("error",new Error("Invalid topic")),!1;y+=h.length+2}if(e.isBuffer(f)?y+=f.length:y+=e.byteLength(f),c&&"number"!==typeof p)return r.emit("error",new Error("Invalid messageId")),!1;c&&(y+=2);let g=null;if(5===s){if(g=L(r,b),!g)return!1;y+=g.length}return r.write(n.PUBLISH_HEADER[c][a.dup?1:0][l?1:0]),x(r,y),d(r,F(h)),r.write(h),c>0&&d(r,p),null!=g&&g.write(),u("publish: payload: %o",f),r.write(f)}function _(t,r,i){const o=i?i.protocolVersion:4,s=t||{},a=s.cmd||"puback",u=s.messageId,c=s.dup&&"pubrel"===a?n.DUP_MASK:0;let l=0;const h=s.reasonCode,f=s.properties;let p=5===o?3:2;if("pubrel"===a&&(l=1),"number"!==typeof u)return r.emit("error",new Error("Invalid messageId")),!1;let b=null;if(5===o&&"object"===typeof f){if(b=D(r,f,i,p),!b)return!1;p+=b.length}return r.write(n.ACKS[a][l][c][0]),x(r,p),d(r,u),5===o&&r.write(e.from([h])),null!==b&&b.write(),!0}function S(t,r,i){u("subscribe: packet: ");const o=i?i.protocolVersion:4,s=t||{},a=s.dup?n.DUP_MASK:0,c=s.messageId,l=s.subscriptions,h=s.properties;let f=0;if("number"!==typeof c)return r.emit("error",new Error("Invalid messageId")),!1;f+=2;let p=null;if(5===o){if(p=L(r,h),!p)return!1;f+=p.length}if("object"!==typeof l||!l.length)return r.emit("error",new Error("Invalid subscriptions")),!1;for(let n=0;n<l.length;n+=1){const t=l[n].topic,i=l[n].qos;if("string"!==typeof t)return r.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!==typeof i)return r.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===o){const t=l[n].nl||!1;if("boolean"!==typeof t)return r.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;const e=l[n].rap||!1;if("boolean"!==typeof e)return r.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const i=l[n].rh||0;if("number"!==typeof i||i>2)return r.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}f+=e.byteLength(t)+2+1}u("subscribe: writing to stream: %o",n.SUBSCRIBE_HEADER),r.write(n.SUBSCRIBE_HEADER[1][a?1:0][0]),x(r,f),d(r,c),null!==p&&p.write();let b=!0;for(const u of l){const t=u.topic,i=u.qos,s=+u.nl,a=+u.rap,c=u.rh;let l;I(r,t),l=n.SUBSCRIBE_OPTIONS_QOS[i],5===o&&(l|=s?n.SUBSCRIBE_OPTIONS_NL:0,l|=a?n.SUBSCRIBE_OPTIONS_RAP:0,l|=c?n.SUBSCRIBE_OPTIONS_RH[c]:0),b=r.write(e.from([l]))}return b}function E(t,r,i){const o=i?i.protocolVersion:4,s=t||{},a=s.messageId,u=s.granted,c=s.properties;let l=0;if("number"!==typeof a)return r.emit("error",new Error("Invalid messageId")),!1;if(l+=2,"object"!==typeof u||!u.length)return r.emit("error",new Error("Invalid qos vector")),!1;for(let e=0;e<u.length;e+=1){if("number"!==typeof u[e])return r.emit("error",new Error("Invalid qos vector")),!1;l+=1}let h=null;if(5===o){if(h=D(r,c,i,l),!h)return!1;l+=h.length}return r.write(n.SUBACK_HEADER),x(r,l),d(r,a),null!==h&&h.write(),r.write(e.from(u))}function k(t,r,i){const o=i?i.protocolVersion:4,s=t||{},a=s.messageId,u=s.dup?n.DUP_MASK:0,c=s.unsubscriptions,l=s.properties;let h=0;if("number"!==typeof a)return r.emit("error",new Error("Invalid messageId")),!1;if(h+=2,"object"!==typeof c||!c.length)return r.emit("error",new Error("Invalid unsubscriptions")),!1;for(let n=0;n<c.length;n+=1){if("string"!==typeof c[n])return r.emit("error",new Error("Invalid unsubscriptions")),!1;h+=e.byteLength(c[n])+2}let f=null;if(5===o){if(f=L(r,l),!f)return!1;h+=f.length}r.write(n.UNSUBSCRIBE_HEADER[1][u?1:0][0]),x(r,h),d(r,a),null!==f&&f.write();let p=!0;for(let e=0;e<c.length;e++)p=I(r,c[e]);return p}function T(t,r,i){const o=i?i.protocolVersion:4,s=t||{},a=s.messageId,u=s.dup?n.DUP_MASK:0,c=s.granted,l=s.properties,h=s.cmd,f=0;let p=2;if("number"!==typeof a)return r.emit("error",new Error("Invalid messageId")),!1;if(5===o){if("object"!==typeof c||!c.length)return r.emit("error",new Error("Invalid qos vector")),!1;for(let t=0;t<c.length;t+=1){if("number"!==typeof c[t])return r.emit("error",new Error("Invalid qos vector")),!1;p+=1}}let b=null;if(5===o){if(b=D(r,l,i,p),!b)return!1;p+=b.length}return r.write(n.ACKS[h][f][u][0]),x(r,p),d(r,a),null!==b&&b.write(),5===o&&r.write(e.from(c)),!0}function M(t,e,r){return e.write(n.EMPTY[t.cmd])}function A(t,r,i){const o=i?i.protocolVersion:4,s=t||{},a=s.reasonCode,u=s.properties;let c=5===o?1:0,l=null;if(5===o){if(l=D(r,u,i,c),!l)return!1;c+=l.length}return r.write(e.from([n.codes.disconnect<<4])),x(r,c),5===o&&r.write(e.from([a])),null!==l&&l.write(),!0}function R(t,r,i){const o=i?i.protocolVersion:4,s=t||{},a=s.reasonCode,u=s.properties;let c=5===o?1:0;5!==o&&r.emit("error",new Error("Invalid mqtt version for auth packet"));const l=D(r,u,i,c);return!!l&&(c+=l.length,r.write(e.from([n.codes.auth<<4])),x(r,c),r.write(e.from([a])),null!==l&&l.write(),!0)}Object.defineProperty(y,"cacheNumbers",{get(){return d===C},set(t){t?(c&&0!==Object.keys(c).length||(b=!0),d=C):(b=!1,d=j)}});const O={};function x(t,e){if(e>n.VARBYTEINT_MAX)return t.emit("error",new Error("Invalid variable byte integer: "+e)),!1;let r=O[e];return r||(r=f(e),e<16384&&(O[e]=r)),u("writeVarByteInt: writing to stream: %o",r),t.write(r)}function I(t,r){const n=e.byteLength(r);return d(t,n),u("writeString: %s",r),t.write(r,"utf8")}function P(t,e,r){I(t,e),I(t,r)}function C(t,e){return u("writeNumberCached: number: %d",e),u("writeNumberCached: %o",c[e]),t.write(c[e])}function j(t,e){const r=l(e);return u("writeNumberGenerated: %o",r),t.write(r)}function N(t,e){const r=p(e);return u("write4ByteNumber: %o",r),t.write(r)}function B(t,e){"string"===typeof e?I(t,e):e?(d(t,e.length),t.write(e)):d(t,0)}function L(t,r){if("object"!==typeof r||null!=r.length)return{length:1,write(){U(t,{},0)}};let i=0;function o(r,i){const o=n.propertiesTypes[r];let s=0;switch(o){case"byte":if("boolean"!==typeof i)return t.emit("error",new Error(`Invalid ${r}: ${i}`)),!1;s+=2;break;case"int8":if("number"!==typeof i||i<0||i>255)return t.emit("error",new Error(`Invalid ${r}: ${i}`)),!1;s+=2;break;case"binary":if(i&&null===i)return t.emit("error",new Error(`Invalid ${r}: ${i}`)),!1;s+=1+e.byteLength(i)+2;break;case"int16":if("number"!==typeof i||i<0||i>65535)return t.emit("error",new Error(`Invalid ${r}: ${i}`)),!1;s+=3;break;case"int32":if("number"!==typeof i||i<0||i>4294967295)return t.emit("error",new Error(`Invalid ${r}: ${i}`)),!1;s+=5;break;case"var":if("number"!==typeof i||i<0||i>268435455)return t.emit("error",new Error(`Invalid ${r}: ${i}`)),!1;s+=1+e.byteLength(f(i));break;case"string":if("string"!==typeof i)return t.emit("error",new Error(`Invalid ${r}: ${i}`)),!1;s+=3+e.byteLength(i.toString());break;case"pair":if("object"!==typeof i)return t.emit("error",new Error(`Invalid ${r}: ${i}`)),!1;s+=Object.getOwnPropertyNames(i).reduce((t,r)=>{const n=i[r];return Array.isArray(n)?t+=n.reduce((t,n)=>(t+=3+e.byteLength(r.toString())+2+e.byteLength(n.toString()),t),0):t+=3+e.byteLength(r.toString())+2+e.byteLength(i[r].toString()),t},0);break;default:return t.emit("error",new Error(`Invalid property ${r}: ${i}`)),!1}return s}if(r)for(const e in r){let t=0,n=0;const s=r[e];if(Array.isArray(s))for(let r=0;r<s.length;r++){if(n=o(e,s[r]),!n)return!1;t+=n}else{if(n=o(e,s),!n)return!1;t=n}if(!t)return!1;i+=t}const s=e.byteLength(f(i));return{length:s+i,write(){U(t,r,i)}}}function D(t,e,r,n){const i=["reasonString","userProperties"],o=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0;let s=L(t,e);if(o)while(n+s.length>o){const r=i.shift();if(!r||!e[r])return!1;delete e[r],s=L(t,e)}return s}function q(t,r,i){const o=n.propertiesTypes[r];switch(o){case"byte":t.write(e.from([n.properties[r]])),t.write(e.from([+i]));break;case"int8":t.write(e.from([n.properties[r]])),t.write(e.from([i]));break;case"binary":t.write(e.from([n.properties[r]])),B(t,i);break;case"int16":t.write(e.from([n.properties[r]])),d(t,i);break;case"int32":t.write(e.from([n.properties[r]])),N(t,i);break;case"var":t.write(e.from([n.properties[r]])),x(t,i);break;case"string":t.write(e.from([n.properties[r]])),I(t,i);break;case"pair":Object.getOwnPropertyNames(i).forEach(o=>{const s=i[o];Array.isArray(s)?s.forEach(i=>{t.write(e.from([n.properties[r]])),P(t,o.toString(),i.toString())}):(t.write(e.from([n.properties[r]])),P(t,o.toString(),s.toString()))});break;default:return t.emit("error",new Error(`Invalid property ${r} value: ${i}`)),!1}}function U(t,e,r){x(t,r);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&null!==e[n]){const r=e[n];if(Array.isArray(r))for(let e=0;e<r.length;e++)q(t,n,r[e]);else q(t,n,r)}}function F(t){return t?t instanceof e?t.length:e.byteLength(t):0}function K(t){return"string"===typeof t||t instanceof e}t.exports=y}).call(this,r("b639").Buffer)},"782c":function(t,e,r){"use strict";(function(e){var n;function i(t,e,r){return e=o(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t){var e=s(t,"string");return"symbol"===typeof e?e:String(e)}function s(t,e){if("object"!==typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var a=r("bf09"),u=Symbol("lastResolve"),c=Symbol("lastReject"),l=Symbol("error"),h=Symbol("ended"),f=Symbol("lastPromise"),p=Symbol("handlePromise"),d=Symbol("stream");function b(t,e){return{value:t,done:e}}function y(t){var e=t[u];if(null!==e){var r=t[d].read();null!==r&&(t[f]=null,t[u]=null,t[c]=null,e(b(r,!1)))}}function g(t){e.nextTick(y,t)}function m(t,e){return function(r,n){t.then((function(){e[h]?r(b(void 0,!0)):e[p](r,n)}),n)}}var v=Object.getPrototypeOf((function(){})),w=Object.setPrototypeOf((n={get stream(){return this[d]},next:function(){var t=this,r=this[l];if(null!==r)return Promise.reject(r);if(this[h])return Promise.resolve(b(void 0,!0));if(this[d].destroyed)return new Promise((function(r,n){e.nextTick((function(){t[l]?n(t[l]):r(b(void 0,!0))}))}));var n,i=this[f];if(i)n=new Promise(m(i,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(b(o,!1));n=new Promise(this[p])}return this[f]=n,n}},i(n,Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var t=this;return new Promise((function(e,r){t[d].destroy(null,(function(t){t?r(t):e(b(void 0,!0))}))}))})),n),v),_=function(t){var e,r=Object.create(w,(e={},i(e,d,{value:t,writable:!0}),i(e,u,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,l,{value:null,writable:!0}),i(e,h,{value:t._readableState.endEmitted,writable:!0}),i(e,p,{value:function(t,e){var n=r[d].read();n?(r[f]=null,r[u]=null,r[c]=null,t(b(n,!1))):(r[u]=t,r[c]=e)},writable:!0}),e));return r[f]=null,a(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[c];return null!==e&&(r[f]=null,r[u]=null,r[c]=null,e(t)),void(r[l]=t)}var n=r[u];null!==n&&(r[f]=null,r[u]=null,r[c]=null,n(b(void 0,!0))),r[h]=!0})),t.on("readable",g.bind(null,r)),r};t.exports=_}).call(this,r("f28c"))},"7d72":function(t,e,r){"use strict";var n=r("8707").Buffer,i=n.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){if(!t)return"utf8";var e;while(1)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function s(t){var e=o(t);if("string"!==typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}function a(t){var e;switch(this.encoding=s(t),this.encoding){case"utf16le":this.text=d,this.end=b,e=4;break;case"utf8":this.fillLast=h,e=4;break;case"base64":this.text=y,this.end=g,e=3;break;default:return this.write=m,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function u(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function c(t,e,r){var n=e.length-1;if(n<r)return 0;var i=u(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=u(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=u(e[n]),i>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0))}function l(t,e,r){if(128!==(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"�"}}function h(t){var e=this.lastTotal-this.lastNeed,r=l(this,t,e);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function f(t,e){var r=c(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function p(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function d(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function b(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function y(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function m(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}e.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),void 0===e)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},a.prototype.end=p,a.prototype.text=f,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},"7f0f":function(t,e,r){(function(e){const n=r("7135"),i=r("faa1");function o(t,e){const r=new s;return n(t,r,e),r.concat()}class s extends i{constructor(){super(),this._array=new Array(20),this._i=0}write(t){return this._array[this._i++]=t,!0}concat(){let t=0;const r=new Array(this._array.length),n=this._array;let i,o=0;for(i=0;i<n.length&&void 0!==n[i];i++)"string"!==typeof n[i]?r[i]=n[i].length:r[i]=e.byteLength(n[i]),t+=r[i];const s=e.allocUnsafe(t);for(i=0;i<n.length&&void 0!==n[i];i++)"string"!==typeof n[i]?(n[i].copy(s,o),o+=r[i]):(s.write(n[i],o),o+=r[i]);return s}}t.exports=o}).call(this,r("b639").Buffer)},8311:function(t,e,r){"use strict";const{Buffer:n}=r("b639"),i=r("035d").Transform,o=r("56ac");let s,a,u;function c(){const t=new i;return t._write=function(t,e,r){s.send({data:t.buffer,success:function(){r()},fail:function(t){r(new Error(t))}})},t._flush=function(t){s.close({success:function(){t()}})},t}function l(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={})}function h(t,e){const r="wxs"===t.protocol?"wss":"ws";let n=r+"://"+t.hostname+t.path;return t.port&&80!==t.port&&443!==t.port&&(n=r+"://"+t.hostname+":"+t.port+t.path),"function"===typeof t.transformWsUrl&&(n=t.transformWsUrl(n,t,e)),n}function f(){s.onOpen((function(){u.setReadable(a),u.setWritable(a),u.emit("connect")})),s.onMessage((function(t){let e=t.data;e=e instanceof ArrayBuffer?n.from(e):n.from(e,"utf8"),a.push(e)})),s.onClose((function(){u.end(),u.destroy()})),s.onError((function(t){u.destroy(new Error(t.errMsg))}))}function p(t,e){if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");const r="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt";l(e);const n=h(e,t);s=wx.connectSocket({url:n,protocols:[r]}),a=c(),u=o.obj(),u._destroy=function(t,e){s.close({success:function(){e&&e(t)}})};const i=u.destroy;return u.destroy=function(){u.destroy=i;const t=this;setTimeout((function(){s.close({fail:function(){t._destroy(new Error)}})}),0)}.bind(u),f(),u}t.exports=p},"85f8":function(t,e,r){"use strict";(function(e,n){var i;t.exports=O,O.ReadableState=R;r("faa1").EventEmitter;var o=function(t,e){return t.listeners(e).length},s=r("9ede"),a=r("b639").Buffer,u=("undefined"!==typeof e?e:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};function c(t){return a.from(t)}function l(t){return a.isBuffer(t)||t instanceof u}var h,f=r(3);h=f&&f.debuglog?f.debuglog("stream"):function(){};var p,d,b,y=r("f688"),g=r("edb3"),m=r("31b5"),v=m.getHighWaterMark,w=r("fbd7").codes,_=w.ERR_INVALID_ARG_TYPE,S=w.ERR_STREAM_PUSH_AFTER_EOF,E=w.ERR_METHOD_NOT_IMPLEMENTED,k=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("3fb5")(O,s);var T=g.errorOrDestroy,M=["error","close","destroy","pause","resume"];function A(t,e,r){if("function"===typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}function R(t,e,n){i=i||r("be3f"),t=t||{},"boolean"!==typeof n&&(n=e instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=v(this,t,"readableHighWaterMark",n),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=r("7d72").StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function O(t){if(i=i||r("be3f"),!(this instanceof O))return new O(t);var e=this instanceof i;this._readableState=new R(t,this,e),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function x(t,e,r,n,i){h("readableAddChunk",e);var o,s=t._readableState;if(null===e)s.reading=!1,B(t,s);else if(i||(o=P(s,e)),o)T(t,o);else if(s.objectMode||e&&e.length>0)if("string"===typeof e||s.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=c(e)),n)s.endEmitted?T(t,new k):I(t,s,e,!0);else if(s.ended)T(t,new S);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?I(t,s,e,!1):q(t,s)):I(t,s,e,!1)}else n||(s.reading=!1,q(t,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function I(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&L(t)),q(t,e)}function P(t,e){var r;return l(e)||"string"===typeof e||void 0===e||t.objectMode||(r=new _("chunk",["string","Buffer","Uint8Array"],e)),r}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),O.prototype.destroy=g.destroy,O.prototype._undestroy=g.undestroy,O.prototype._destroy=function(t,e){e(t)},O.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"===typeof t&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=a.from(t,e),e=""),r=!0),x(this,t,e,!1,r)},O.prototype.unshift=function(t){return x(this,t,null,!0,!1)},O.prototype.isPaused=function(){return!1===this._readableState.flowing},O.prototype.setEncoding=function(t){p||(p=r("7d72").StringDecoder);var e=new p(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;var n=this._readableState.buffer.head,i="";while(null!==n)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var C=1073741824;function j(t){return t>=C?t=C:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function N(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=j(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function B(t,e){if(h("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?L(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,D(t)))}}function L(t){var e=t._readableState;h("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(h("emitReadable",e.flowing),e.emittedReadable=!0,n.nextTick(D,t))}function D(t){var e=t._readableState;h("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Q(t)}function q(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(U,t,e))}function U(t,e){while(!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length)){var r=e.length;if(h("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function F(t){return function(){var e=t._readableState;h("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,Q(t))}}function K(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function W(t){h("readable nexttick read 0"),t.read(0)}function H(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(V,t,e))}function V(t,e){h("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Q(t),e.flowing&&!e.reading&&t.read(0)}function Q(t){var e=t._readableState;h("flow",e.flowing);while(e.flowing&&null!==t.read());}function G(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function $(t){var e=t._readableState;h("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,n.nextTick(z,e,t))}function z(t,e){if(h("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function J(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}O.prototype.read=function(t){h("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return h("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?$(this):L(this),null;if(t=N(t,e),0===t&&e.ended)return 0===e.length&&$(this),null;var n,i=e.needReadable;return h("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&(i=!0,h("length less than watermark",i)),e.ended||e.reading?(i=!1,h("reading or ended",i)):i&&(h("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=N(r,e))),n=t>0?G(t,e):null,null===n?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&$(this)),null!==n&&this.emit("data",n),n},O.prototype._read=function(t){T(this,new E("_read()"))},O.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,e);var s=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr,a=s?c:m;function u(t,e){h("onunpipe"),t===r&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,p())}function c(){h("onend"),t.end()}i.endEmitted?n.nextTick(a):r.once("end",a),t.on("unpipe",u);var l=F(r);t.on("drain",l);var f=!1;function p(){h("cleanup"),t.removeListener("close",y),t.removeListener("finish",g),t.removeListener("drain",l),t.removeListener("error",b),t.removeListener("unpipe",u),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",d),f=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||l()}function d(e){h("ondata");var n=t.write(e);h("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==J(i.pipes,t))&&!f&&(h("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function b(e){h("onerror",e),m(),t.removeListener("error",b),0===o(t,"error")&&T(t,e)}function y(){t.removeListener("finish",g),m()}function g(){h("onfinish"),t.removeListener("close",y),m()}function m(){h("unpipe"),r.unpipe(t)}return r.on("data",d),A(t,"error",b),t.once("close",y),t.once("finish",g),t.emit("pipe",r),i.flowing||(h("pipe resume"),r.resume()),t},O.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=J(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},O.prototype.on=function(t,e){var r=s.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,h("on readable",i.length,i.reading),i.length?L(this):i.reading||n.nextTick(W,this))),r},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(t,e){var r=s.prototype.removeListener.call(this,t,e);return"readable"===t&&n.nextTick(K,this),r},O.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||n.nextTick(K,this),e},O.prototype.resume=function(){var t=this._readableState;return t.flowing||(h("resume"),t.flowing=!t.readableListening,H(this,t)),t.paused=!1,this},O.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},O.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){if(h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!==i&&void 0!==i)&&(r.objectMode||i&&i.length)){var o=e.push(i);o||(n=!0,t.pause())}})),t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<M.length;o++)t.on(M[o],this.emit.bind(this,M[o]));return this._read=function(e){h("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"===typeof Symbol&&(O.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r("34e3")),d(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),O._fromList=G,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(O.from=function(t,e){return void 0===b&&(b=r("2527")),b(O,t,e)})}).call(this,r("c8ba"),r("f28c"))},"86c6":function(t,e,r){"use strict";var n=r("9bfc").codes.ERR_INVALID_OPT_VALUE;function i(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}function o(t,e,r,o){var s=i(e,o,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0){var a=o?r:"highWaterMark";throw new n(a,s)}return Math.floor(s)}return t.objectMode?16:16384}t.exports={getHighWaterMark:o}},8707:function(t,e,r){var n=r("b639"),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),o(i,s),s.from=function(t,e,r){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!==typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"===typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},"8c09":function(t,e,r){},"91dd":function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!==typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"===typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,f,p,d,b=t[l].replace(a,"%20"),y=b.indexOf(r);y>=0?(h=b.substr(0,y),f=b.substr(y+1)):(h=b,f=""),p=decodeURIComponent(h),d=decodeURIComponent(f),n(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},"966d":function(t,e,r){"use strict";(function(e){function r(t,r,n,i){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,n)}));case 4:return e.nextTick((function(){t.call(null,r,n,i)}));default:o=new Array(a-1),s=0;while(s<o.length)o[s++]=arguments[s];return e.nextTick((function(){t.apply(null,o)}))}}"undefined"===typeof e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:r}:t.exports=e}).call(this,r("f28c"))},"9bfc":function(t,e,r){"use strict";function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i={};function o(t,e,r){function o(t,r,n){return"string"===typeof e?e:e(t,r,n)}r||(r=Error);var s=function(t){function e(e,r,n){return t.call(this,o(e,r,n))||this}return n(e,t),e}(r);s.prototype.name=r.name,s.prototype.code=t,i[t]=s}function s(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}function a(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function u(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function c(t,e,r){return"number"!==typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}o("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,i;if("string"===typeof e&&a(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be",u(t," argument"))i="The ".concat(t," ").concat(n," ").concat(s(e,"type"));else{var o=c(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(s(e,"type"))}return i+=". Received type ".concat(typeof r),i}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},"9c39":function(t,e,r){t.exports=r.p+"static/img/fullscreen.b87bc654.png"},"9d37":function(t,e,r){"use strict";t.exports=i;var n=r("fe34");function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r("3fb5")(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},"9ede":function(t,e,r){t.exports=r("faa1").EventEmitter},a43f:function(t,e,r){"use strict";const n=r("63f0"),i=r("6155").NumberAllocator;function o(t){if(!(this instanceof o))return new o(t);t>0&&(this.aliasToTopic=new n({max:t}),this.topicToAlias={},this.numberAllocator=new i(1,t),this.max=t,this.length=0)}o.prototype.put=function(t,e){if(0===e||e>this.max)return!1;const r=this.aliasToTopic.get(e);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(e,t),this.topicToAlias[t]=e,this.numberAllocator.use(e),this.length=this.aliasToTopic.length,!0},o.prototype.getTopicByAlias=function(t){return this.aliasToTopic.get(t)},o.prototype.getAliasByTopic=function(t){const e=this.topicToAlias[t];return"undefined"!==typeof e&&this.aliasToTopic.get(e),e},o.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},o.prototype.getLruAlias=function(){const t=this.numberAllocator.firstVacant();return t||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},t.exports=o},a493:function(t,e,r){"use strict";(function(e){var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=c;var i=r("0e8b"),o=r("f6ba");r("3fb5")(c,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var u=s[a];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(t){if(!(this instanceof c))return new c(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||e.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,r("f28c"))},a50f:function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},a7c9:function(t,e){class r{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}t.exports=r},a9b9:function(t,e,r){"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},ab52:function(t,e,r){(function(e){var n=r("566b"),i=function(){},o=function(t){return t.setHeader&&"function"===typeof t.abort},s=function(t){return t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length},a=function(t,r,u){if("function"===typeof r)return a(t,null,r);r||(r={}),u=n(u||i);var c=t._writableState,l=t._readableState,h=r.readable||!1!==r.readable&&t.readable,f=r.writable||!1!==r.writable&&t.writable,p=!1,d=function(){t.writable||b()},b=function(){f=!1,h||u.call(t)},y=function(){h=!1,f||u.call(t)},g=function(e){u.call(t,e?new Error("exited with error code: "+e):null)},m=function(e){u.call(t,e)},v=function(){e.nextTick(w)},w=function(){if(!p)return(!h||l&&l.ended&&!l.destroyed)&&(!f||c&&c.ended&&!c.destroyed)?void 0:u.call(t,new Error("premature close"))},_=function(){t.req.on("finish",b)};return o(t)?(t.on("complete",b),t.on("abort",v),t.req?_():t.on("request",_)):f&&!c&&(t.on("end",d),t.on("close",d)),s(t)&&t.on("exit",g),t.on("end",y),t.on("finish",b),!1!==r.error&&t.on("error",m),t.on("close",v),function(){p=!0,t.removeListener("complete",b),t.removeListener("abort",v),t.removeListener("request",_),t.req&&t.req.removeListener("finish",b),t.removeListener("end",d),t.removeListener("close",d),t.removeListener("finish",b),t.removeListener("exit",g),t.removeListener("end",y),t.removeListener("error",m),t.removeListener("close",v)}};t.exports=a}).call(this,r("f28c"))},ae84c:function(t,e,r){"use strict";function n(t){const e=t.split("/");for(let r=0;r<e.length;r++)if("+"!==e[r]){if("#"===e[r])return r===e.length-1;if(-1!==e[r].indexOf("+")||-1!==e[r].indexOf("#"))return!1}return!0}function i(t){if(0===t.length)return"empty_topic_list";for(let e=0;e<t.length;e++)if(!n(t[e]))return t[e];return null}t.exports={validateTopics:i}},aff9:function(t,e,r){"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},b289:function(t,e,r){(function(e){const r=t.exports;r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.codes={};for(const t in r.types){const e=r.types[t];r.codes[e]=t}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=e.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=e.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=e.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(const t in r.properties){const e=r.properties[t];r.propertiesCodes[e]=t}function n(t){return[0,1,2].map(n=>[0,1].map(i=>[0,1].map(o=>{const s=e.alloc(1);return s.writeUInt8(r.codes[t]<<r.CMD_SHIFT|(i?r.DUP_MASK:0)|n<<r.QOS_SHIFT|o,0,!0),s})))}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},r.PUBLISH_HEADER=n("publish"),r.SUBSCRIBE_HEADER=n("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=n("unsubscribe"),r.ACKS={unsuback:n("unsuback"),puback:n("puback"),pubcomp:n("pubcomp"),pubrel:n("pubrel"),pubrec:n("pubrec")},r.SUBACK_HEADER=e.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=e.from([3]),r.VERSION4=e.from([4]),r.VERSION5=e.from([5]),r.VERSION131=e.from([131]),r.VERSION132=e.from([132]),r.QOS=[0,1,2].map(t=>e.from([t])),r.EMPTY={pingreq:e.from([r.codes.pingreq<<4,0]),pingresp:e.from([r.codes.pingresp<<4,0]),disconnect:e.from([r.codes.disconnect<<4,0])}}).call(this,r("b639").Buffer)},b30e:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"screen_wrap"},[n("div",{staticClass:"library_box"},[n("div",{staticClass:"lib_main"},[n("div",{staticClass:"lib_head"},[n("div",{staticClass:"lib_head_box"},[n("div",{staticClass:"lib_head_right"},[n("div",{staticClass:"lib_head_time"},[t._v("\n              "+t._s(t.nowDate)+"\n            ")])]),n("div",{staticClass:"lib_head_box lib_head_box1"},[n("div",{staticClass:"lib_head_right"},[n("div",{staticClass:"lib_head_exit"},[n("img",{staticStyle:{"margin-right":"0.28rem"},attrs:{src:r("9c39"),alt:""},on:{click:t.tofullscreenToggel}}),n("el-popconfirm",{attrs:{"popper-class":"sybs_pop","cancel-button-text":" ","confirm-button-text":" ",icon:"el-icon-info","icon-color":"rgba(255, 190, 68, 1)",title:"确定退出登录吗？"},on:{cancel:t.logout}},[n("img",{attrs:{slot:"reference",src:r("2411"),alt:""},slot:"reference"})])],1)])])])]),n("div",{ref:"scrollTops",staticClass:"lib_contains"},[n("router-view")],1)])])])},i=[],o=(r("8e6e"),r("ac6a"),r("456d"),r("6b54"),r("a481"),r("bd86")),s=r("2f62"),a=r("e7fc"),u=r.n(a),c=r("e86e");function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f={name:"login",data:function(){return{sysType:1,endFlag:!0,detailInfo:{},interVal:null,nowDate:"",websock:null,MQTT:null,intTime:null}},mounted:function(){var t=this;this.nowDate=this.handleTimeForm((new Date).getTime()),this.interVal=setInterval((function(){t.nowDate=t.handleTimeForm((new Date).getTime())}),1e3)},created:function(){localStorage.getItem("mqttTopic")&&"undefined"!=localStorage.getItem("mqttTopic")?(this.sceneId=localStorage.getItem("mqttTopic"),this.initMqtt(this.sceneId)):console.log("缺少mqttTopic"),console.log(this.sceneId)},destroyed:function(){console.log("销毁"),clearInterval(this.interVal),clearInterval(this.intTime),this.MQTT&&this.MQTT.end&&(console.log("关了吗"),this.endFlag=!1,this.MQTT.end())},computed:h({},Object(s["b"])(["getSysType"])),methods:h(h({},Object(s["c"])(["setPerDetail","setCollapseFlag","setSysType","setMqttUpdate"])),{},{logout:function(){var t=this,e={passport:localStorage.getItem("passport")};this.$http.post(c["a"]+"/aimw/user/logout",e).then((function(e){localStorage.removeItem("isLogin"),localStorage.removeItem("userInfo"),localStorage.removeItem("userAuth"),localStorage.removeItem("passport"),localStorage.removeItem("userType"),localStorage.removeItem("mqttTopic"),t.$router.replace({path:"/login"})}))},fullscreenToggel:function(){this.fullscreenEnable()?this.exitFullScreen():this.reqFullScreen()},listenfullscreen:function(t){function e(){t()}document.addEventListener("fullscreenchange",(function(){e()})),document.addEventListener("mozfullscreenchange",(function(){e()})),document.addEventListener("webkitfullscreenchange",(function(){e()})),document.addEventListener("msfullscreenchange",(function(){e()}))},fullscreenEnable:function(){var t=document.isFullScreen||document.mozIsFullScreen||document.webkitIsFullScreen;return t},reqFullScreen:function(){document.documentElement.requestFullScreen?document.documentElement.requestFullScreen():document.documentElement.webkitRequestFullScreen?document.documentElement.webkitRequestFullScreen():document.documentElement.mozRequestFullScreen&&document.documentElement.mozRequestFullScreen()},exitFullScreen:function(){document.documentElement.requestFullScreen?document.exitFullScreen():document.documentElement.webkitRequestFullScreen?document.webkitCancelFullScreen():document.documentElement.mozRequestFullScreen&&document.mozCancelFullScreen()},tofullscreenToggel:function(){this.isFullScreen=!this.isFullScreen,this.fullscreenToggel()},generateUUID:function(){var t=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(t+=performance.now());var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:3&r|8).toString(16)}));return e},initMqtt:function(t){var e=this;console.log(t);var r=this,n="wss://ipathy.net",i="8084",o={username:"zrway",password:"'casia!@#123'",cleanSession:!1,keepAlive:60,clientId:"AIMW-G_"+Math.random().toString(16).substring(2,10),connectTimeout:4e3};console.log(u.a),console.log(o),r.MQTT=u.a.connect(n+":"+i+"/mqtt",o),r.MQTT.on("error",(function(t){console.log("链接失败了"),console.log(t),r.MQTT.end()})),r.MQTT.on("connect",(function(){console.log("链接成功了"),r.setMqttUpdate(!0),console.log(t),r.MQTT.subscribe(t,{qos:2},(function(t){t?console.warn("订阅失败"):console.info(" ---- 订阅成功")}))})),r.MQTT.on("message",(function(t,e){console.log("获取到的场景返回的信息"),console.log(t),console.log(e),console.log(),r.setMqttUpdate(!0)})),r.MQTT.on("reconnect",(function(){console.info("正在重连"),setTimeout((function(){console.log("正在重连2s了"),r.initMqtt(t)}),2e3)})),r.MQTT.on("disconnect",(function(t){console.info("服务器断开:",t)})),r.MQTT.on("close",(function(){console.info("关闭了"),r.MQTT.end(),console.log(e.endFlag),e.endFlag&&setTimeout((function(){console.log("正在重连2s了"),r.initMqtt(t)}),2e3)}))},handleTimeForm:function(t){var e=new Date(t),r=1900+e.getYear(),n="0"+(e.getMonth()+1),i="0"+e.getDate(),o="0"+e.getHours(),s="0"+e.getMinutes(),a="0"+e.getSeconds(),u=e.getDay();return 1==u?"星期一":2==u?"星期二":3==u?"星期三":4==u?"星期四":5==u?"星期五":6==u?"星期六":7==u&&"星期日",r+"年"+n.substring(n.length-2,n.length)+"月"+i.substring(i.length-2,i.length)+"日   "+o.substring(o.length-2,o.length)+":"+s.substring(s.length-2,s.length)+":"+a.substring(a.length-2,a.length)}}),watch:{"$store.state.sysType":{deep:!0,handler:function(t,e){console.log("发生变化啦!!!!!!!!!!!!!!!!!!"),console.log("新："+t,"老："+e),this.sysType=t,2==t?this.MQTT&&this.MQTT.end&&(console.log("关了吗"),this.endFlag=!1,this.MQTT.end()):(this.sceneId="ltgsAlarmInfo",this.initMqtt(this.sceneId))}}}},p=f,d=(r("5e26"),r("1451"),r("2877")),b=Object(d["a"])(p,n,i,!1,null,"5ec25f1e",null);e["default"]=b.exports},b383:function(t,e,r){"use strict";e.decode=e.parse=r("91dd"),e.encode=e.stringify=r("e099")},b7d1:function(t,e,r){(function(e){function r(t,e){if(n("noDeprecation"))return t;var r=!1;function i(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return i}function n(t){try{if(!e.localStorage)return!1}catch(n){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=r}).call(this,r("c8ba"))},b98b:function(t,e,r){t.exports=r("faa1").EventEmitter},be3f:function(t,e,r){"use strict";(function(e){var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=c;var i=r("85f8"),o=r("13a8");r("3fb5")(c,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var u=s[a];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(t){if(!(this instanceof c))return new c(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||e.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,r("f28c"))},bf09:function(t,e,r){"use strict";var n=r("9bfc").codes.ERR_STREAM_PREMATURE_CLOSE;function i(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function o(){}function s(t){return t.setHeader&&"function"===typeof t.abort}function a(t,e,r){if("function"===typeof e)return a(t,null,e);e||(e={}),r=i(r||o);var u=e.readable||!1!==e.readable&&t.readable,c=e.writable||!1!==e.writable&&t.writable,l=function(){t.writable||f()},h=t._writableState&&t._writableState.finished,f=function(){c=!1,h=!0,u||r.call(t)},p=t._readableState&&t._readableState.endEmitted,d=function(){u=!1,p=!0,c||r.call(t)},b=function(e){r.call(t,e)},y=function(){var e;return u&&!p?(t._readableState&&t._readableState.ended||(e=new n),r.call(t,e)):c&&!h?(t._writableState&&t._writableState.ended||(e=new n),r.call(t,e)):void 0},g=function(){t.req.on("finish",f)};return s(t)?(t.on("complete",f),t.on("abort",y),t.req?g():t.on("request",g)):c&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",d),t.on("finish",f),!1!==e.error&&t.on("error",b),t.on("close",y),function(){t.removeListener("complete",f),t.removeListener("abort",y),t.removeListener("request",g),t.req&&t.req.removeListener("finish",f),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",f),t.removeListener("end",d),t.removeListener("error",b),t.removeListener("close",y)}}t.exports=a},c4c7:function(t,e,r){"use strict";const{Buffer:n}=r("b639"),i=r("035d").Transform,o=r("56ac");let s,a,u,c=!1;function l(){const t=new i;return t._write=function(t,e,r){s.sendSocketMessage({data:t.buffer,success:function(){r()},fail:function(){r(new Error)}})},t._flush=function(t){s.closeSocket({success:function(){t()}})},t}function h(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={})}function f(t,e){const r="alis"===t.protocol?"wss":"ws";let n=r+"://"+t.hostname+t.path;return t.port&&80!==t.port&&443!==t.port&&(n=r+"://"+t.hostname+":"+t.port+t.path),"function"===typeof t.transformWsUrl&&(n=t.transformWsUrl(n,t,e)),n}function p(){c||(c=!0,s.onSocketOpen((function(){u.setReadable(a),u.setWritable(a),u.emit("connect")})),s.onSocketMessage((function(t){if("string"===typeof t.data){const e=n.from(t.data,"base64");a.push(e)}else{const e=new FileReader;e.addEventListener("load",(function(){let t=e.result;t=t instanceof ArrayBuffer?n.from(t):n.from(t,"utf8"),a.push(t)})),e.readAsArrayBuffer(t.data)}})),s.onSocketClose((function(){u.end(),u.destroy()})),s.onSocketError((function(t){u.destroy(t)})))}function d(t,e){if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");const r="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt";h(e);const n=f(e,t);return s=e.my,s.connectSocket({url:n,protocols:r}),a=l(),u=o.obj(),p(),u}t.exports=d},d633:function(t,e){function r(t,e){if(t&&e)return r(t)(e);if("function"!==typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"===typeof n&&n!==i&&Object.keys(i).forEach((function(t){n[t]=i[t]})),n}}t.exports=r},d9e1:function(t,e,r){"use strict";var n=r("fbd7").codes.ERR_STREAM_PREMATURE_CLOSE;function i(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function o(){}function s(t){return t.setHeader&&"function"===typeof t.abort}function a(t,e,r){if("function"===typeof e)return a(t,null,e);e||(e={}),r=i(r||o);var u=e.readable||!1!==e.readable&&t.readable,c=e.writable||!1!==e.writable&&t.writable,l=function(){t.writable||f()},h=t._writableState&&t._writableState.finished,f=function(){c=!1,h=!0,u||r.call(t)},p=t._readableState&&t._readableState.endEmitted,d=function(){u=!1,p=!0,c||r.call(t)},b=function(e){r.call(t,e)},y=function(){var e;return u&&!p?(t._readableState&&t._readableState.ended||(e=new n),r.call(t,e)):c&&!h?(t._writableState&&t._writableState.ended||(e=new n),r.call(t,e)):void 0},g=function(){t.req.on("finish",f)};return s(t)?(t.on("complete",f),t.on("abort",y),t.req?g():t.on("request",g)):c&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",d),t.on("finish",f),!1!==e.error&&t.on("error",b),t.on("close",y),function(){t.removeListener("complete",f),t.removeListener("abort",y),t.removeListener("request",g),t.req&&t.req.removeListener("finish",f),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",f),t.removeListener("end",d),t.removeListener("error",b),t.removeListener("close",y)}}t.exports=a},dc90:function(t,e,r){function n(t){function e(t){let e=0;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return n.colors[Math.abs(e)%n.colors.length]}function n(t){let e,r=null;function o(...t){if(!o.enabled)return;const r=o,i=Number(new Date),s=i-(e||i);r.diff=s,r.prev=e,r.curr=i,e=i,t[0]=n.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(e,i)=>{if("%%"===e)return"%";a++;const o=n.formatters[i];if("function"===typeof o){const n=t[a];e=o.call(r,n),t.splice(a,1),a--}return e}),n.formatArgs.call(r,t);const u=r.log||n.log;u.apply(r,t)}return o.namespace=t,o.useColors=n.useColors(),o.color=n.selectColor(t),o.extend=i,o.destroy=n.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null===r?n.enabled(t):r,set:t=>{r=t}}),"function"===typeof n.init&&n.init(o),o}function i(t,e){const r=n(this.namespace+("undefined"===typeof e?":":e)+t);return r.log=this.log,r}function o(t){let e;n.save(t),n.names=[],n.skips=[];const r=("string"===typeof t?t:"").split(/[\s,]+/),i=r.length;for(e=0;e<i;e++)r[e]&&(t=r[e].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function s(){const t=[...n.names.map(u),...n.skips.map(u).map(t=>"-"+t)].join(",");return n.enable(""),t}function a(t){if("*"===t[t.length-1])return!0;let e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1}function u(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}function c(t){return t instanceof Error?t.stack||t.message:t}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=o,n.enabled=a,n.humanize=r("1468"),n.destroy=l,Object.keys(t).forEach(e=>{n[e]=t[e]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=e,n.enable(n.load()),n}t.exports=n},df86:function(t,e,r){"use strict";(function(e,n){const i=r("faa1").EventEmitter,o=r("ea08"),s=r("e7d0"),a=r("a43f"),u=r("3409"),c=r("1e4d"),l=r("035d").Writable,h=r("3fb5"),f=r("29a2"),p=r("2a28"),d=r("ae84c"),b=r("53a8"),y=r("34eb")("mqttjs:client"),g=e?e.nextTick:function(t){setTimeout(t,0)},m=n.setImmediate||function(t){g(t)},v={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},w=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],_={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function S(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function E(t,e){if(5===t.options.protocolVersion&&"publish"===e.cmd){let r;e.properties&&(r=e.properties.topicAlias);const n=e.topic.toString();if(t.topicAliasSend)if(r){if(0!==n.length&&(y("applyTopicAlias :: register topic: %s - alias: %d",n,r),!t.topicAliasSend.put(n,r)))return y("applyTopicAlias :: error out of range. topic: %s - alias: %d",n,r),new Error("Sending Topic Alias out of range")}else 0!==n.length&&(t.options.autoAssignTopicAlias?(r=t.topicAliasSend.getAliasByTopic(n),r?(e.topic="",e.properties={...e.properties,topicAlias:r},y("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",n,r)):(r=t.topicAliasSend.getLruAlias(),t.topicAliasSend.put(n,r),e.properties={...e.properties,topicAlias:r},y("applyTopicAlias :: auto assign topic: %s - alias: %d",n,r))):t.options.autoUseTopicAlias&&(r=t.topicAliasSend.getAliasByTopic(n),r&&(e.topic="",e.properties={...e.properties,topicAlias:r},y("applyTopicAlias :: auto use topic: %s - alias: %d",n,r))));else if(r)return y("applyTopicAlias :: error out of range. topic: %s - alias: %d",n,r),new Error("Sending Topic Alias out of range")}}function k(t,e){let r;e.properties&&(r=e.properties.topicAlias);let n=e.topic.toString();if(0===n.length){if("undefined"===typeof r)return new Error("Unregistered Topic Alias");if(n=t.topicAliasSend.getTopicByAlias(r),"undefined"===typeof n)return new Error("Unregistered Topic Alias");e.topic=n}r&&delete e.properties.topicAlias}function T(t,e,r){y("sendPacket :: packet: %O",e),y("sendPacket :: emitting `packetsend`"),t.emit("packetsend",e),y("sendPacket :: writing to stream");const n=u.writeToStream(e,t.stream,t.options);y("sendPacket :: writeToStream result %s",n),!n&&r&&r!==O?(y("sendPacket :: handle events on `drain` once through callback."),t.stream.once("drain",r)):r&&(y("sendPacket :: invoking cb"),r())}function M(t){t&&(y("flush: queue exists? %b",!!t),Object.keys(t).forEach((function(e){"function"===typeof t[e].cb&&(t[e].cb(new Error("Connection closed")),delete t[e])})))}function A(t){t&&(y("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(t).forEach((function(e){t[e].volatile&&"function"===typeof t[e].cb&&(t[e].cb(new Error("Connection closed")),delete t[e])})))}function R(t,e,r,n){y("storeAndSend :: store packet with cmd %s to outgoingStore",e.cmd);let i,o=e;if("publish"===o.cmd&&(o=p(e),i=k(t,o),i))return r&&r(i);t.outgoingStore.put(o,(function(i){if(i)return r&&r(i);n(),T(t,e,r)}))}function O(t){y("nop ::",t)}function x(t,e){let r;const n=this;if(!(this instanceof x))return new x(t,e);for(r in this.options=e||{},v)"undefined"===typeof this.options[r]?this.options[r]=v[r]:this.options[r]=e[r];y("MqttClient :: options.protocol",e.protocol),y("MqttClient :: options.protocolVersion",e.protocolVersion),y("MqttClient :: options.username",e.username),y("MqttClient :: options.keepalive",e.keepalive),y("MqttClient :: options.reconnectPeriod",e.reconnectPeriod),y("MqttClient :: options.rejectUnauthorized",e.rejectUnauthorized),y("MqttClient :: options.topicAliasMaximum",e.topicAliasMaximum),this.options.clientId="string"===typeof e.clientId?e.clientId:S(),y("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===e.protocolVersion&&e.customHandleAcks?e.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=t,this.messageIdProvider="undefined"===typeof this.options.messageIdProvider?new c:this.options.messageIdProvider,this.outgoingStore=e.outgoingStore||new o,this.incomingStore=e.incomingStore||new o,this.queueQoSZero=void 0===e.queueQoSZero||e.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,e.topicAliasMaximum>0&&(e.topicAliasMaximum>65535?y("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new s(e.topicAliasMaximum)),this.on("connect",(function(){const t=this.queue;function e(){const r=t.shift();y("deliver :: entry %o",r);let i=null;if(!r)return void n._resubscribe();i=r.packet,y("deliver :: call _sendPacket for %o",i);let o=!0;i.messageId&&0!==i.messageId&&(n.messageIdProvider.register(i.messageId)||(o=!1)),o?n._sendPacket(i,(function(t){r.cb&&r.cb(t),e()})):(y("messageId: %d has already used. The message is skipped and removed.",i.messageId),e())}y("connect :: sending queued packets"),e()})),this.on("close",(function(){y("close :: connected set to `false`"),this.connected=!1,y("close :: clearing connackTimer"),clearTimeout(this.connackTimer),y("close :: clearing ping timer"),null!==n.pingTimer&&(n.pingTimer.clear(),n.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),y("close :: calling _setupReconnect"),this._setupReconnect()})),i.call(this),y("MqttClient :: setting up stream"),this._setupStream()}h(x,i),x.prototype._setupStream=function(){const t=this,e=new l,r=u.parser(this.options);let n=null;const i=[];function o(){if(i.length)g(s);else{const t=n;n=null,t()}}function s(){y("work :: getting next packet in queue");const e=i.shift();if(e)y("work :: packet pulled from queue"),t._handlePacket(e,o);else{y("work :: no packets in queue");const t=n;n=null,y("work :: done flag is %s",!!t),t&&t()}}function a(e){y("streamErrorHandler :: error",e.message),w.includes(e.code)?(y("streamErrorHandler :: emitting error"),t.emit("error",e)):O(e)}y("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),y("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),r.on("packet",(function(t){y("parser :: on packet push to packets array."),i.push(t)})),e._write=function(t,e,i){n=i,y("writable stream :: parsing buffer"),r.parse(t),s()},y("_setupStream :: pipe stream to writable stream"),this.stream.pipe(e),this.stream.on("error",a),this.stream.on("close",(function(){y("(%s)stream :: on close",t.options.clientId),A(t.outgoing),y("stream: emit close to MqttClient"),t.emit("close")})),y("_setupStream: sending packet `connect`");const c=Object.create(this.options);if(c.cmd="connect",this.topicAliasRecv&&(c.properties||(c.properties={}),this.topicAliasRecv&&(c.properties.topicAliasMaximum=this.topicAliasRecv.max)),T(this,c),r.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return t.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"===typeof this.options.authPacket){const t=b({cmd:"auth",reasonCode:0},this.options.authPacket);T(this,t)}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){y("!!connectTimeout hit!! Calling _cleanUp with force `true`"),t._cleanUp(!0)}),this.options.connectTimeout)},x.prototype._handlePacket=function(t,e){const r=this.options;if(5===r.protocolVersion&&r.properties&&r.properties.maximumPacketSize&&r.properties.maximumPacketSize<t.length)return this.emit("error",new Error("exceeding packets size "+t.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(y("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",t),t.cmd){case"publish":this._handlePublish(t,e);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(t),e();break;case"pubrel":this._handlePubrel(t,e);break;case"connack":this._handleConnack(t),e();break;case"auth":this._handleAuth(t),e();break;case"pingresp":this._handlePingresp(t),e();break;case"disconnect":this._handleDisconnect(t),e();break;default:break}},x.prototype._checkDisconnecting=function(t){return this.disconnecting&&(t&&t!==O?t(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},x.prototype.publish=function(t,e,r,n){y("publish :: message `%s` to topic `%s`",e,t);const i=this.options;"function"===typeof r&&(n=r,r=null);const o={qos:0,retain:!1,dup:!1};if(r=b(o,r),this._checkDisconnecting(n))return this;const s=this,a=function(){let o=0;if((1===r.qos||2===r.qos)&&(o=s._nextId(),null===o))return y("No messageId left"),!1;const a={cmd:"publish",topic:t,payload:e,qos:r.qos,retain:r.retain,messageId:o,dup:r.dup};switch(5===i.protocolVersion&&(a.properties=r.properties),y("publish :: qos",r.qos),r.qos){case 1:case 2:s.outgoing[a.messageId]={volatile:!1,cb:n||O},y("MqttClient:publish: packet cmd: %s",a.cmd),s._sendPacket(a,void 0,r.cbStorePut);break;default:y("MqttClient:publish: packet cmd: %s",a.cmd),s._sendPacket(a,n,r.cbStorePut);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!a())&&this._storeProcessingQueue.push({invoke:a,cbStorePut:r.cbStorePut,callback:n}),this},x.prototype.subscribe=function(){const t=this,e=new Array(arguments.length);for(let h=0;h<arguments.length;h++)e[h]=arguments[h];const r=[];let n=e.shift();const i=n.resubscribe;let o=e.pop()||O,s=e.pop();const a=this.options.protocolVersion;delete n.resubscribe,"string"===typeof n&&(n=[n]),"function"!==typeof o&&(s=o,o=O);const u=d.validateTopics(n);if(null!==u)return m(o,new Error("Invalid topic "+u)),this;if(this._checkDisconnecting(o))return y("subscribe: discconecting true"),this;const c={qos:0};if(5===a&&(c.nl=!1,c.rap=!1,c.rh=0),s=b(c,s),Array.isArray(n)?n.forEach((function(e){if(y("subscribe: array topic %s",e),!Object.prototype.hasOwnProperty.call(t._resubscribeTopics,e)||t._resubscribeTopics[e].qos<s.qos||i){const t={topic:e,qos:s.qos};5===a&&(t.nl=s.nl,t.rap=s.rap,t.rh=s.rh,t.properties=s.properties),y("subscribe: pushing topic `%s` and qos `%s` to subs list",t.topic,t.qos),r.push(t)}})):Object.keys(n).forEach((function(e){if(y("subscribe: object topic %s",e),!Object.prototype.hasOwnProperty.call(t._resubscribeTopics,e)||t._resubscribeTopics[e].qos<n[e].qos||i){const t={topic:e,qos:n[e].qos};5===a&&(t.nl=n[e].nl,t.rap=n[e].rap,t.rh=n[e].rh,t.properties=s.properties),y("subscribe: pushing `%s` to subs list",t),r.push(t)}})),!r.length)return o(null,[]),this;const l=function(){const e=t._nextId();if(null===e)return y("No messageId left"),!1;const n={cmd:"subscribe",subscriptions:r,qos:1,retain:!1,dup:!1,messageId:e};if(s.properties&&(n.properties=s.properties),t.options.resubscribe){y("subscribe :: resubscribe true");const e=[];r.forEach((function(r){if(t.options.reconnectPeriod>0){const n={qos:r.qos};5===a&&(n.nl=r.nl||!1,n.rap=r.rap||!1,n.rh=r.rh||0,n.properties=r.properties),t._resubscribeTopics[r.topic]=n,e.push(r.topic)}})),t.messageIdToTopic[n.messageId]=e}return t.outgoing[n.messageId]={volatile:!0,cb:function(t,e){if(!t){const t=e.granted;for(let e=0;e<t.length;e+=1)r[e].qos=t[e]}o(t,r)}},y("subscribe :: call _sendPacket"),t._sendPacket(n),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!l())&&this._storeProcessingQueue.push({invoke:l,callback:o}),this},x.prototype.unsubscribe=function(){const t=this,e=new Array(arguments.length);for(let a=0;a<arguments.length;a++)e[a]=arguments[a];let r=e.shift(),n=e.pop()||O,i=e.pop();"string"===typeof r&&(r=[r]),"function"!==typeof n&&(i=n,n=O);const o=d.validateTopics(r);if(null!==o)return m(n,new Error("Invalid topic "+o)),this;if(t._checkDisconnecting(n))return this;const s=function(){const e=t._nextId();if(null===e)return y("No messageId left"),!1;const o={cmd:"unsubscribe",qos:1,messageId:e};return"string"===typeof r?o.unsubscriptions=[r]:Array.isArray(r)&&(o.unsubscriptions=r),t.options.resubscribe&&o.unsubscriptions.forEach((function(e){delete t._resubscribeTopics[e]})),"object"===typeof i&&i.properties&&(o.properties=i.properties),t.outgoing[o.messageId]={volatile:!0,cb:n},y("unsubscribe: call _sendPacket"),t._sendPacket(o),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!s())&&this._storeProcessingQueue.push({invoke:s,callback:n}),this},x.prototype.end=function(t,e,r){const n=this;function i(){y("end :: closeStores: closing incoming and outgoing stores"),n.disconnected=!0,n.incomingStore.close((function(t){n.outgoingStore.close((function(e){if(y("end :: closeStores: emitting end"),n.emit("end"),r){const n=t||e;y("end :: closeStores: invoking callback with args"),r(n)}}))})),n._deferredReconnect&&n._deferredReconnect()}function o(){y("end :: (%s) :: finish :: calling _cleanUp with force %s",n.options.clientId,t),n._cleanUp(t,()=>{y("end :: finish :: calling process.nextTick on closeStores"),g(i.bind(n))},e)}return y("end :: (%s)",this.options.clientId),null!=t&&"boolean"===typeof t||(r=e||O,e=t,t=!1,"object"!==typeof e&&(r=e,e=null,"function"!==typeof r&&(r=O))),"object"!==typeof e&&(r=e,e=null),y("end :: cb? %s",!!r),r=r||O,this.disconnecting?(r(),this):(this._clearReconnect(),this.disconnecting=!0,!t&&Object.keys(this.outgoing).length>0?(y("end :: (%s) :: calling finish in 10ms once outgoing is empty",n.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,o,10))):(y("end :: (%s) :: immediately calling finish",n.options.clientId),o()),this)},x.prototype.removeOutgoingMessage=function(t){const e=this.outgoing[t]?this.outgoing[t].cb:null;return delete this.outgoing[t],this.outgoingStore.del({messageId:t},(function(){e(new Error("Message removed"))})),this},x.prototype.reconnect=function(t){y("client reconnect");const e=this,r=function(){t?(e.options.incomingStore=t.incomingStore,e.options.outgoingStore=t.outgoingStore):(e.options.incomingStore=null,e.options.outgoingStore=null),e.incomingStore=e.options.incomingStore||new o,e.outgoingStore=e.options.outgoingStore||new o,e.disconnecting=!1,e.disconnected=!1,e._deferredReconnect=null,e._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this},x.prototype._reconnect=function(){y("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),y("client already connected. disconnecting first.")):(y("_reconnect: calling _setupStream"),this._setupStream())},x.prototype._setupReconnect=function(){const t=this;!t.disconnecting&&!t.reconnectTimer&&t.options.reconnectPeriod>0?(this.reconnecting||(y("_setupReconnect :: emit `offline` state"),this.emit("offline"),y("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),y("_setupReconnect :: setting reconnectTimer for %d ms",t.options.reconnectPeriod),t.reconnectTimer=setInterval((function(){y("reconnectTimer :: reconnect triggered!"),t._reconnect()}),t.options.reconnectPeriod)):y("_setupReconnect :: doing nothing...")},x.prototype._clearReconnect=function(){y("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},x.prototype._cleanUp=function(t,e){const r=arguments[2];if(e&&(y("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",e)),y("_cleanUp :: forced? %s",t),t)0===this.options.reconnectPeriod&&this.options.clean&&M(this.outgoing),y("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const t=b({cmd:"disconnect"},r);y("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(t,m.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(y("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(y("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),e&&!this.connected&&(y("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",e),e())},x.prototype._sendPacket=function(t,e,r){y("_sendPacket :: (%s) ::  start",this.options.clientId),r=r||O,e=e||O;const n=E(this,t);if(n)e(n);else{if(!this.connected)return"auth"===t.cmd?(this._shiftPingInterval(),void T(this,t,e)):(y("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(t,e,r));switch(this._shiftPingInterval(),t.cmd){case"publish":break;case"pubrel":return void R(this,t,e,r);default:return void T(this,t,e)}switch(t.qos){case 2:case 1:R(this,t,e,r);break;case 0:default:T(this,t,e);break}y("_sendPacket :: (%s) ::  end",this.options.clientId)}},x.prototype._storePacket=function(t,e,r){y("_storePacket :: packet: %o",t),y("_storePacket :: cb? %s",!!e),r=r||O;let n=t;if("publish"===n.cmd){n=p(t);const r=k(this,n);if(r)return e&&e(r)}0===(n.qos||0)&&this.queueQoSZero||"publish"!==n.cmd?this.queue.push({packet:n,cb:e}):n.qos>0?(e=this.outgoing[n.messageId]?this.outgoing[n.messageId].cb:null,this.outgoingStore.put(n,(function(t){if(t)return e&&e(t);r()}))):e&&e(new Error("No connection to broker"))},x.prototype._setupPingTimer=function(){y("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const t=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=f((function(){t._checkPing()}),1e3*this.options.keepalive))},x.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},x.prototype._checkPing=function(){y("_checkPing :: checking ping..."),this.pingResp?(y("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(y("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},x.prototype._handlePingresp=function(){this.pingResp=!0},x.prototype._handleConnack=function(t){y("_handleConnack");const e=this.options,r=e.protocolVersion,n=5===r?t.reasonCode:t.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,t.properties){if(t.properties.topicAliasMaximum){if(t.properties.topicAliasMaximum>65535)return void this.emit("error",new Error("topicAliasMaximum from broker is out of range"));t.properties.topicAliasMaximum>0&&(this.topicAliasSend=new a(t.properties.topicAliasMaximum))}t.properties.serverKeepAlive&&e.keepalive&&(e.keepalive=t.properties.serverKeepAlive,this._shiftPingInterval()),t.properties.maximumPacketSize&&(e.properties||(e.properties={}),e.properties.maximumPacketSize=t.properties.maximumPacketSize)}if(0===n)this.reconnecting=!1,this._onConnect(t);else if(n>0){const t=new Error("Connection refused: "+_[n]);t.code=n,this.emit("error",t)}},x.prototype._handleAuth=function(t){const e=this.options,r=e.protocolVersion,n=5===r?t.reasonCode:t.returnCode;if(5!==r){const t=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+r);return t.code=n,void this.emit("error",t)}const i=this;this.handleAuth(t,(function(t,e){if(t)i.emit("error",t);else if(24===n)i.reconnecting=!1,i._sendPacket(e);else{const e=new Error("Connection refused: "+_[n]);t.code=n,i.emit("error",e)}}))},x.prototype.handleAuth=function(t,e){e()},x.prototype._handlePublish=function(t,e){y("_handlePublish: packet %o",t),e="undefined"!==typeof e?e:O;let r=t.topic.toString();const n=t.payload,i=t.qos,o=t.messageId,s=this,a=this.options,u=[0,16,128,131,135,144,145,151,153];if(5===this.options.protocolVersion){let e;if(t.properties&&(e=t.properties.topicAlias),"undefined"!==typeof e)if(0===r.length){if(!(e>0&&e<=65535))return y("_handlePublish :: topic alias out of range. alias: %d",e),void this.emit("error",new Error("Received Topic Alias is out of range"));{const t=this.topicAliasRecv.getTopicByAlias(e);if(!t)return y("_handlePublish :: unregistered topic alias. alias: %d",e),void this.emit("error",new Error("Received unregistered Topic Alias"));r=t,y("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",r,e)}}else{if(!this.topicAliasRecv.put(r,e))return y("_handlePublish :: topic alias out of range. alias: %d",e),void this.emit("error",new Error("Received Topic Alias is out of range"));y("_handlePublish :: registered topic: %s - alias: %d",r,e)}}switch(y("_handlePublish: qos %d",i),i){case 2:a.customHandleAcks(r,n,t,(function(r,n){return r instanceof Error||(n=r,r=null),r?s.emit("error",r):-1===u.indexOf(n)?s.emit("error",new Error("Wrong reason code for pubrec")):void(n?s._sendPacket({cmd:"pubrec",messageId:o,reasonCode:n},e):s.incomingStore.put(t,(function(){s._sendPacket({cmd:"pubrec",messageId:o},e)})))}));break;case 1:a.customHandleAcks(r,n,t,(function(i,a){return i instanceof Error||(a=i,i=null),i?s.emit("error",i):-1===u.indexOf(a)?s.emit("error",new Error("Wrong reason code for puback")):(a||s.emit("message",r,n,t),void s.handleMessage(t,(function(t){if(t)return e&&e(t);s._sendPacket({cmd:"puback",messageId:o,reasonCode:a},e)})))}));break;case 0:this.emit("message",r,n,t),this.handleMessage(t,e);break;default:y("_handlePublish: unknown QoS. Doing nothing.");break}},x.prototype.handleMessage=function(t,e){e()},x.prototype._handleAck=function(t){const e=t.messageId,r=t.cmd;let n=null;const i=this.outgoing[e]?this.outgoing[e].cb:null,o=this;let s;if(i){switch(y("_handleAck :: packet type",r),r){case"pubcomp":case"puback":{const r=t.reasonCode;r&&r>0&&16!==r&&(s=new Error("Publish error: "+_[r]),s.code=r,i(s,t)),delete this.outgoing[e],this.outgoingStore.del(t,i),this.messageIdProvider.deallocate(e),this._invokeStoreProcessingQueue();break}case"pubrec":{n={cmd:"pubrel",qos:2,messageId:e};const r=t.reasonCode;r&&r>0&&16!==r?(s=new Error("Publish error: "+_[r]),s.code=r,i(s,t)):this._sendPacket(n);break}case"suback":delete this.outgoing[e],this.messageIdProvider.deallocate(e);for(let r=0;r<t.granted.length;r++)if(0!==(128&t.granted[r])){const t=this.messageIdToTopic[e];t&&t.forEach((function(t){delete o._resubscribeTopics[t]}))}this._invokeStoreProcessingQueue(),i(null,t);break;case"unsuback":delete this.outgoing[e],this.messageIdProvider.deallocate(e),this._invokeStoreProcessingQueue(),i(null);break;default:o.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}else y("_handleAck :: Server sent an ack in error. Ignoring.")},x.prototype._handlePubrel=function(t,e){y("handling pubrel packet"),e="undefined"!==typeof e?e:O;const r=t.messageId,n=this,i={cmd:"pubcomp",messageId:r};n.incomingStore.get(t,(function(t,r){t?n._sendPacket(i,e):(n.emit("message",r.topic,r.payload,r),n.handleMessage(r,(function(t){if(t)return e(t);n.incomingStore.del(r,O),n._sendPacket(i,e)})))}))},x.prototype._handleDisconnect=function(t){this.emit("disconnect",t)},x.prototype._nextId=function(){return this.messageIdProvider.allocate()},x.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},x.prototype._resubscribe=function(){y("_resubscribe");const t=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!this.connackPacket.sessionPresent)&&t.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){y("_resubscribe: protocolVersion 5");for(let e=0;e<t.length;e++){const r={};r[t[e]]=this._resubscribeTopics[t[e]],r.resubscribe=!0,this.subscribe(r,{properties:r[t[e]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},x.prototype._onConnect=function(t){if(this.disconnected)return void this.emit("connect",t);const e=this;function r(){let n=e.outgoingStore.createStream();function i(){e._storeProcessing=!1,e._packetIdsDuringStoreProcessing={}}function o(){n.destroy(),n=null,e._flushStoreProcessingQueue(),i()}function s(){if(!n)return;e._storeProcessing=!0;const t=n.read(1);let r;t?e._packetIdsDuringStoreProcessing[t.messageId]?s():e.disconnecting||e.reconnectTimer?n.destroy&&n.destroy():(r=e.outgoing[t.messageId]?e.outgoing[t.messageId].cb:null,e.outgoing[t.messageId]={volatile:!1,cb:function(t,e){r&&r(t,e),s()}},e._packetIdsDuringStoreProcessing[t.messageId]=!0,e.messageIdProvider.register(t.messageId)?e._sendPacket(t):y("messageId: %d has already used.",t.messageId)):n.once("readable",s)}e.once("close",o),n.on("error",(function(t){i(),e._flushStoreProcessingQueue(),e.removeListener("close",o),e.emit("error",t)})),n.on("end",(function(){let n=!0;for(const t in e._packetIdsDuringStoreProcessing)if(!e._packetIdsDuringStoreProcessing[t]){n=!1;break}n?(i(),e.removeListener("close",o),e._invokeAllStoreProcessingQueue(),e.emit("connect",t)):r()})),s()}this.connackPacket=t,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0,r()},x.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const t=this._storeProcessingQueue[0];if(t&&t.invoke())return this._storeProcessingQueue.shift(),!0}return!1},x.prototype._invokeAllStoreProcessingQueue=function(){while(this._invokeStoreProcessingQueue());},x.prototype._flushStoreProcessingQueue=function(){for(const t of this._storeProcessingQueue)t.cbStorePut&&t.cbStorePut(new Error("Connection closed")),t.callback&&t.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},t.exports=x}).call(this,r("f28c"),r("c8ba"))},e099:function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"===typeof t?o(s(t),(function(s){var a=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],(function(t){return a+encodeURIComponent(n(t))})).join(e):a+encodeURIComponent(n(t[s]))})).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},e7d0:function(t,e,r){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.aliasToTopic={},this.max=t}n.prototype.put=function(t,e){return!(0===e||e>this.max)&&(this.aliasToTopic[e]=t,this.length=Object.keys(this.aliasToTopic).length,!0)},n.prototype.getTopicByAlias=function(t){return this.aliasToTopic[t]},n.prototype.clear=function(){this.aliasToTopic={}},t.exports=n},e7fc:function(t,e,r){"use strict";(function(e){const n=r("df86"),i=r("ea08"),o=r("0b16"),s=r("53a8"),a=r("34eb")("mqttjs"),u={};function c(t){let e;t.auth&&(e=t.auth.match(/^(.+):(.+)$/),e?(t.username=e[1],t.password=e[2]):t.username=t.auth)}function l(t,e){if(a("connecting to an MQTT broker..."),"object"!==typeof t||e||(e=t,t=null),e=e||{},t){const r=o.parse(t,!0);if(null!=r.port&&(r.port=Number(r.port)),e=s(r,e),null===e.protocol)throw new Error("Missing protocol");e.protocol=e.protocol.replace(/:$/,"")}if(c(e),e.query&&"string"===typeof e.query.clientId&&(e.clientId=e.query.clientId),e.cert&&e.key){if(!e.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(e.protocol))switch(e.protocol){case"mqtt":e.protocol="mqtts";break;case"ws":e.protocol="wss";break;case"wx":e.protocol="wxs";break;case"ali":e.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+e.protocol+'"!')}}if(!u[e.protocol]){const t=-1!==["mqtts","wss"].indexOf(e.protocol);e.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((function(e,r){return(!t||r%2!==0)&&"function"===typeof u[e]}))[0]}if(!1===e.clean&&!e.clientId)throw new Error("Missing clientId for unclean clients");function r(t){return e.servers&&(t._reconnectCount&&t._reconnectCount!==e.servers.length||(t._reconnectCount=0),e.host=e.servers[t._reconnectCount].host,e.port=e.servers[t._reconnectCount].port,e.protocol=e.servers[t._reconnectCount].protocol?e.servers[t._reconnectCount].protocol:e.defaultProtocol,e.hostname=e.host,t._reconnectCount++),a("calling streambuilder for",e.protocol),u[e.protocol](t,e)}e.protocol&&(e.defaultProtocol=e.protocol);const i=new n(r,e);return i.on("error",(function(){})),i}"undefined"!==typeof e&&"browser"!==e.title||"function"!==typeof r?(u.mqtt=r("05ee"),u.tcp=r("05ee"),u.ssl=r("fe3c"),u.tls=r("fe3c"),u.mqtts=r("fe3c")):(u.wx=r("8311"),u.wxs=r("8311"),u.ali=r("c4c7"),u.alis=r("c4c7")),u.ws=r("fcb9"),u.wss=r("fcb9"),t.exports=l,t.exports.connect=l,t.exports.MqttClient=n,t.exports.Store=i}).call(this,r("f28c"))},e937:function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,r){return e=c(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=l(t,"string");return"symbol"===typeof e?e:String(e)}function l(t,e){if("object"!==typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var h=r("b639"),f=h.Buffer,p=r(6),d=p.inspect,b=d&&d.custom||"inspect";function y(t,e,r){f.prototype.copy.call(t,e,r)}t.exports=function(){function t(){s(this,t),this.head=null,this.tail=null,this.length=0}return u(t,[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";var e=this.head,r=""+e.data;while(e=e.next)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return f.alloc(0);var e=f.allocUnsafe(t>>>0),r=this.head,n=0;while(r)y(r.data,e,n),n+=r.data.length,r=r.next;return e}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;t-=n.length;while(e=e.next){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),t-=o,0===t){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=f.allocUnsafe(t),r=this.head,n=1;r.data.copy(e),t-=r.data.length;while(r=r.next){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),t-=o,0===t){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:b,value:function(t,e){return d(this,i(i({},e),{},{depth:0,customInspect:!1}))}}]),t}()},ea08:function(t,e,r){"use strict";const n=r("53a8"),i=r("035d").Readable,o={objectMode:!0},s={clean:!0};function a(t){if(!(this instanceof a))return new a(t);this.options=t||{},this.options=n(s,t),this._inflights=new Map}a.prototype.put=function(t,e){return this._inflights.set(t.messageId,t),e&&e(),this},a.prototype.createStream=function(){const t=new i(o),e=[];let r=!1,n=0;return this._inflights.forEach((function(t,r){e.push(t)})),t._read=function(){!r&&n<e.length?this.push(e[n++]):this.push(null)},t.destroy=function(){if(r)return;const t=this;r=!0,setTimeout((function(){t.emit("close")}),0)},t},a.prototype.del=function(t,e){return t=this._inflights.get(t.messageId),t?(this._inflights.delete(t.messageId),e(null,t)):e&&e(new Error("missing packet")),this},a.prototype.get=function(t,e){return t=this._inflights.get(t.messageId),t?e(null,t):e&&e(new Error("missing packet")),this},a.prototype.close=function(t){this.options.clean&&(this._inflights=null),t&&t()},t.exports=a},edb3:function(t,e,r){"use strict";(function(e){function r(t,r){var o=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(s,this,t)):e.nextTick(s,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!r&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(i,o):(o._writableState.errorEmitted=!0,e.nextTick(n,o,t)):e.nextTick(n,o,t):r?(e.nextTick(i,o),r(t)):e.nextTick(i,o)})),this)}function n(t,e){s(t,e),i(t)}function i(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(t,e){t.emit("error",e)}function a(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}t.exports={destroy:r,undestroy:o,errorOrDestroy:a}}).call(this,r("f28c"))},f0cb:function(t,e,r){(function(e){const r=65536,n={},i=e.isBuffer(e.from([1,2]).subarray(0,1));function o(t){const r=e.allocUnsafe(2);return r.writeUInt8(t>>8,0),r.writeUInt8(255&t,1),r}function s(){for(let t=0;t<r;t++)n[t]=o(t)}function a(t){const r=4;let n=0,o=0;const s=e.allocUnsafe(r);do{n=t%128|0,t=t/128|0,t>0&&(n|=128),s.writeUInt8(n,o++)}while(t>0&&o<r);return t>0&&(o=0),i?s.subarray(0,o):s.slice(0,o)}function u(t){const r=e.allocUnsafe(4);return r.writeUInt32BE(t,0),r}t.exports={cache:n,generateCache:s,generateNumber:o,genBufVariableByteInt:a,generate4ByteBuffer:u}}).call(this,r("b639").Buffer)},f214:function(t,e,r){e=t.exports=r("0e8b"),e.Stream=e,e.Readable=e,e.Writable=r("f6ba"),e.Duplex=r("a493"),e.Transform=r("fe34"),e.PassThrough=r("9d37"),e.finished=r("bf09"),e.pipeline=r("386b7")},f482:function(t,e,r){"use strict";(function(e){function r(t,r){var o=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(s,this,t)):e.nextTick(s,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!r&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(i,o):(o._writableState.errorEmitted=!0,e.nextTick(n,o,t)):e.nextTick(n,o,t):r?(e.nextTick(i,o),r(t)):e.nextTick(i,o)})),this)}function n(t,e){s(t,e),i(t)}function i(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(t,e){t.emit("error",e)}function a(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}t.exports={destroy:r,undestroy:o,errorOrDestroy:a}}).call(this,r("f28c"))},f688:function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,r){return e=c(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=l(t,"string");return"symbol"===typeof e?e:String(e)}function l(t,e){if("object"!==typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var h=r("b639"),f=h.Buffer,p=r(4),d=p.inspect,b=d&&d.custom||"inspect";function y(t,e,r){f.prototype.copy.call(t,e,r)}t.exports=function(){function t(){s(this,t),this.head=null,this.tail=null,this.length=0}return u(t,[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";var e=this.head,r=""+e.data;while(e=e.next)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return f.alloc(0);var e=f.allocUnsafe(t>>>0),r=this.head,n=0;while(r)y(r.data,e,n),n+=r.data.length,r=r.next;return e}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;t-=n.length;while(e=e.next){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),t-=o,0===t){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=f.allocUnsafe(t),r=this.head,n=1;r.data.copy(e),t-=r.data.length;while(r=r.next){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),t-=o,0===t){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:b,value:function(t,e){return d(this,i(i({},e),{},{depth:0,customInspect:!1}))}}]),t}()},f6ba:function(t,e,r){"use strict";(function(e,n){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){V(e,t)}}var o;t.exports=R,R.WritableState=A;var s={deprecate:r("b7d1")},a=r("b98b"),u=r("b639").Buffer,c=("undefined"!==typeof e?e:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};function l(t){return u.from(t)}function h(t){return u.isBuffer(t)||t instanceof c}var f,p=r("f482"),d=r("86c6"),b=d.getHighWaterMark,y=r("9bfc").codes,g=y.ERR_INVALID_ARG_TYPE,m=y.ERR_METHOD_NOT_IMPLEMENTED,v=y.ERR_MULTIPLE_CALLBACK,w=y.ERR_STREAM_CANNOT_PIPE,_=y.ERR_STREAM_DESTROYED,S=y.ERR_STREAM_NULL_VALUES,E=y.ERR_STREAM_WRITE_AFTER_END,k=y.ERR_UNKNOWN_ENCODING,T=p.errorOrDestroy;function M(){}function A(t,e,n){o=o||r("a493"),t=t||{},"boolean"!==typeof n&&(n=e instanceof o),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=b(this,t,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){B(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function R(t){o=o||r("a493");var e=this instanceof o;if(!e&&!f.call(R,this))return new R(t);this._writableState=new A(t,this,e),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),a.call(this)}function O(t,e){var r=new E;T(t,r),n.nextTick(e,r)}function x(t,e,r,i){var o;return null===r?o=new S:"string"===typeof r||e.objectMode||(o=new g("chunk",["string","Buffer"],r)),!o||(T(t,o),n.nextTick(i,o),!1)}function I(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=u.from(e,r)),e}function P(t,e,r,n,i,o){if(!r){var s=I(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else C(t,e,!1,a,n,i,o);return u}function C(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new _("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function j(t,e,r,i,o){--e.pendingcb,r?(n.nextTick(o,i),n.nextTick(W,t,e),t._writableState.errorEmitted=!0,T(t,i)):(o(i),t._writableState.errorEmitted=!0,T(t,i),W(t,e))}function N(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function B(t,e){var r=t._writableState,i=r.sync,o=r.writecb;if("function"!==typeof o)throw new v;if(N(r),e)j(t,r,i,e,o);else{var s=U(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||q(t,r),i?n.nextTick(L,t,r,s,o):L(t,r,s,o)}}function L(t,e,r,n){r||D(t,e),e.pendingcb--,n(),W(t,e)}function D(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function q(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,o=new Array(n),s=e.corkedRequestsFree;s.entry=r;var a=0,u=!0;while(r)o[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;o.allBuffers=u,C(t,e,!0,e.length,o,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{while(r){var c=r.chunk,l=r.encoding,h=r.callback,f=e.objectMode?1:c.length;if(C(t,e,!1,f,c,l,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function U(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function F(t,e){t._final((function(r){e.pendingcb--,r&&T(t,r),e.prefinished=!0,t.emit("prefinish"),W(t,e)}))}function K(t,e){e.prefinished||e.finalCalled||("function"!==typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,n.nextTick(F,t,e)))}function W(t,e){var r=U(e);if(r&&(K(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function H(t,e,r){e.ending=!0,W(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function V(t,e,r){var n=t.entry;t.entry=null;while(n){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}r("3fb5")(R,a),A.prototype.getBuffer=function(){var t=this.bufferedRequest,e=[];while(t)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(A.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(t){return!!f.call(this,t)||this===R&&(t&&t._writableState instanceof A)}})):f=function(t){return t instanceof this},R.prototype.pipe=function(){T(this,new w)},R.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&h(t);return o&&!u.isBuffer(t)&&(t=l(t)),"function"===typeof e&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),"function"!==typeof r&&(r=M),n.ending?O(this,r):(o||x(this,n,t,r))&&(n.pendingcb++,i=P(this,n,o,t,e,r)),i},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||q(this,t))},R.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new k(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(t,e,r){r(new m("_write()"))},R.prototype._writev=null,R.prototype.end=function(t,e,r){var n=this._writableState;return"function"===typeof t?(r=t,t=null,e=null):"function"===typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||H(this,n,r),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),R.prototype.destroy=p.destroy,R.prototype._undestroy=p.undestroy,R.prototype._destroy=function(t,e){e(t)}}).call(this,r("c8ba"),r("f28c"))},f9c1:function(t,e){function r(t){var e=t._readableState;return e?e.objectMode||"number"===typeof t._duplexState?t.read():t.read(n(e)):null}function n(t){return t.buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length}t.exports=r},faa1:function(t,e,r){"use strict";var n,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};function s(t){console&&console.warn&&console.warn(t)}n=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!==t};function u(){u.init.call(this)}t.exports=u,t.exports.once=w,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function l(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?u.defaultMaxListeners:t._maxListeners}function f(t,e,r,n){var i,o,a;if(l(r),o=t._events,void 0===o?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),void 0===a)a=o[e]=r,++t._eventsCount;else if("function"===typeof a?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=h(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s(u)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=p.bind(n);return i.listener=r,n.wrapFn=i,i}function b(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?v(i):g(i,i.length)}function y(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function m(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function v(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function w(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"===typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}S(t,e,o,{once:!0}),"error"!==e&&_(t,i,{once:!0})}))}function _(t,e,r){"function"===typeof t.on&&S(t,"error",e,r)}function S(t,e,r,n){if("function"===typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!==typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!==typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},u.prototype.getMaxListeners=function(){return h(this)},u.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[t];if(void 0===u)return!1;if("function"===typeof u)o(u,this,e);else{var c=u.length,l=g(u,c);for(r=0;r<c;++r)o(l[r],this,e)}return!0},u.prototype.addListener=function(t,e){return f(this,t,e,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(t,e){return f(this,t,e,!0)},u.prototype.once=function(t,e){return l(e),this.on(t,d(this,t,e)),this},u.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,d(this,t,e)),this},u.prototype.removeListener=function(t,e){var r,n,i,o,s;if(l(e),n=this._events,void 0===n)return this;if(r=n[t],void 0===r)return this;if(r===e||r.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!==typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():m(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(t){var e,r,n;if(r=this._events,void 0===r)return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)i=o[n],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[t],"function"===typeof e)this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},u.prototype.listeners=function(t){return b(this,t,!0)},u.prototype.rawListeners=function(t){return b(this,t,!1)},u.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},fbd7:function(t,e,r){"use strict";function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i={};function o(t,e,r){function o(t,r,n){return"string"===typeof e?e:e(t,r,n)}r||(r=Error);var s=function(t){function e(e,r,n){return t.call(this,o(e,r,n))||this}return n(e,t),e}(r);s.prototype.name=r.name,s.prototype.code=t,i[t]=s}function s(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}function a(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function u(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function c(t,e,r){return"number"!==typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}o("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,i;if("string"===typeof e&&a(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be",u(t," argument"))i="The ".concat(t," ").concat(n," ").concat(s(e,"type"));else{var o=c(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(s(e,"type"))}return i+=". Received type ".concat(typeof r),i}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},fcb9:function(t,e,r){"use strict";(function(e){const{Buffer:n}=r("b639"),i=r("a9b9"),o=r("34eb")("mqttjs:ws"),s=r("56ac"),a=r("035d").Transform,u=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],c="undefined"!==typeof e&&"browser"===e.title||"function"===typeof r;function l(t,e){let r=t.protocol+"://"+t.hostname+":"+t.port+t.path;return"function"===typeof t.transformWsUrl&&(r=t.transformWsUrl(r,t,e)),r}function h(t){const e=t;return t.hostname||(e.hostname="localhost"),t.port||("wss"===t.protocol?e.port=443:e.port=80),t.path||(e.path="/"),t.wsOptions||(e.wsOptions={}),c||"wss"!==t.protocol||u.forEach((function(r){Object.prototype.hasOwnProperty.call(t,r)&&!Object.prototype.hasOwnProperty.call(t.wsOptions,r)&&(e.wsOptions[r]=t[r])})),e}function f(t){const e=h(t);if(e.hostname||(e.hostname=e.host),!e.hostname){if("undefined"===typeof document)throw new Error("Could not determine host. Specify host manually.");const t=new URL(document.URL);e.hostname=t.hostname,e.port||(e.port=t.port)}return void 0===e.objectMode&&(e.objectMode=!(!0===e.binary||void 0===e.binary)),e}function p(t,e,r){o("createWebSocket"),o("protocol: "+r.protocolId+" "+r.protocolVersion);const n="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";o("creating new Websocket for url: "+e+" and protocol: "+n);const s=new i(e,[n],r.wsOptions);return s}function d(t,e){const r="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt",n=l(e,t),i=new WebSocket(n,[r]);return i.binaryType="arraybuffer",i}function b(t,e){o("streamBuilder");const r=h(e),n=l(r,t),s=p(t,n,r),a=i.createWebSocketStream(s,r.wsOptions);return a.url=n,s.on("close",()=>{a.destroy()}),a}function y(t,e){let r;o("browserStreamBuilder");const i=f(e),u=i.browserBufferSize||524288,c=e.browserBufferTimeout||1e3,l=!e.objectMode,h=d(t,e),p=y(e,S,E);e.objectMode||(p._writev=_),p.on("close",()=>{h.close()});const b="undefined"!==typeof h.addEventListener;function y(t,e,r){const n=new a({objectModeMode:t.objectMode});return n._write=e,n._flush=r,n}function g(){r.setReadable(p),r.setWritable(p),r.emit("connect")}function m(){r.end(),r.destroy()}function v(t){r.destroy(t)}function w(t){let e=t.data;e=e instanceof ArrayBuffer?n.from(e):n.from(e,"utf8"),p.push(e)}function _(t,e){const r=new Array(t.length);for(let i=0;i<t.length;i++)"string"===typeof t[i].chunk?r[i]=n.from(t[i],"utf8"):r[i]=t[i].chunk;this._write(n.concat(r),"binary",e)}function S(t,e,r){h.bufferedAmount>u&&setTimeout(S,c,t,e,r),l&&"string"===typeof t&&(t=n.from(t,"utf8"));try{h.send(t)}catch(i){return r(i)}r()}function E(t){h.close(),t()}return h.readyState===h.OPEN?r=p:(r=r=s(void 0,void 0,e),e.objectMode||(r._writev=_),b?h.addEventListener("open",g):h.onopen=g),r.socket=h,b?(h.addEventListener("close",m),h.addEventListener("error",v),h.addEventListener("message",w)):(h.onclose=m,h.onerror=v,h.onmessage=w),r}t.exports=c?y:b}).call(this,r("f28c"))},fe34:function(t,e,r){"use strict";t.exports=l;var n=r("9bfc").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r("a493");function c(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);u.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!==typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,r){f(t,e,r)}))}function f(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}r("3fb5")(l,u),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}},fe3c:function(t,e,r){"use strict";const n=r(7),i=r(1),o=r("34eb")("mqttjs:tls");function s(t,e){e.port=e.port||8883,e.host=e.hostname||e.host||"localhost",0===i.isIP(e.host)&&(e.servername=e.host),e.rejectUnauthorized=!1!==e.rejectUnauthorized,delete e.path,o("port %d host %s rejectUnauthorized %b",e.port,e.host,e.rejectUnauthorized);const r=n.connect(e);function s(n){e.rejectUnauthorized&&t.emit("error",n),r.end()}return r.on("secureConnect",(function(){e.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",s)})),r.on("error",s),r}t.exports=s}}]);