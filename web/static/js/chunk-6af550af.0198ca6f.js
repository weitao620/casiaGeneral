(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6af550af","chunk-176b6dca"],{"5dbc":function(e,t,i){var a=i("d3f4"),r=i("8b97").set;e.exports=function(e,t,i){var n,l=t.constructor;return l!==i&&"function"==typeof l&&(n=l.prototype)!==i.prototype&&a(n)&&r&&r(e,n),e}},"8b97":function(e,t,i){var a=i("d3f4"),r=i("cb7c"),n=function(e,t){if(r(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,i){return n(e,i),t?e.__proto__=i:a(e,i),e}}({},!1):void 0),check:n}},"8fff":function(e,t,i){},"9ea0":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field_wrap"},[a("div",{staticClass:"com_title"},[a("div",{staticClass:"c_titles"},[e._m(0),a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("字段管理")])],1)],1)]),a("div",{staticClass:"tables_box"},[a("div",{staticClass:"search_title center_o_title"},[e._v("\n      字段设置\n    ")]),a("div",{staticClass:"power_tabs"},[a("div",{staticClass:"p_tab_box",style:{width:140*e.tabList.length/100+"rem"}},e._l(e.tabList,(function(t){return a("div",{key:t.type,class:["p_tab_btn",e.powerActive==t.type?"p_tab_act":""],on:{click:function(i){return e.powerTab(t.type)}}},[e._v("\n          "+e._s(t.name)+"\n        ")])})),0)]),e.dataList.length>0?[a("el-table",{attrs:{border:"",data:e.dataList,"span-method":e.objectSpanMethod},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"model",label:""}}),a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{prop:"fieldName",label:"字段名称"}}),a("el-table-column",{attrs:{prop:"fieldType",label:"字段类型"}}),a("el-table-column",{attrs:{prop:"enable",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.enable&&0==t.row.required&&0==t.row.ifEnable&&0==t.row.ifRequired?a("div",{staticClass:"naturalize"},[a("span",[e._v("/")])]):a("div",{staticClass:"naturalize"},[t.row.enable?a("img",{attrs:{src:i("b583"),alt:""}}):a("img",{attrs:{src:i("af65"),alt:""}}),a("span",[e._v(e._s(1==t.row.enable?"启用":"停用"))])])]}}],null,!1,1446136939)}),a("el-table-column",{attrs:{prop:"required",label:"必填"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.enable&&0==t.row.required&&0==t.row.ifEnable&&0==t.row.ifRequired?a("div",{staticClass:"naturalize"},[a("span",[e._v("/")])]):a("div",{staticClass:"naturalize"},[1==t.row.required?a("span",{staticStyle:{color:"#FE5FB8","margin-right":"0.04rem","margin-top":"0.05rem"}},[e._v("*")]):e._e(),a("span",[e._v(e._s(1==t.row.required?"必填":"非必填"))])])]}}],null,!1,2014642674)}),a("el-table-column",{attrs:{prop:"option",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",disabled:0==t.row.ifModify},on:{click:function(i){return e.fixField(t.row)}}},[e._v("编辑")])]}}],null,!1,2069398438)})],1)]:e._e()],2),a("el-dialog",{staticClass:"dialog_field",attrs:{"close-on-click-modal":!1,title:"编辑字段",visible:e.dialogField},on:{"update:visible":function(t){e.dialogField=t}}},[a("el-form",{attrs:{model:e.fieldForm}},[a("el-form-item",{attrs:{required:"",label:"显示名称:"}},[a("el-input",{attrs:{placeholder:"请输入字段名称"},model:{value:e.fieldForm.fieldName,callback:function(t){e.$set(e.fieldForm,"fieldName",t)},expression:"fieldForm.fieldName"}})],1),0!=e.fieldForm.enable||0!=e.fieldForm.required||0!=e.ifEnable||0!=e.ifRequired?a("el-form-item",{attrs:{label:"状态:"}},[a("el-radio-group",{attrs:{disabled:0==e.ifEnable},model:{value:e.fieldForm.enable,callback:function(t){e.$set(e.fieldForm,"enable",t)},expression:"fieldForm.enable"}},[a("el-radio",{attrs:{label:1}},[e._v("启用")]),a("el-radio",{attrs:{label:0}},[e._v("停用")])],1)],1):e._e(),0!=e.fieldForm.enable||0!=e.fieldForm.required||0!=e.ifEnable||0!=e.ifRequired?a("el-form-item",{attrs:{label:"是否必填:"}},[a("el-radio-group",{attrs:{disabled:0==e.ifRequired},model:{value:e.fieldForm.required,callback:function(t){e.$set(e.fieldForm,"required",t)},expression:"fieldForm.required"}},[a("el-radio",{attrs:{label:1}},[e._v("是    ")]),a("el-radio",{attrs:{label:0}},[e._v("否    ")])],1)],1):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogField=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.fieldSubmit}},[e._v("确 定")])],1)],1)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"com_cir"},[a("img",{attrs:{src:i("becf"),alt:""}})])}],n=(i("c5f6"),i("ac6a"),i("e86e")),l={name:"report",data:function(){return{dialogAddRole:!1,roleForm:{roleID:"",name:"",roleAuthNotice:"",enable:"",roleAuthID:"",inheritRoleID:"",remark:"",copy:!1,role:""},limit:10,total:0,pageNum:1,currentPage:1,listData:[],checkList:[],powerActive:1e4,tabList:[{type:1e4,name:"基础设置"},{type:2e4,name:"组织架构"},{type:3e4,name:"用户设置"},{type:4e4,name:"管理员设置"}],dataList:[],dialogField:!1,fieldForm:{fieldName:"",enable:"",required:"0"},ifEnable:1,ifRequired:1}},created:function(){},mounted:function(){this.getInit(),this.getList()},methods:{fixField:function(e){this.ifEnable=e.ifEnable,this.ifRequired=e.ifRequired,this.fieldForm={fieldId:e.fieldId,fieldName:e.fieldName,enable:e.enable,required:e.required},this.dialogField=!0},fieldSubmit:function(){var e=this,t={fieldId:this.fieldForm.fieldId,fieldName:this.fieldForm.fieldName,enable:this.fieldForm.enable,required:this.fieldForm.required};this.$http.put(n["a"]+"/aimw/field/updateFieldInfo",t).then((function(t){var i=t.data;0==i.code?(e.dialogField=!1,e.getList(),e.$message.success("更新成功！")):e.$message.error(i.msg)})).catch((function(e){console.log(e)}))},objectSpanMethod:function(e){var t=e.row,i=(e.column,e.rowIndex,e.columnIndex);if(0===i)return this.ret(t,"firstSpan")},ret:function(e,t){return e&&0!=e[t]?{rowspan:e[t],colspan:1}:{rowspan:0,colspan:0}},computeFirstSpan:function(e){var t=this,i=function(i){var a=t.dataList.filter((function(t){return t.fieldId===e[i][0]}))[0];a&&(a["firstSpan"]=e[i].length)};for(var a in e)i(a)},computeSecondSpan:function(e,t){var i=this,a=function(a){var r=t[a].filter((function(t){return e.indexOf(t)>-1}));i.dataList.filter((function(e){return e.fieldId===r[0]}))[0]};for(var r in t)a(r)},buildMerge:function(e){for(var t={},i="",a=0,r=e.length;a<r;a++)i=e[a].model,t[i]?t[i].push(e[a].fieldId):t[i]=new Array(e[a].fieldId);this.computeFirstSpan(t)},powerTab:function(e){this.powerActive=e,this.getList()},indexMethod:function(e){var t=this;return e+1+t.limit*(this.currentPage-1)},getInit:function(){var e=this;e.$http.get(n["a"]+"/aimw/role/listRolesInfo").then((function(t){var i=t.data.data;0==t.data.code?e.listData=i?i.results:[]:e.$message.error(t.data.msg)})).catch((function(t){e.$message.error(t.data.msg)}))},getList:function(){var e=this,t=this,i={fieldId:this.powerActive};t.$http.get(n["a"]+"/aimw/field/listFieldInfo",{params:i}).then((function(i){var a=i.data.data;if(0==i.data.code){if(a){var r=a[0].fieldName,n=1;a.forEach((function(e,t){n=Number(t)+1;var i=String(e.fieldId).substring(0,3);if(a[n]){var l=String(a[n].fieldId).substring(0,3);n>a.length+1||(e.model=r,i!=l&&(r=a[n].fieldName))}else a[t].model=a[t-1].model}));var l=[];for(var o in a)a[o].fieldId=String(a[o].fieldId),a[o].model==a[o].fieldName&&""==a[o].fieldType||l.push(a[o]);e.dataList=l,e.buildMerge(e.dataList)}}else t.$message.error(i.data.msg)})).catch((function(e){t.$message.error(e.data.msg)}))},enableChange:function(e){var t=this,i=this,a={},r="/aimw/role/updateRoleInfo";a={roleID:e.roleID,roleName:e.roleName,roleAuthNotice:e.roleAuthNotice,inheritRoleID:e.inheritRoleID},e.enable?a.enable=1:a.enable=0,i.$http.put(n["a"]+r,a).then((function(e){var i=e.data;0==i.code?(t.dialogAddRole=!1,t.resetForm("roleForm")):t.$message.error(i.msg)})).catch((function(e){console.log(e)}))},resetForm:function(e){this.$refs[e].resetFields()},someDelete:function(){var e=this;if(0==this.checkList.length)return this.$message({type:"warning",message:"没有选择要删除的字段!"}),!1;var t=[];for(var i in this.checkList)t.push({passport:this.checkList[i].id});this.$confirm('<div class="confirm_box"><p>确定要删除所选字段？</p><p class="con_p2">删除后不可恢复</p></div>',"提示",{dangerouslyUseHTMLString:!0,cancelButtonText:"取消",confirmButtonText:"确定"}).then((function(){e.$http.delete(n["a"]+"/aimw/teacher/deleteTeachers",{data:t}).then((function(t){var i=t.data;0==i.code?(e.$message({type:"success",message:"删除成功!"}),e.getList(e.currentPage)):e.$message({type:"error",message:"删除失败!"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},singleDelete:function(e){var t=this;this.$confirm('<div class="confirm_box"><p>确定要删除当前字段？</p><p class="con_p2">删除后不可恢复</p></div>',"提示",{dangerouslyUseHTMLString:!0,cancelButtonText:"取消",confirmButtonText:"确定"}).then((function(){var i=[{passport:e.passport}];t.$http.delete(n["a"]+"/aimw/teacher/deleteTeachers",{data:i}).then((function(e){var i=e.data;0==i.code?(t.$message({type:"success",message:"删除成功!"}),t.getList(t.currentPage)):t.$message({type:"error",message:"删除失败!"})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(e){this.checkList=e},sortChange:function(e){}}},o=l,s=(i("eb41"),i("2877")),c=Object(s["a"])(o,a,r,!1,null,null,null);t["default"]=c.exports},aa77:function(e,t,i){var a=i("5ca1"),r=i("be13"),n=i("79e5"),l=i("fdef"),o="["+l+"]",s="​",c=RegExp("^"+o+o+"*"),d=RegExp(o+o+"*$"),u=function(e,t,i){var r={},o=n((function(){return!!l[e]()||s[e]()!=s})),c=r[e]=o?t(f):l[e];i&&(r[i]=c),a(a.P+a.F*o,"String",r)},f=u.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(d,"")),e};e.exports=u},af65:function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUEzRTFERkQzRTBBMTFFQzk0Q0VFMDE5NDg0MTREMkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUEzRTFERkUzRTBBMTFFQzk0Q0VFMDE5NDg0MTREMkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QTNFMURGQjNFMEExMUVDOTRDRUUwMTk0ODQxNEQyRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QTNFMURGQzNFMEExMUVDOTRDRUUwMTk0ODQxNEQyRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnM0blgAAABzSURBVHjaYvzffJ8BCFSBuAOIXRggYA8QVwDxbRYgoQ7EJ4BYgAEBgoDYCYgtmIBEG5okDIDE2piQjMUG3FgYfvxgwAdY/n/7sgdqJzawi/Ff2gENIOM4Fnd8AGJLJoafP24AsQUQrwPiz1C8Dip2AyDAANn/KM4ffjAuAAAAAElFTkSuQmCC"},b583:function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUEzRTFERjkzRTBBMTFFQzk0Q0VFMDE5NDg0MTREMkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUEzRTFERkEzRTBBMTFFQzk0Q0VFMDE5NDg0MTREMkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QTNFMURGNzNFMEExMUVDOTRDRUUwMTk0ODQxNEQyRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QTNFMURGODNFMEExMUVDOTRDRUUwMTk0ODQxNEQyRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Poe3fGAAAAB0SURBVHjaYvT9/Z8BCFSBuAOIXRggYA8QVwDxbRYgoQ7EJ4BYgAEBgoDYCYgtWL7/YmhDk4QBkFgby6cfcGOxATeWD98Y8AKQgj1QO7GBXYwcF/9rABnHsbjjAxBbMv34zXADiC2AeB0Qf4bidVCxGwABBgAP8CtK5jzd4QAAAABJRU5ErkJggg=="},becf:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODhDRDM4ODVDRDU1MTFFQThGREVDNjRGNkE4ODZCMDMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODhDRDM4ODZDRDU1MTFFQThGREVDNjRGNkE4ODZCMDMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4OENEMzg4M0NENTUxMUVBOEZERUM2NEY2QTg4NkIwMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4OENEMzg4NENENTUxMUVBOEZERUM2NEY2QTg4NkIwMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pio4LfMAAAB6SURBVHjaYmQo/f+fgUTAAoQM/9sYGInVwFjF8J8JpIlEaxiYGNhI1MQG0sROoiZ2sm3iIFETB8hbQOsYyxiID3YtELHsPwgwEItB6hkZ1mJE7hcg5sHDZ8A0aQuqzeh8EGbCFjp4+aBU8R/qOsb9hAPjvyMkuQEEGABKVl6SZq3CDAAAAABJRU5ErkJggg=="},c5f6:function(e,t,i){"use strict";var a=i("7726"),r=i("69a8"),n=i("2d95"),l=i("5dbc"),o=i("6a99"),s=i("79e5"),c=i("9093").f,d=i("11e9").f,u=i("86cc").f,f=i("aa77").trim,g="Number",m=a[g],b=m,A=m.prototype,p=n(i("2aeb")(A))==g,h="trim"in String.prototype,I=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=h?t.trim():f(t,3);var i,a,r,n=t.charCodeAt(0);if(43===n||45===n){if(i=t.charCodeAt(2),88===i||120===i)return NaN}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+t}for(var l,s=t.slice(2),c=0,d=s.length;c<d;c++)if(l=s.charCodeAt(c),l<48||l>r)return NaN;return parseInt(s,a)}}return+t};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof m&&(p?s((function(){A.valueOf.call(i)})):n(i)!=g)?l(new b(I(t)),i,m):I(t)};for(var v,R=i("9e1e")?c(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;R.length>E;E++)r(b,v=R[E])&&!r(m,v)&&u(m,v,d(b,v));m.prototype=A,A.constructor=m,i("2aba")(a,g,m)}},eb41:function(e,t,i){"use strict";i("8fff")},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);